<!DOCTYPE html>
<!-- CACHE BUST: v2 - Updated API URL to localhost -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#1a1a2e">
    <title>BevyFinder - Your Ultimate Drink Database</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Override for working page system */
        .page {
            min-height: 100vh;
            width: 100%;
            display: none;
            visibility: hidden;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
            overflow-y: auto;
        }

        .page.active {
            display: block;
            visibility: visible;
        }

        .welcome-page {
            padding: 20px;
        }

        .main-app, .favorites-page, .history-page, .tracking-page, .dashboard-page {
            padding: 0;
            overflow-y: auto;
            min-height: 100vh;
        }

        .main-app .container {
            padding: 20px;
            min-height: 100vh;
        }

        .welcome-page {
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .welcome-content {
            max-width: 600px;
            margin: 0 auto;
        }

        .container {
            width: 100%;
            max-width: none;
            margin: 0;
            padding: 0;
        }

        .btn {
            background: #ffd700;
            color: #333;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            margin: 10px;
            transition: transform 0.2s;
        }

        .btn:hover {
            transform: scale(1.05);
        }

        .primary-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            font-size: 1.2rem;
            padding: 18px 35px;
        }

        .primary-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
        }

        .secondary-btn {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: white;
            font-size: 1rem;
            padding: 12px 25px;
        }

        .secondary-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.1);
        }

        .secondary-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .primary-sidebar-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            border: 2px solid #10b981;
        }

        .primary-sidebar-btn:hover {
            background: linear-gradient(135deg, #059669, #047857);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
        }

        .night-tracker-cta {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.1));
            border: 2px solid rgba(16, 185, 129, 0.3);
            border-radius: 20px;
            padding: 30px;
            margin-top: 40px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .cta-content h3 {
            color: #10b981;
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .cta-content p {
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        /* Session Summary Popup Styles */
        .session-summary-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .session-summary-overlay.show {
            opacity: 1;
        }

        .session-summary-popup {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .session-summary-overlay.show .session-summary-popup {
            transform: scale(1);
        }

        .summary-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }

        .summary-header h2 {
            color: #ffd700;
            font-size: 1.8rem;
            margin: 0;
        }

        .close-summary-btn {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: none;
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-summary-btn:hover {
            background: rgba(239, 68, 68, 0.3);
            transform: scale(1.1);
        }

        .summary-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .summary-stat {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: transform 0.3s ease;
        }

        .summary-stat:hover {
            transform: translateY(-3px);
        }

        .summary-stat .stat-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #10b981, #059669);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            color: white;
        }

        .summary-stat .stat-content h3 {
            color: white;
            font-size: 0.9rem;
            margin: 0 0 5px 0;
            opacity: 0.8;
        }

        .summary-stat .stat-content p {
            color: #ffd700;
            font-size: 1.4rem;
            font-weight: bold;
            margin: 0;
        }

        .summary-stat .stat-content small {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.8rem;
        }

        .summary-drinks {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .summary-drinks h3 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .drinks-list {
            max-height: 200px;
            overflow-y: auto;
        }

        .summary-drink-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .summary-drink-item:last-child {
            border-bottom: none;
        }

        .drink-info {
            flex: 1;
        }

        .drink-name {
            color: white;
            font-weight: 600;
            display: block;
            margin-bottom: 3px;
        }

        .drink-time {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.8rem;
        }

        .drink-stats {
            display: flex;
            gap: 15px;
        }

        .drink-alcohol, .drink-calories {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            background: rgba(255, 255, 255, 0.1);
            padding: 4px 8px;
            border-radius: 8px;
        }

        .summary-safety {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .summary-safety h3 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .safety-warning {
            color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
            padding: 12px;
            border-radius: 10px;
            border-left: 4px solid #ef4444;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .safety-caution {
            color: #f59e0b;
            background: rgba(245, 158, 11, 0.1);
            padding: 12px;
            border-radius: 10px;
            border-left: 4px solid #f59e0b;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .safety-ok {
            color: #10b981;
            background: rgba(16, 185, 129, 0.1);
            padding: 12px;
            border-radius: 10px;
            border-left: 4px solid #10b981;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .safety-tip {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            margin: 0;
        }

        .summary-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .save-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .save-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
        }

        .save-btn:active {
            transform: translateY(0);
        }

        /* Saved Nights Page Styles */
        .saved-nights-page {
            background: linear-gradient(135deg, #1e293b, #334155);
            min-height: 100vh;
            padding: 20px;
            overflow-y: auto;
        }

        .saved-nights-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .saved-nights-header h1 {
            color: #ffd700;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .saved-nights-header p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1rem;
        }

        .saved-nights-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .saved-night-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .saved-night-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        .saved-night-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .saved-night-title {
            color: #ffd700;
            font-size: 1.3rem;
            font-weight: bold;
            margin: 0;
        }

        .saved-night-date {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        .saved-night-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .saved-night-stat {
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        .saved-night-stat h4 {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.8rem;
            margin: 0 0 5px 0;
        }

        .saved-night-stat p {
            color: #ffd700;
            font-size: 1.2rem;
            font-weight: bold;
            margin: 0;
        }

        .saved-night-drinks {
            margin-bottom: 20px;
        }

        .saved-night-drinks h4 {
            color: #ffd700;
            font-size: 1rem;
            margin-bottom: 10px;
        }

        .saved-drinks-list {
            max-height: 120px;
            overflow-y: auto;
        }

        .saved-drink-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .saved-drink-item:last-child {
            border-bottom: none;
        }

        .saved-drink-name {
            color: white;
            font-size: 0.9rem;
        }

        .saved-drink-time {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.8rem;
        }

        .saved-night-actions {
            display: flex;
            gap: 10px;
        }

        .delete-night-btn {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .delete-night-btn:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        .no-saved-nights {
            text-align: center;
            padding: 60px 20px;
            color: rgba(255, 255, 255, 0.7);
        }

        .no-saved-nights i {
            font-size: 4rem;
            color: #ffd700;
            margin-bottom: 20px;
        }

        .no-saved-nights h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        /* Save Success Message */
        .save-success-message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
            z-index: 10000;
            animation: slideInRight 0.3s ease;
        }

        .save-success-content {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .save-success-content i {
            font-size: 1.2rem;
        }

        .save-success-content p {
            margin: 0;
            font-weight: 600;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Profile Button and Dropdown Styles */
        .profile-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .profile-btn {
            position: relative;
            background: linear-gradient(135deg, #ffd700, #f59e0b);
            color: #333;
            border: none;
            padding: 12px 16px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }

        .profile-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4);
        }

        .profile-btn i {
            font-size: 1.1rem;
        }

        .profile-btn .fa-chevron-down {
            font-size: 0.8rem;
            transition: transform 0.3s ease;
        }

        .profile-btn.active .fa-chevron-down {
            transform: rotate(180deg);
        }

        /* Profile Dropdown */
        .profile-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 10px;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            min-width: 300px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .profile-dropdown.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-header {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .dropdown-avatar {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #10b981, #059669);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            color: white;
        }

        .dropdown-user-info {
            flex: 1;
        }

        .dropdown-username {
            color: white;
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 2px;
        }

        .dropdown-email {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
        }
        
        .dropdown-status {
            color: #10b981;
            font-size: 0.8rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        /* Account Details Section */
        .dropdown-section {
            padding: 15px 20px;
        }
        
        .dropdown-section-title {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #10b981;
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .account-details {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .detail-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 6px 0;
        }
        
        .detail-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .detail-value {
            color: white;
            font-size: 0.85rem;
            font-weight: 600;
        }

        /* Edit Profile Modal Styles */
        .edit-profile-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .edit-profile-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
        }

        .edit-profile-container {
            position: relative;
            background: #f8f9fa !important;
            border-radius: 20px;
            padding: 0;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideInUp 0.3s ease-out;
        }

        @keyframes slideInUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .edit-profile-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 25px 30px;
            border-bottom: 1px solid #e1e5e9;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 20px 20px 0 0;
        }

        .edit-profile-header h3 {
            margin: 0;
            font-size: 1.4rem;
            font-weight: 600;
        }

        .edit-profile-header h3 i {
            margin-right: 10px;
            color: #ffd700;
        }

        .close-edit-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: all 0.3s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-edit-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        .edit-profile-form {
            padding: 30px;
        }

        .form-section {
            margin-bottom: 30px;
        }

        .form-section h4 {
            margin: 0 0 20px 0;
            color: #333 !important;
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-section h4 i {
            color: #667eea !important;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 12px;
            color: #1a1a1a !important;
            font-weight: 700;
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            padding: 4px 0;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 16px 20px;
            border: 3px solid #e1e5e9;
            border-radius: 12px;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            background: #ffffff !important;
            color: #333 !important;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .form-group input::placeholder {
            color: #495057 !important;
            font-weight: 600;
            font-size: 1.1rem;
            opacity: 0.8;
        }

        /* Remember Me Checkbox Styles */
        .remember-me-group {
            margin-top: 15px;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-size: 0.95rem;
            color: #333;
            font-weight: 500;
            user-select: none;
        }

        .checkbox-label input[type="checkbox"] {
            width: auto;
            margin-right: 10px;
            cursor: pointer;
        }

        .checkmark {
            position: relative;
            display: inline-block;
            width: 18px;
            height: 18px;
            background: #fff;
            border: 2px solid #667eea;
            border-radius: 4px;
            margin-right: 10px;
            transition: all 0.3s ease;
        }

        .checkbox-label input[type="checkbox"]:checked + .checkmark {
            background: #667eea;
        }

        .checkbox-label input[type="checkbox"]:checked + .checkmark:after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 12px;
            font-weight: bold;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.2), 0 4px 12px rgba(0, 0, 0, 0.15);
            color: #333 !important;
            transform: translateY(-1px);
        }

        .form-group select option {
            padding: 10px;
            background: #e9ecef !important;
            color: #333 !important;
        }

        .edit-profile-actions {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            padding-top: 20px;
            border-top: 1px solid #e1e5e9;
        }

        .cancel-btn,
        .save-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .cancel-btn {
            background: #f8f9fa;
            color: #6c757d;
            border: 2px solid #e1e5e9;
        }

        .cancel-btn:hover {
            background: #e9ecef;
            border-color: #adb5bd;
        }

        .save-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .save-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .save-btn:active {
            transform: translateY(0);
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border-radius: 10px;
            padding: 15px 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            z-index: 10000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            max-width: 350px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            border-left: 4px solid #10b981;
        }

        .notification.error {
            border-left: 4px solid #ef4444;
        }

        .notification.info {
            border-left: 4px solid #3b82f6;
        }

        .notification-content {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .notification-content i {
            font-size: 1.2rem;
        }

        .notification.success .notification-content i {
            color: #10b981;
        }

        .notification.error .notification-content i {
            color: #ef4444;
        }

        .notification.info .notification-content i {
            color: #3b82f6;
        }

        .dropdown-divider {
            height: 1px;
            background: rgba(255, 255, 255, 0.1);
            margin: 0;
        }

        .dropdown-menu {
            padding: 8px 0;
        }

        .dropdown-item {
            width: 100%;
            background: transparent;
            border: none;
            color: rgba(255, 255, 255, 0.9);
            padding: 12px 20px;
            cursor: pointer;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.2s ease;
            text-align: left;
        }

        .dropdown-item:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .dropdown-item i {
            width: 16px;
            color: rgba(255, 255, 255, 0.7);
        }

        .dropdown-item:hover i {
            color: white;
        }

        .logout-item {
            color: #ef4444;
        }

        .logout-item:hover {
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
        }

        .logout-item i {
            color: #ef4444;
        }

        .profile-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .profile-modal.show {
            opacity: 1;
            visibility: visible;
        }

        .profile-modal-content {
            background: linear-gradient(135deg, #1e293b, #334155);
            border-radius: 20px;
            padding: 30px;
            max-width: 400px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .profile-modal.show .profile-modal-content {
            transform: scale(1);
        }

        .profile-modal-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .profile-modal-header h2 {
            color: #ffd700;
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            letter-spacing: 0.5px;
        }

        .profile-modal-header p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
            font-weight: 500;
            line-height: 1.4;
        }

        /* Profile Mode Tabs */
        .profile-mode-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 5px;
        }

        .profile-tab-btn {
            flex: 1;
            background: transparent;
            color: rgba(255, 255, 255, 0.8);
            border: none;
            padding: 14px 22px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .profile-tab-btn:hover {
            color: white;
            background: rgba(255, 255, 255, 0.1);
        }

        .profile-tab-btn.active {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }

        /* Share Night Modal Styles */
        .share-night-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .share-night-modal.show {
            opacity: 1;
            visibility: visible;
        }

        .share-night-modal-content {
            background: linear-gradient(135deg, #1e293b, #334155);
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .share-night-modal.show .share-night-modal-content {
            transform: scale(1);
        }

        .close-share-night-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .close-share-night-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        .share-night-modal-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .share-night-modal-header h2 {
            color: #ffd700;
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .share-night-modal-header p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        .share-night-preview {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .share-night-preview h3 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .share-night-preview-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 15px;
        }

        .share-night-preview-stat {
            text-align: center;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        .share-night-preview-stat h4 {
            color: #ffd700;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .share-night-preview-stat p {
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .share-night-preview-drinks {
            margin-top: 15px;
        }

        .share-night-preview-drinks h4 {
            color: #ffd700;
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .share-night-preview-drinks-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .share-night-preview-drink {
            background: rgba(255, 255, 255, 0.1);
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            color: white;
        }

        .share-night-form .form-group {
            margin-bottom: 20px;
        }

        .share-night-form label {
            display: block;
            color: white;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .share-night-form textarea {
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 12px;
            color: white;
            font-size: 0.9rem;
            resize: vertical;
            transition: all 0.3s ease;
        }

        .share-night-form textarea:focus {
            outline: none;
            border-color: #ffd700;
            background: rgba(255, 255, 255, 0.08);
        }

        .char-count {
            text-align: right;
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.8rem;
            margin-top: 5px;
        }

        .share-privacy-options {
            margin-bottom: 25px;
        }

        .privacy-option {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            cursor: pointer;
            padding: 15px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }

        .privacy-option:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .privacy-option input[type="radio"] {
            margin-right: 15px;
            transform: scale(1.2);
        }

        .privacy-label {
            display: flex;
            align-items: center;
            gap: 12px;
            color: white;
        }

        .privacy-label i {
            color: #ffd700;
            font-size: 1.2rem;
        }

        .privacy-label strong {
            display: block;
            font-size: 1rem;
        }

        .privacy-label small {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.8rem;
        }

        .share-night-actions {
            display: flex;
            gap: 15px;
        }

        .share-night-btn-primary, .share-night-btn-secondary {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .share-night-btn-primary {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }

        .share-night-btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }

        .share-night-btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .share-night-btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Share button styles for saved nights */
        .share-night-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .share-night-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .saved-night-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        /* Night Share Post Styles */
        .night-share-post {
            border: 2px solid rgba(102, 126, 234, 0.3);
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(118, 75, 162, 0.05));
        }

        .night-share-avatar {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .night-share-badge {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 500;
            margin-top: 5px;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .night-share-message {
            font-style: italic;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border-left: 3px solid #667eea;
        }

        .night-share-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(102, 126, 234, 0.2);
        }

        .night-share-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .night-share-header h3 {
            color: #ffd700;
            font-size: 1.3rem;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .night-share-date {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        .night-share-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .night-share-stat {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .night-share-stat i {
            color: #ffd700;
            font-size: 1.2rem;
            width: 20px;
            text-align: center;
        }

        .night-share-stat div {
            display: flex;
            flex-direction: column;
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.8rem;
            margin-bottom: 2px;
        }

        .stat-value {
            color: white;
            font-weight: 600;
            font-size: 1rem;
        }

        .night-share-drinks {
            margin-top: 15px;
        }

        .night-share-drinks h4 {
            color: #ffd700;
            margin-bottom: 12px;
            font-size: 1rem;
        }

        .night-share-drinks-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .night-share-drink {
            background: rgba(102, 126, 234, 0.2);
            color: white;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 6px;
            border: 1px solid rgba(102, 126, 234, 0.3);
        }

        .night-share-drink i {
            color: #ffd700;
            font-size: 0.8rem;
        }

        @media (max-width: 768px) {
            .night-share-stats {
                grid-template-columns: 1fr;
                gap: 10px;
            }

            .night-share-stat {
                padding: 10px;
            }

            .night-share-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }

            .night-share-drinks-list {
                gap: 6px;
            }

            .night-share-drink {
                font-size: 0.8rem;
                padding: 5px 10px;
            }
        }

        /* Night Details Modal Styles */
        .night-details-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            padding: 20px;
        }

        .night-details-modal {
            background: linear-gradient(135deg, #1e293b, #334155);
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .night-details-content h2 {
            color: #ffd700;
            font-size: 1.8rem;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .night-details-date {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1rem;
            margin-bottom: 25px;
        }

        .night-details-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .night-detail-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .night-detail-item i {
            color: #ffd700;
            font-size: 1.2rem;
            width: 20px;
            text-align: center;
        }

        .night-detail-item div {
            display: flex;
            flex-direction: column;
        }

        .detail-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.8rem;
            margin-bottom: 2px;
        }

        .detail-value {
            color: white;
            font-weight: 600;
            font-size: 1rem;
        }

        .night-details-drinks h3 {
            color: #ffd700;
            font-size: 1.3rem;
            margin-bottom: 20px;
        }

        .drink-timeline {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .drink-timeline-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border-left: 3px solid #667eea;
        }

        .drink-timeline-time {
            color: #ffd700;
            font-weight: 600;
            font-size: 0.9rem;
            min-width: 80px;
        }

        .drink-timeline-content {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .drink-name {
            color: white;
            font-weight: 500;
            font-size: 1rem;
        }

        .drink-standards {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.8rem;
        }

        @media (max-width: 768px) {
            .night-details-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }

            .night-detail-item {
                padding: 12px;
            }

            .drink-timeline-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }

            .drink-timeline-time {
                min-width: auto;
            }
        }

        /* Error Post Styles */
        .error-post {
            border: 2px solid rgba(239, 68, 68, 0.3);
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.05), rgba(220, 38, 38, 0.05));
        }

        .error-post .post-content {
            text-align: center;
            color: rgba(255, 255, 255, 0.8);
        }

        .error-post .post-content i {
            color: #ef4444;
            margin-right: 8px;
        }

        /* Enhanced Empty State Styles */
        .empty-state-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .empty-state-tips {
            margin-top: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .empty-state-tips h4 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .empty-state-tips ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .empty-state-tips li {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
        }

        .empty-state-tips li:before {
            content: '→';
            color: #667eea;
            position: absolute;
            left: 0;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .empty-state-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .empty-state-actions .btn {
                width: 100%;
                max-width: 250px;
            }
        }

        /* Drink Session Post Styles */
        .drink-session-post {
            border: 2px solid rgba(34, 197, 94, 0.3);
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.05), rgba(22, 163, 74, 0.05));
        }

        .drink-session-avatar {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .drink-session-badge {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 500;
            margin-top: 5px;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .drink-session-message {
            font-style: italic;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border-left: 3px solid #22c55e;
        }

        .drink-session-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(34, 197, 94, 0.2);
        }

        .drink-session-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .drink-session-header h3 {
            color: #ffd700;
            font-size: 1.3rem;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .drink-session-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .drink-session-stat {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .drink-session-stat i {
            color: #ffd700;
            font-size: 1.2rem;
            width: 20px;
            text-align: center;
        }

        .drink-session-stat div {
            display: flex;
            flex-direction: column;
        }

        .drink-session-image {
            margin-top: 15px;
            text-align: center;
        }

        .drink-session-image img {
            max-width: 100%;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        /* Drink Details Modal Styles */
        .drink-details-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            padding: 20px;
        }

        .drink-details-modal {
            background: linear-gradient(135deg, #1e293b, #334155);
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .drink-details-content h2 {
            color: #ffd700;
            font-size: 1.8rem;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .drink-details-date {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1rem;
            margin-bottom: 25px;
        }

        .drink-details-grid {
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .drink-detail-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .drink-detail-item i {
            color: #ffd700;
            font-size: 1.2rem;
            width: 20px;
            text-align: center;
        }

        .drink-details-image {
            margin-top: 20px;
            text-align: center;
        }

        .drink-details-image h3 {
            color: #ffd700;
            margin-bottom: 15px;
        }

        @media (max-width: 768px) {
            .drink-session-stats {
                grid-template-columns: 1fr;
                gap: 10px;
            }

            .drink-session-stat {
                padding: 10px;
            }
        }

        /* Share Nights Modal Styles */
        .share-nights-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            padding: 20px;
        }

        .share-nights-content {
            background: linear-gradient(135deg, #1e293b, #334155);
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .share-nights-content h2 {
            color: #ffd700;
            font-size: 1.8rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .share-nights-content p {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 25px;
        }

        .saved-nights-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 25px;
            max-height: 300px;
            overflow-y: auto;
        }

        .saved-night-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .saved-night-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .night-info h4 {
            color: #ffd700;
            margin: 0 0 5px 0;
            font-size: 1.1rem;
        }

        .night-info p {
            color: rgba(255, 255, 255, 0.8);
            margin: 0 0 5px 0;
            font-size: 0.9rem;
        }

        .night-info small {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.8rem;
        }

        .share-night-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .share-night-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .profile-tab-btn.active:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
        }

        /* Debug Modal Styles */
        .debug-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            padding: 20px;
        }

        .debug-content {
            background: linear-gradient(135deg, #1e293b, #334155);
            border-radius: 20px;
            padding: 30px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .debug-content h2 {
            color: #ffd700;
            font-size: 1.8rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .debug-section {
            margin: 20px 0;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .debug-section h3 {
            color: #ffd700;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .debug-section pre {
            background: rgba(0, 0, 0, 0.3);
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
            font-size: 12px;
            color: #fff;
            white-space: pre-wrap;
            word-break: break-all;
        }

        .close-profile-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: none;
            padding: 12px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            min-width: 44px;
            min-height: 44px;
        }

        .close-profile-btn:hover {
            background: rgba(239, 68, 68, 0.3);
            transform: scale(1.1);
        }

        /* Mobile-specific improvements for close button */
        @media (max-width: 768px) {
            .close-profile-btn {
                width: 55px;
                height: 55px;
                padding: 15px;
                top: 10px;
                right: 10px;
            }
            
            .close-profile-btn i {
                font-size: 1.2rem;
            }
        }

        .profile-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            color: white;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .form-group input,
        .form-group select {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 12px 15px;
            color: white;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #ffd700;
            background: rgba(255, 255, 255, 0.15);
        }

        .form-group input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .profile-actions {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        .profile-btn-primary {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            flex: 1;
        }

        .profile-btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
        }

        .profile-btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            flex: 1;
        }

        .profile-btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .profile-toggle {
            text-align: center;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .profile-toggle button {
            background: none;
            border: none;
            color: #ffd700;
            cursor: pointer;
            font-size: 0.9rem;
            text-decoration: underline;
        }

        .profile-toggle button:hover {
            color: #f59e0b;
        }

        .user-info {
            display: none;
            text-align: center;
            margin-bottom: 20px;
        }

        .user-info.show {
            display: block;
        }

        .user-avatar {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #ffd700, #f59e0b);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 2rem;
            color: #333;
            font-weight: bold;
        }

        .user-details {
            color: white;
        }

        .user-details h3 {
            margin: 0 0 5px 0;
            color: #ffd700;
        }

        .user-details p {
            margin: 0;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        .logout-btn {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            margin-top: 15px;
        }

        .logout-btn:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        @media (max-width: 768px) {
            .session-summary-popup {
                padding: 20px;
                margin: 20px;
            }

            .summary-stats {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .summary-stat {
                padding: 15px;
            }

            .summary-stat .stat-content p {
                font-size: 1.2rem;
            }

            .summary-actions {
                flex-direction: column;
            }

            .drink-stats {
                flex-direction: column;
                gap: 5px;
            }
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
        }

        .empty-state i {
            font-size: 4rem;
            color: #ffd700;
            margin-bottom: 20px;
        }

        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        /* Dashboard Styles */
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #ffd700, #f59e0b);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: #333;
        }

        .stat-info {
            flex: 1;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #ffd700;
            line-height: 1;
        }

        .stat-label {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 5px;
        }

        .stat-subtitle {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 3px;
        }

        /* Dashboard Recent Activity */
        .dashboard-recent {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .dashboard-recent h3 {
            color: #ffd700;
            margin-bottom: 25px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .recent-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .recent-section h4 {
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 15px;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .recent-list {
            max-height: 200px;
            overflow-y: auto;
        }

        .recent-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 12px 15px;
            margin-bottom: 8px;
            border-left: 3px solid #ffd700;
            transition: all 0.3s ease;
        }

        .recent-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }

        .recent-item.empty {
            border-left-color: rgba(255, 255, 255, 0.3);
            color: rgba(255, 255, 255, 0.5);
            font-style: italic;
        }

        .recent-item-title {
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 3px;
        }

        .recent-item-time {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
        }

        .recent-item-details {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.7);
            margin-top: 3px;
        }

        /* Active session indicator */
        .stat-card.active-session {
            background: rgba(16, 185, 129, 0.2);
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .stat-card.active-session .stat-icon {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        /* Live update animation */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .stat-card.updating {
            animation: pulse 0.5s ease-in-out;
        }

        /* Pinboard Grid */
        .pinboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .pinboard-item {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .pinboard-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(245, 158, 11, 0.1));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .pinboard-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        .pinboard-item:hover::before {
            opacity: 1;
        }

        .pinboard-item:active {
            transform: translateY(-5px);
        }

        .pinboard-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 2rem;
            color: white;
            position: relative;
            transition: transform 0.3s ease;
        }

        .pinboard-icon.premium {
            background: linear-gradient(135deg, #ffd700, #f59e0b);
            color: #333;
        }

        .pinboard-icon .premium-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ff6b6b;
            color: white;
            font-size: 0.7rem;
            padding: 4px 8px;
            border-radius: 12px;
            font-weight: bold;
        }

        .pinboard-item:hover .pinboard-icon {
            transform: scale(1.1);
        }

        .pinboard-item h3 {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: white;
            font-weight: 600;
        }

        .pinboard-item p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        /* Night Tracker Styles */
        .session-controls {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .session-info h3 {
            color: #ffd700;
            margin-bottom: 8px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .session-info p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
            font-weight: 500;
        }

        .session-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .session-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .start-session-btn {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .end-session-btn {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .reset-session-btn {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }

        .session-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .summary-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            display: flex;
            align-items: center;
            gap: 20px;
            transition: transform 0.3s ease;
        }

        .summary-card:hover {
            transform: translateY(-5px);
        }

        .card-icon {
            width: 60px;
            height: 60px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
        }

        .alcohol-card .card-icon {
            background: linear-gradient(135deg, #ffd700, #f59e0b);
        }

        .calories-card .card-icon {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .sobriety-card .card-icon {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .card-content h4 {
            color: white;
            margin-bottom: 5px;
            font-size: 1rem;
        }

        .card-content p {
            color: #ffd700;
            font-size: 1.8rem;
            font-weight: bold;
            margin: 0;
        }

        .unit {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .driving-status {
            margin-top: 8px;
            padding: 4px 8px;
            border-radius: 8px;
            font-size: 0.8rem;
            font-weight: 600;
            text-align: center;
            transition: all 0.3s ease;
        }

        .driving-status.safe {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .driving-status.caution {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        .driving-status.unsafe {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        .bac-info {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.8rem;
            margin-left: 5px;
            cursor: help;
            transition: color 0.3s ease;
        }

        .bac-info:hover {
            color: #ffd700;
        }

        .add-drink-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .add-drink-section h3 {
            color: #ffd700;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .add-drink-input {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .add-drink-input input {
            flex: 1;
            padding: 15px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
        }

        .add-drink-input input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .add-drink-input input:focus {
            outline: none;
            border-color: #ffd700;
        }

        .add-drink-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .add-drink-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
        }

        .add-drink-btn:disabled {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.5);
            cursor: not-allowed;
            transform: none;
        }

        .add-drink-btn:disabled:hover {
            transform: none;
            box-shadow: none;
        }

        .quick-add-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .quick-add-section h4 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .quick-add-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
        }

        .quick-add-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 12px 15px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .quick-add-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .quick-add-btn i {
            font-size: 1rem;
        }

        .drink-suggestions {
            max-height: 200px;
            overflow-y: auto;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.2);
        }

        .drink-suggestion {
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .drink-suggestion:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }

        .drink-suggestion:last-child {
            border-bottom: none;
        }

        .drink-suggestion-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #ffd700, #f59e0b);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: #333;
            flex-shrink: 0;
        }

        .drink-suggestion-content {
            flex: 1;
        }

        .drink-suggestion-name {
            color: white;
            font-weight: 600;
            margin-bottom: 3px;
            font-size: 1rem;
        }

        .drink-suggestion-details {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
        }

        .no-suggestions {
            padding: 20px;
            text-align: center;
            color: rgba(255, 255, 255, 0.6);
            font-style: italic;
        }

        .drink-list-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .drink-list-section h3 {
            color: #ffd700;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .drink-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .drink-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .drink-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .drink-info {
            flex: 1;
        }

        .drink-name {
            color: white;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .drink-details {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        .drink-time {
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.8rem;
        }

        .drink-remove {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: none;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .drink-remove:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        .empty-drinks {
            text-align: center;
            padding: 40px;
            color: rgba(255, 255, 255, 0.6);
        }

        .empty-drinks i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: rgba(255, 255, 255, 0.3);
        }

        .nutrition-details {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .nutrition-details h3 {
            color: #ffd700;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .nutrition-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
        }

        .nutrition-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .nutrition-item:hover {
            transform: translateY(-3px);
        }

        .nutrition-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            margin-bottom: 8px;
        }

        .nutrition-value {
            color: #ffd700;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .safety-tips {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
        }

        .safety-tips h3 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .tips-content p {
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 15px;
        }

        .tips-content ul {
            list-style: none;
            padding: 0;
        }

        .tips-content li {
            color: rgba(255, 255, 255, 0.8);
            padding: 8px 0;
            padding-left: 20px;
            position: relative;
        }

        .tips-content li::before {
            content: '•';
            color: #ffd700;
            position: absolute;
            left: 0;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            /* Mobile-specific container adjustments */
            .container {
                padding: 15px;
            }

            .header h1 {
                font-size: 1.8rem;
                margin-bottom: 10px;
            }

            .header p {
                font-size: 1rem;
            }

            /* Welcome page mobile optimization */
            .welcome-title {
                font-size: 2rem;
                margin-bottom: 15px;
            }

            .welcome-content {
                padding: 20px;
            }

            .feature-list {
                margin: 20px 0;
            }

            .feature-list li {
                padding: 8px 0;
                font-size: 1rem;
            }

            .primary-btn {
                padding: 18px 30px;
                font-size: 1.1rem;
                width: 100%;
                margin-bottom: 15px;
            }

            .secondary-actions {
                flex-direction: column;
                gap: 10px;
            }

            .secondary-btn {
                width: 100%;
                padding: 15px 20px;
                font-size: 1rem;
            }

            /* Sidebar mobile optimization */
            .sidebar {
                width: 100%;
                max-width: 300px;
                right: -100%;
            }

            /* Session controls mobile optimization */
            .session-controls {
                flex-direction: column;
                text-align: center;
                padding: 20px;
                gap: 15px;
            }

            .session-buttons {
                justify-content: center;
                flex-wrap: wrap;
                gap: 10px;
            }

            .session-btn {
                padding: 15px 20px;
                font-size: 1rem;
                min-width: 120px;
            }

            /* Summary cards mobile layout */
            .summary-cards {
                grid-template-columns: 1fr;
                gap: 15px;
                margin-bottom: 25px;
            }

            .summary-card {
                padding: 20px;
                flex-direction: row;
                align-items: center;
            }

            .card-icon {
                width: 50px;
                height: 50px;
                font-size: 1.5rem;
                flex-shrink: 0;
            }

            .card-content h4 {
                font-size: 0.9rem;
                margin-bottom: 5px;
            }

            .card-content p {
                font-size: 1.4rem;
                margin-bottom: 5px;
            }

            .driving-status {
                font-size: 0.7rem;
                padding: 3px 6px;
                margin-top: 5px;
            }

            /* Add drink section mobile optimization */
            .add-drink-section {
                padding: 20px;
                margin-bottom: 25px;
            }

            .add-drink-section h3 {
                font-size: 1.2rem;
                margin-bottom: 15px;
            }

            .add-drink-input {
                flex-direction: column;
                gap: 10px;
            }

            .add-drink-input input {
                padding: 15px;
                font-size: 1rem;
                border-radius: 12px;
            }

            .add-drink-btn {
                padding: 15px 25px;
                font-size: 1rem;
                border-radius: 12px;
                width: 100%;
            }

            .quick-add-section {
                margin-top: 15px;
                padding-top: 15px;
            }

            .quick-add-section h4 {
                font-size: 1rem;
                margin-bottom: 12px;
            }

            .quick-add-buttons {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }

            .quick-add-btn {
                padding: 10px 12px;
                font-size: 0.85rem;
            }

            .drink-suggestions {
                max-height: 150px;
            }

            .drink-suggestion {
                padding: 12px;
                gap: 10px;
            }

            .drink-suggestion-icon {
                width: 35px;
                height: 35px;
                font-size: 1rem;
            }

            .drink-suggestion-name {
                font-size: 0.9rem;
            }

            .drink-suggestion-details {
                font-size: 0.8rem;
            }

            /* Drink list mobile optimization */
            .drink-list-section {
                padding: 20px;
                margin-bottom: 25px;
            }

            .drink-list-section h3 {
                font-size: 1.2rem;
                margin-bottom: 15px;
            }

            .drink-list {
                max-height: 300px;
            }

            .drink-item {
                padding: 15px;
                margin-bottom: 10px;
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .drink-info {
                width: 100%;
            }

            .drink-name {
                font-size: 1rem;
                margin-bottom: 5px;
            }

            .drink-details {
                font-size: 0.9rem;
                margin-bottom: 5px;
            }

            .drink-time {
                font-size: 0.8rem;
            }

            .drink-remove {
                align-self: flex-end;
                padding: 10px 15px;
                font-size: 0.9rem;
            }

            /* Nutrition details mobile optimization */
            .nutrition-details {
                padding: 20px;
                margin-bottom: 25px;
            }

            .nutrition-details h3 {
                font-size: 1.2rem;
                margin-bottom: 15px;
            }

            .nutrition-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }

            .nutrition-item {
                padding: 15px;
            }

            .nutrition-label {
                font-size: 0.8rem;
                margin-bottom: 5px;
            }

            .nutrition-value {
                font-size: 1.2rem;
            }

            /* Safety tips mobile optimization */
            .safety-tips {
                padding: 20px;
            }

            .safety-tips h3 {
                font-size: 1.2rem;
                margin-bottom: 15px;
            }

            .tips-content p {
                font-size: 1rem;
                margin-bottom: 15px;
            }

            .tips-content li {
                font-size: 0.9rem;
                padding: 6px 0;
                padding-left: 15px;
            }

            /* Dashboard mobile optimization */
            .dashboard-stats {
                grid-template-columns: 1fr;
                gap: 15px;
                margin-bottom: 25px;
            }

            .stat-card {
                padding: 20px;
            }

            .stat-icon {
                width: 45px;
                height: 45px;
                font-size: 1.3rem;
            }

            .stat-value {
                font-size: 1.6rem;
            }

            .stat-label {
                font-size: 0.8rem;
            }

            .pinboard-grid {
                grid-template-columns: 1fr;
                gap: 15px;
                margin-top: 20px;
            }

            .pinboard-item {
                padding: 25px;
            }

            .pinboard-icon {
                width: 50px;
                height: 50px;
                font-size: 1.3rem;
            }

            .pinboard-item p {
                font-size: 0.9rem;
            }

            /* Menu button mobile optimization */
            .menu-btn {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }

                    /* General mobile improvements */
        .btn {
            min-height: 44px; /* Touch target minimum */
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }

        input, button {
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }

        /* Prevent zoom on input focus */
        input[type="text"], input[type="search"] {
            font-size: 16px;
        }

        /* Mobile scroll improvements */
        .page {
            -webkit-overflow-scrolling: touch;
            overscroll-behavior: contain;
        }

        /* Mobile touch improvements */
        .drink-item, .pinboard-item, .summary-stat {
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        /* Mobile button improvements */
        .session-btn, .add-drink-btn, .drink-remove {
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }
        }

        /* Extra small devices */
        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }

            .header h1 {
                font-size: 1.6rem;
            }

            .session-controls {
                padding: 15px;
            }

            .summary-card {
                padding: 15px;
            }

            .card-content p {
                font-size: 1.2rem;
            }

            .add-drink-section, .drink-list-section, .nutrition-details, .safety-tips {
                padding: 15px;
            }

            .welcome-title {
                font-size: 1.8rem;
            }

            .primary-btn {
                padding: 16px 25px;
                font-size: 1rem;
            }
        }

        /* Search Dropdown Styles */
        .search-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
            margin-top: 5px;
        }

        .dropdown-content {
            padding: 10px 0;
        }

        .dropdown-item {
            padding: 15px 20px;
            cursor: pointer;
            transition: background-color 0.2s;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        .dropdown-item:hover {
            background: rgba(16, 185, 129, 0.1);
        }

        .dropdown-item.selected {
            background: rgba(16, 185, 129, 0.2);
        }

        .dropdown-item-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #ffd700, #f59e0b);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: #333;
        }

        .dropdown-item-content {
            flex: 1;
        }

        .dropdown-item-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .dropdown-item-details {
            font-size: 0.9rem;
            color: #666;
        }

        /* Drink Detail Page Styles */
        .back-btn {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateX(-5px);
        }

        .drink-detail-content {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-top: 20px;
        }

        .drink-detail-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
        }

        .drink-detail-image {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #ffd700, #f59e0b);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: #333;
        }

        .drink-detail-info h2 {
            color: #ffd700;
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .drink-detail-info .drink-type {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .drink-detail-info .drink-abv {
            color: #10b981;
            font-weight: 600;
            font-size: 1.2rem;
        }

        .drink-detail-sections {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        .drink-detail-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
        }

        .drink-detail-section h3 {
            color: #ffd700;
            font-size: 1.3rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .drink-description {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            font-size: 1rem;
        }

        .drink-ingredients {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .ingredient-tag {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .nutrition-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .nutrition-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .nutrition-value {
            color: #ffd700;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .nutrition-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
        }

        .drink-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .drink-tag {
            background: rgba(255, 215, 0, 0.2);
            color: #ffd700;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        /* Measurement Tabs Styles */
        .measurement-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .measurement-tab {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 15px 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            color: rgba(255, 255, 255, 0.8);
        }

        .measurement-tab:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .measurement-tab.active {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            border-color: #ffd700;
            color: #333;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }

        .measurement-tab i {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .measurement-tab span {
            font-weight: 600;
            font-size: 1rem;
        }

        .measurement-tab small {
            font-size: 0.8rem;
            opacity: 0.8;
        }

        /* ABV Tabs Styles */
        .abv-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .abv-tab {
            flex: 1;
            min-width: 80px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 12px 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            color: rgba(255, 255, 255, 0.8);
        }

        .abv-tab:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .abv-tab.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-color: #667eea;
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .abv-tab i {
            font-size: 1.2rem;
            margin-bottom: 3px;
        }

        .abv-tab span {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .abv-tab small {
            font-size: 0.7rem;
            opacity: 0.8;
        }

        /* ABV Details Styles */
        .abv-info {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin-top: 15px;
        }

        .abv-info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .abv-info-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .abv-info-value {
            color: #ffd700;
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .abv-info-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
        }

        .abv-nutrition {
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            padding-top: 15px;
        }

        .abv-nutrition h4 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .abv-nutrition-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .abv-nutrition-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }

        .abv-nutrition-value {
            color: #ffd700;
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 3px;
        }

        .abv-nutrition-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.8rem;
        }

        .measurement-details {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin-top: 15px;
        }

        .measurement-info {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .measurement-info-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .measurement-info-value {
            color: #ffd700;
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .measurement-info-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
        }

        .measurement-nutrition {
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            padding-top: 15px;
        }

        .measurement-nutrition h4 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .measurement-nutrition-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .measurement-nutrition-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }

        .measurement-nutrition-value {
            color: #ffd700;
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 3px;
        }

        .measurement-nutrition-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.8rem;
        }

        .drink-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid rgba(255, 255, 255, 0.2);
        }

        .action-btn {
            flex: 1;
            padding: 15px 25px;
            border-radius: 25px;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .action-btn.primary {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }

        .action-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
        }

        .action-btn.secondary {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: white;
        }

        .action-btn.secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.3);
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .drink-detail-sections {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .drink-detail-header {
                flex-direction: column;
                text-align: center;
            }

            .drink-detail-image {
                width: 100px;
                height: 100px;
                font-size: 2.5rem;
            }

            .drink-actions {
                flex-direction: column;
            }

            .search-dropdown {
                max-height: 250px;
            }

            .measurement-tabs {
                flex-direction: column;
                gap: 8px;
            }

            .measurement-tab {
                flex-direction: row;
                justify-content: flex-start;
                padding: 12px 15px;
                text-align: left;
            }

            .measurement-tab i {
                margin-bottom: 0;
                margin-right: 10px;
                font-size: 1.2rem;
            }

            .measurement-info {
                grid-template-columns: 1fr;
                gap: 10px;
            }

            .measurement-nutrition-grid {
                grid-template-columns: 1fr;
                gap: 8px;
            }

            .abv-tabs {
                flex-direction: column;
                gap: 8px;
            }

            .abv-tab {
                flex-direction: row;
                justify-content: flex-start;
                padding: 12px 15px;
                text-align: left;
                min-width: auto;
            }

            .abv-tab i {
                margin-bottom: 0;
                margin-right: 10px;
                font-size: 1.2rem;
            }

            .abv-info-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }

            .abv-nutrition-grid {
                grid-template-columns: 1fr;
                gap: 8px;
            }
        }

        /* Input Styles */
        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: white;
            font-weight: 600;
        }

        .input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }

        .input-wrapper input {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            color: white;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .input-wrapper input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .input-wrapper input:focus {
            outline: none;
            border-color: #ffd700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }

        .search-btn {
            position: absolute;
            right: 5px;
            background: linear-gradient(135deg, #ffd700, #f59e0b);
            border: none;
            border-radius: 20px;
            padding: 12px 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .search-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
        }

        /* Consent Modal Styles */
        .consent-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            padding: 20px;
            overflow-y: auto;
        }

        .consent-content {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            border-radius: 20px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .consent-header {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            padding: 30px;
            border-radius: 18px 18px 0 0;
            text-align: center;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }

        .consent-header h1 {
            color: white;
            font-size: 2rem;
            margin: 0 0 10px 0;
            font-weight: 700;
        }

        .consent-header i {
            color: #fbbf24;
            margin-right: 10px;
        }

        .consent-subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
            margin: 0;
        }

        .consent-body {
            padding: 30px;
            color: white;
        }

        .consent-section {
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border-left: 4px solid #ef4444;
        }

        .consent-section h3 {
            color: #fbbf24;
            font-size: 1.3rem;
            margin: 0 0 15px 0;
            display: flex;
            align-items: center;
        }

        .consent-section h3 i {
            margin-right: 10px;
            color: #ef4444;
        }

        .consent-section p {
            margin: 0 0 15px 0;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.9);
        }

        .consent-section ul {
            margin: 0;
            padding-left: 20px;
        }

        .consent-section li {
            margin-bottom: 8px;
            line-height: 1.5;
            color: rgba(255, 255, 255, 0.8);
        }

        .consent-section strong {
            color: #fbbf24;
        }

        .consent-footer {
            padding: 30px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 0 0 18px 18px;
            border-top: 2px solid rgba(255, 255, 255, 0.1);
        }

        .consent-checkbox {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .consent-checkbox input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-right: 15px;
            accent-color: #10b981;
        }

        .consent-checkbox label {
            color: white;
            font-size: 1.1rem;
            cursor: pointer;
            margin: 0;
        }

        .consent-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .consent-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .decline-btn {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 2px solid #ef4444;
        }

        .decline-btn:hover {
            background: #ef4444;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(239, 68, 68, 0.3);
        }

        .accept-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: 2px solid #10b981;
        }

        .accept-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
        }

        .accept-btn:disabled {
            background: rgba(16, 185, 129, 0.3);
            border-color: rgba(16, 185, 129, 0.3);
            color: rgba(255, 255, 255, 0.5);
            cursor: not-allowed;
        }

        /* Mobile responsive */
        @media (max-width: 768px) {
            .consent-content {
                margin: 10px;
                max-height: 95vh;
            }

            .consent-header h1 {
                font-size: 1.5rem;
            }

            .consent-body {
                padding: 20px;
            }

            .consent-section {
                padding: 15px;
            }

            .consent-buttons {
                flex-direction: column;
            }

            .consent-btn {
                width: 100%;
                justify-content: center;
            }
        }

        /* Social Features Styles */
        .social-actions {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .feed-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .post {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .post-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .post-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
            margin-right: 15px;
        }

        .post-user-info h4 {
            color: white;
            margin: 0 0 5px 0;
            font-size: 1.1rem;
        }

        .post-user-info span {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        .post-content {
            margin-bottom: 15px;
        }

        .post-content p {
            color: white;
            margin-bottom: 10px;
            line-height: 1.5;
        }

        .post-drinks {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .drink-tag {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .post-actions {
            display: flex;
            gap: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 15px;
        }

        .action-btn {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .action-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .action-btn.liked {
            color: #ef4444;
        }

        /* Enhanced Friends Section Styles */
        .friends-tabs, .leaderboard-tabs {
            display: flex;
            gap: 15px;
            margin-bottom: 40px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .friends-tabs .tab-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 20px 25px;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
            min-width: 180px;
            position: relative;
        }

        .friends-tabs .tab-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 215, 0, 0.3);
            transform: translateY(-2px);
        }

        .friends-tabs .tab-btn.active {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(245, 158, 11, 0.2));
            border-color: #ffd700;
            color: #ffd700;
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.2);
        }

        .tab-icon {
            position: relative;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .tab-btn.active .tab-icon {
            background: rgba(255, 215, 0, 0.2);
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ef4444;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .tab-text {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .tab-title {
            font-weight: 600;
            font-size: 1rem;
        }

        .tab-subtitle {
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .friends-container, .requests-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .friends-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .friend-item, .request-item, .user-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .friend-item::before, .request-item::before, .user-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #ffd700, #f59e0b);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .friend-item:hover::before, .request-item:hover::before, .user-item:hover::before {
            opacity: 1;
        }

        .friend-item:hover, .request-item:hover, .user-item:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .friend-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .friend-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.4rem;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .friend-details h4 {
            color: white;
            margin: 0 0 8px 0;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .friend-details span {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        .friend-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .friend-actions .btn {
            padding: 8px 16px;
            border-radius: 12px;
            font-size: 0.85rem;
            transition: all 0.3s ease;
        }

        .friend-actions .btn:hover {
            transform: translateY(-2px);
        }

        .search-friends-container {
            max-width: 700px;
            margin: 0 auto;
        }

        .search-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .search-header h3 {
            color: #ffd700;
            margin-bottom: 10px;
            font-size: 1.5rem;
        }

        .search-header p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1rem;
        }

        .search-input-group {
            margin-bottom: 30px;
        }

        .search-input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            padding: 5px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .search-input-wrapper:focus-within {
            border-color: #ffd700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
        }

        .search-icon {
            color: rgba(255, 255, 255, 0.5);
            margin-left: 15px;
            font-size: 1.1rem;
        }

        .search-input-wrapper input {
            flex: 1;
            background: transparent;
            border: none;
            color: white;
            padding: 15px 20px;
            font-size: 1rem;
            outline: none;
        }

        .search-input-wrapper input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .search-btn {
            background: linear-gradient(135deg, #ffd700, #f59e0b);
            border: none;
            border-radius: 20px;
            padding: 12px 20px;
            color: #333;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .search-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
        }

        .search-results {
            margin-top: 30px;
        }

        .search-placeholder {
            text-align: center;
            padding: 60px 20px;
            color: rgba(255, 255, 255, 0.5);
        }

        .search-placeholder i {
            font-size: 3rem;
            margin-bottom: 20px;
            opacity: 0.3;
        }

        .search-placeholder p {
            font-size: 1.1rem;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: rgba(255, 255, 255, 0.7);
        }

        .empty-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.3;
        }

        .empty-state h3 {
            color: white;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .empty-state p {
            margin-bottom: 30px;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .requests-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .request-date {
            display: block;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.5);
            margin-top: 5px;
        }

        /* Mobile responsiveness for friends section */
        @media (max-width: 768px) {
            .friends-tabs {
                flex-direction: column;
                gap: 10px;
            }
            
            .friends-tabs .tab-btn {
                min-width: auto;
                padding: 15px 20px;
            }
            
            .friends-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .friend-item, .request-item, .user-item {
                padding: 20px;
            }
            
            .friend-info {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
            
            .friend-actions {
                justify-content: center;
                flex-wrap: wrap;
            }
            
            .search-input-wrapper {
                flex-direction: column;
                gap: 10px;
            }
            
            .search-input-wrapper input {
                text-align: center;
            }
        }

        /* Button styles for friend actions */
        .danger-btn {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .danger-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(239, 68, 68, 0.3);
        }

        .secondary-btn {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 8px 16px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .secondary-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .leaderboard-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .leaderboard-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .leaderboard-rank {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .rank-1 { background: linear-gradient(135deg, #ffd700, #ffed4e); color: #333; }
        .rank-2 { background: linear-gradient(135deg, #c0c0c0, #e5e5e5); color: #333; }
        .rank-3 { background: linear-gradient(135deg, #cd7f32, #daa520); color: white; }
        .rank-other { background: rgba(255, 255, 255, 0.1); color: white; }

        .leaderboard-user {
            display: flex;
            align-items: center;
            gap: 15px;
            flex: 1;
        }

        .leaderboard-stats {
            text-align: right;
        }

        .leaderboard-stats .stat-value {
            color: #10b981;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .leaderboard-stats .stat-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        .loading-spinner {
            text-align: center;
            padding: 40px;
            color: rgba(255, 255, 255, 0.7);
        }

        .loading-spinner i {
            font-size: 2rem;
            margin-bottom: 15px;
        }

        .empty-state {
            text-align: center;
            padding: 40px;
            color: rgba(255, 255, 255, 0.7);
        }

        .empty-state i {
            font-size: 3rem;
            margin-bottom: 15px;
            opacity: 0.5;
        }

        /* Mobile responsiveness for social features */
        @media (max-width: 768px) {
            .social-actions {
                flex-direction: column;
            }

            .friends-tabs, .leaderboard-tabs {
                flex-direction: column;
            }

            .friend-item, .request-item, .user-item, .leaderboard-item {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }

            .friend-actions {
                justify-content: center;
            }

            .post-actions {
                justify-content: space-around;
            }
        }

        /* PWA Install Prompt Styles */
        #pwa-install-prompt {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            z-index: 10000;
            max-width: 350px;
            width: 90%;
            animation: slideUp 0.3s ease-out;
        }

        .pwa-install-content {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .pwa-install-icon {
            font-size: 2.5rem;
            flex-shrink: 0;
        }

        .pwa-install-text {
            flex: 1;
        }

        .pwa-install-text h3 {
            margin: 0 0 5px 0;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .pwa-install-text p {
            margin: 0;
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .pwa-install-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .pwa-install-btn, .pwa-dismiss-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .pwa-install-btn {
            background: white;
            color: #667eea;
        }

        .pwa-install-btn:hover {
            background: #f8f9fa;
            transform: translateY(-1px);
        }

        .pwa-dismiss-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .pwa-dismiss-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        @keyframes slideUp {
            from {
                transform: translateX(-50%) translateY(100%);
                opacity: 0;
            }
            to {
                transform: translateX(-50%) translateY(0);
                opacity: 1;
            }
        }

        @media (max-width: 768px) {
            #pwa-install-prompt {
                bottom: 10px;
                max-width: 320px;
                padding: 15px;
            }

            .pwa-install-content {
                gap: 12px;
            }

            .pwa-install-icon {
                font-size: 2rem;
            }

            .pwa-install-text h3 {
                font-size: 1rem;
            }

            .pwa-install-text p {
                font-size: 0.85rem;
            }

            .pwa-install-buttons {
                margin-top: 12px;
            }

            .pwa-install-btn, .pwa-dismiss-btn {
                padding: 6px 12px;
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <!-- Consent Modal - Must be accepted before accessing the app -->
    <div class="consent-modal" id="consent-modal">
        <div class="consent-content">
            <div class="consent-header">
                <h1><i class="fas fa-exclamation-triangle"></i> Important Legal Disclaimer</h1>
                <p class="consent-subtitle">Please read carefully before using BevyFinder</p>
            </div>
            
            <div class="consent-body">
                <div class="consent-section">
                    <h3><i class="fas fa-calculator"></i> BAC Estimates Disclaimer</h3>
                    <p>BevyFinder provides <strong>estimated Blood Alcohol Content (BAC) calculations</strong> based on mathematical formulas that are not perfect. These estimates are:</p>
                    <ul>
                        <li>Approximations only and may not reflect your actual BAC</li>
                        <li>Based on general population averages and may not apply to your specific situation</li>
                        <li>Affected by many factors including metabolism, food intake, medications, and individual physiology</li>
                        <li>Not a substitute for professional medical advice or breathalyzer testing</li>
                    </ul>
                </div>
                
                <div class="consent-section">
                    <h3><i class="fas fa-shield-alt"></i> Legal Liability Disclaimer</h3>
                    <p>By using BevyFinder, you acknowledge and agree that:</p>
                    <ul>
                        <li><strong>BevyFinder is not liable</strong> for any decisions you make based on BAC estimates</li>
                        <li><strong>You are responsible</strong> for your own actions and decisions while drinking</li>
                        <li><strong>BAC estimates are not legal evidence</strong> and should not be used to determine if you are safe to drive</li>
                        <li><strong>You understand</strong> that drinking and driving is illegal and dangerous regardless of BAC estimates</li>
                        <li><strong>You will not hold BevyFinder responsible</strong> for any legal consequences, accidents, or injuries</li>
                    </ul>
                </div>
                
                <div class="consent-section">
                    <h3><i class="fas fa-car"></i> Driving Safety Warning</h3>
                    <p><strong>NEVER drink and drive.</strong> Even low BAC levels can impair your ability to drive safely. Always:</p>
                    <ul>
                        <li>Designate a sober driver</li>
                        <li>Use public transportation or ride-sharing services</li>
                        <li>Wait until you are completely sober before driving</li>
                        <li>Follow local laws and regulations regarding alcohol consumption</li>
                    </ul>
                </div>
                
                <div class="consent-section">
                    <h3><i class="fas fa-user-check"></i> User Responsibility</h3>
                    <p>You acknowledge that you:</p>
                    <ul>
                        <li>Are of legal drinking age in your jurisdiction</li>
                        <li>Will use BevyFinder responsibly and for educational purposes only</li>
                        <li>Will not rely solely on BAC estimates for making decisions about driving or other activities</li>
                        <li>Understand that individual alcohol tolerance and effects vary significantly</li>
                    </ul>
                </div>
            </div>
            
            <div class="consent-footer">
                <div class="consent-checkbox">
                    <input type="checkbox" id="consent-checkbox" required>
                    <label for="consent-checkbox">
                        <strong>I have read, understood, and agree to all terms and conditions above</strong>
                    </label>
                </div>
                
                <div class="consent-buttons">
                    <button class="consent-btn decline-btn" onclick="declineConsent()">
                        <i class="fas fa-times"></i> Decline & Exit
                    </button>
                    <button class="consent-btn accept-btn" id="accept-consent-btn" onclick="acceptConsent()" disabled>
                        <i class="fas fa-check"></i> Accept & Continue
                    </button>
                </div>
            </div>
        </div>
    </div>
            <!-- Profile Button -->
        <div class="profile-container" id="profile-container">
            <button class="profile-btn" id="profile-btn" onclick="toggleProfileDropdown()">
                <i class="fas fa-user"></i>
                <span id="profile-btn-text">Profile</span>
                <i class="fas fa-chevron-down" id="profile-chevron"></i>
            </button>
            
            <!-- Profile Dropdown -->
            <div class="profile-dropdown" id="profile-dropdown">
                <div class="dropdown-header">
                    <div class="dropdown-avatar" id="dropdown-avatar">U</div>
                    <div class="dropdown-user-info">
                        <div class="dropdown-username" id="dropdown-username">User</div>
                        <div class="dropdown-email" id="dropdown-email">user@example.com</div>
                        <div class="dropdown-status" id="dropdown-status">Guest</div>
                    </div>
                </div>
                
                <div class="dropdown-divider"></div>
                
                <!-- Account Details Section (shown when logged in) -->
                <div class="dropdown-section" id="account-details-section" style="display: none;">
                    <div class="dropdown-section-title">
                        <i class="fas fa-user-circle"></i>
                        <span>Account Details</span>
                    </div>
                    <div class="account-details" id="account-details">
                        <div class="detail-item">
                            <span class="detail-label">Member Since:</span>
                            <span class="detail-value" id="member-since">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Total Searches:</span>
                            <span class="detail-value" id="total-searches">0</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Favorites:</span>
                            <span class="detail-value" id="total-favorites">0</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Member Level:</span>
                            <span class="detail-value" id="member-level">Guest</span>
                        </div>
                    </div>
                </div>
                
                <div class="dropdown-divider"></div>
                
                <div class="dropdown-menu">
                    <button class="dropdown-item" onclick="editProfile()">
                        <i class="fas fa-user-edit"></i>
                        <span>Edit Profile</span>
                    </button>
                    <button class="dropdown-item" onclick="showPage('saved-nights-page')">
                        <i class="fas fa-save"></i>
                        <span>Saved Nights</span>
                    </button>
                    <button class="dropdown-item" onclick="showPage('favorites-page')">
                        <i class="fas fa-heart"></i>
                        <span>Favorites</span>
                    </button>
                    <button class="dropdown-item" onclick="showPage('history-page')">
                        <i class="fas fa-history"></i>
                        <span>History</span>
                    </button>
                </div>
                
                <div class="dropdown-divider"></div>
                
                <div class="dropdown-menu">
                    <button class="dropdown-item logout-item" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Sign Out</span>
                    </button>
                </div>
            </div>
        </div>

    <!-- Profile Modal -->
    <div class="profile-modal" id="profile-modal" onclick="closeProfileModal()">
        <div class="profile-modal-content" onclick="event.stopPropagation()">
            <button class="close-profile-btn" onclick="closeProfileModal()" ontouchstart="closeProfileModal()" style="touch-action: manipulation; -webkit-tap-highlight-color: transparent;">
                <i class="fas fa-times"></i>
            </button>
            
            <div class="profile-modal-header">
                <h2 id="profile-modal-title">Sign Up</h2>
                <p id="profile-modal-subtitle">Create your account to save your data</p>
            </div>
            
            <!-- Profile Mode Tabs -->
            <div class="profile-mode-tabs">
                <button class="profile-tab-btn" id="signin-tab-btn" onclick="showSignInForm()">
                    <i class="fas fa-sign-in-alt"></i> Sign In
                </button>
                <button class="profile-tab-btn active" id="signup-tab-btn" onclick="showSignUpForm()">
                    <i class="fas fa-user-plus"></i> Sign Up
                </button>
            </div>
            
            <div class="user-info" id="user-info">
                <div class="user-avatar" id="user-avatar">
                    U
                </div>
                <div class="user-details">
                    <h3 id="user-name">User</h3>
                    <p id="user-email">user@example.com</p>
                </div>
                <button class="logout-btn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
            
            <form class="profile-form" id="profile-form">
                <!-- Sign Up Fields -->
                <div class="signup-fields" id="signup-fields">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" placeholder="Enter username" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="age">Age</label>
                        <input type="number" id="age" placeholder="Enter age" min="18" max="120" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="weight">Weight (kg)</label>
                        <input type="number" id="weight" placeholder="Enter weight" min="30" max="300" step="0.1" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="gender">Gender</label>
                        <select id="gender" required>
                            <option value="">Select gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>
                
                <!-- Common Fields (both sign up and sign in) -->
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" placeholder="Enter email" required>
                </div>
                
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="Enter password" required>
                </div>
                
                <div class="form-group remember-me-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="remember-me" checked>
                        <span class="checkmark"></span>
                        Remember me (stay signed in)
                    </label>
                </div>
                
                <div class="profile-actions">
                    <button type="submit" class="profile-btn-primary" id="profile-submit-btn">
                        <i class="fas fa-user-plus"></i> Sign Up
                    </button>
                    <button type="button" class="profile-btn-secondary" onclick="closeProfileModal()">
                        Cancel
                    </button>
                </div>
            </form>
            
            <!-- Hidden toggle button (replaced by tabs) -->
            <div class="profile-toggle" style="display: none;">
                <button type="button" id="profile-toggle-btn" onclick="toggleProfileMode()">
                    Already have an account? Sign In
                </button>
            </div>
        </div>
    </div>

    <!-- Welcome Page -->
    <div class="page welcome-page active" id="welcome-page">
        <div class="welcome-content">
            <h1 class="welcome-title">
                <i class="fas fa-chart-line"></i>
                Night Tracker
            </h1>
            <p style="font-size: 1.2rem; margin-bottom: 30px;">Track Your Drinks, Monitor Your BAC, Stay Safe</p>
            
            <p style="margin-bottom: 20px;">The ultimate tool for responsible drinking. Track your consumption, monitor your blood alcohol content, and stay informed about your health and safety.</p>
            
            <ul class="feature-list">
                <li><i class="fas fa-chart-line"></i> Real-time BAC monitoring</li>
                <li><i class="fas fa-plus-circle"></i> 80+ drinks including Australian beers</li>
                <li><i class="fas fa-shield-alt"></i> Safety tips and guidelines</li>
                <li><i class="fas fa-clock"></i> Session management</li>
                <li><i class="fas fa-fire"></i> Calorie and nutrition tracking</li>
                <li><i class="fas fa-brain"></i> Scientific BAC calculations</li>
            </ul>
            
            <p style="margin: 20px 0;">Created by <strong>Tim Scheepers</strong></p>
            
            <button class="btn primary-btn" id="start-btn">
                <i class="fas fa-play"></i>
                Start Night Tracker
            </button>
            
            <div class="secondary-actions">
                <button class="btn secondary-btn" onclick="showPage('main-app')">
                    <i class="fas fa-search"></i>
                    Browse Drinks
                </button>
                <button class="btn secondary-btn" onclick="showPage('dashboard-page')">
                    <i class="fas fa-tachometer-alt"></i>
                    Dashboard
                </button>
            </div>
        </div>
    </div>

    <!-- Share Night Modal -->
    <div class="share-night-modal" id="share-night-modal" onclick="closeShareNightModal()">
        <div class="share-night-modal-content" onclick="event.stopPropagation()">
            <button class="close-share-night-btn" onclick="closeShareNightModal()">
                <i class="fas fa-times"></i>
            </button>
            
            <div class="share-night-modal-header">
                <h2><i class="fas fa-share"></i> Share Your Night</h2>
                <p>Share your drinking session with your friends</p>
            </div>
            
            <div class="share-night-preview" id="share-night-preview">
                <!-- Night preview will be loaded here -->
            </div>
            
            <form class="share-night-form" id="share-night-form">
                <div class="form-group">
                    <label for="share-message">Add a message (optional)</label>
                    <textarea id="share-message" placeholder="What was the highlight of your night? Any funny stories to share?" rows="3" maxlength="500"></textarea>
                    <div class="char-count">
                        <span id="share-message-count">0</span>/500
                    </div>
                </div>
                
                <div class="share-privacy-options">
                    <label class="privacy-option">
                        <input type="radio" name="share-privacy" value="friends" checked>
                        <span class="privacy-label">
                            <i class="fas fa-users"></i>
                            <div>
                                <strong>Friends Only</strong>
                                <small>Only your friends can see this post</small>
                            </div>
                        </span>
                    </label>
                    <label class="privacy-option">
                        <input type="radio" name="share-privacy" value="public">
                        <span class="privacy-label">
                            <i class="fas fa-globe"></i>
                            <div>
                                <strong>Public</strong>
                                <small>Everyone can see this post</small>
                            </div>
                        </span>
                    </label>
                </div>
                
                <div class="share-night-actions">
                    <button type="submit" class="share-night-btn-primary">
                        <i class="fas fa-share"></i> Share to Feed
                    </button>
                    <button type="button" class="share-night-btn-secondary" onclick="closeShareNightModal()">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Menu Button -->
    <button class="menu-btn" id="menu-btn">
        <i class="fas fa-bars"></i>
    </button>
    
    <!-- Sidebar Menu -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3><i class="fas fa-wine-glass-alt"></i> Menu</h3>
            <button class="close-menu-btn" id="close-menu-btn">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="sidebar-content">
            <button class="sidebar-btn primary-sidebar-btn" id="sidebar-btn-tracking">
                <i class="fas fa-chart-line"></i>
                Night Tracker
            </button>
            <button class="sidebar-btn" id="sidebar-btn-dashboard">
                <i class="fas fa-tachometer-alt"></i>
                Dashboard
            </button>
            <button class="sidebar-btn" id="sidebar-btn-1">
                <i class="fas fa-search"></i>
                Browse Drinks
            </button>
            <button class="sidebar-btn" id="sidebar-btn-2">
                <i class="fas fa-star"></i>
                Favorites
            </button>
            <button class="sidebar-btn" id="sidebar-btn-3">
                <i class="fas fa-history"></i>
                History
            </button>
            <button class="sidebar-btn" id="sidebar-btn-social">
                <i class="fas fa-users"></i>
                Social Feed
            </button>
            <button class="sidebar-btn" id="sidebar-btn-friends">
                <i class="fas fa-user-friends"></i>
                Friends
            </button>
            <button class="sidebar-btn" id="sidebar-btn-leaderboard">
                <i class="fas fa-trophy"></i>
                Leaderboards
            </button>
            <button class="sidebar-btn" id="sidebar-btn-4">
                <i class="fas fa-cog"></i>
                Settings
            </button>
            <button class="sidebar-btn" id="sidebar-btn-5">
                <i class="fas fa-info-circle"></i>
                About
            </button>
        </div>
    </div>
    
    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebar-overlay"></div>

    <!-- Main App -->
    <div class="page" id="main-app">
        <div class="container">
            <div class="header">
                <h1><i class="fas fa-search"></i> Browse Drinks</h1>
                <p>Search our database of 200+ drinks including Australian beers or upload a photo</p>
            </div>
            
            <div class="input-section">
                <div class="input-tabs">
                    <button class="tab-btn active" data-tab="search">
                        <i class="fas fa-search"></i>
                        <span>Search</span>
                    </button>
                    <button class="tab-btn" data-tab="photo">
                        <i class="fas fa-camera"></i>
                        <span>Photo</span>
                    </button>
                </div>
                
                <div class="tab-content active" id="search-tab">
                    <div class="input-group">
                        <label for="beverage-name">Search for a drink:</label>
                        <div class="input-wrapper">
                            <input type="text" id="beverage-name" placeholder="Enter drink name..." autocomplete="off">
                            <button class="search-btn" id="search-btn">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                        <!-- Smart Search Dropdown -->
                        <div class="search-dropdown" id="search-dropdown" style="display: none;">
                            <div class="dropdown-content" id="dropdown-content">
                                <!-- Search results will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="photo-tab">
                    <div class="upload-area" id="upload-area">
                        <div class="upload-content">
                            <i class="fas fa-camera"></i>
                            <h3>Upload a Photo</h3>
                            <p>Take a photo or upload an image of a drink</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Detailed Drink Page -->
    <div class="page" id="drink-detail-page">
        <div class="container">
            <div class="header">
                <button class="back-btn" onclick="showPage('main-app')">
                    <i class="fas fa-arrow-left"></i> Back to Search
                </button>
                <h1 id="drink-detail-title"><i class="fas fa-glass-whiskey"></i> Drink Details</h1>
            </div>
            
            <div class="drink-detail-content" id="drink-detail-content">
                <!-- Drink details will be populated here -->
            </div>
        </div>
    </div>

    <!-- Other Pages -->
    <div class="page" id="favorites-page">
        <div class="container">
            <h2><i class="fas fa-star"></i> Favorites</h2>
            <div class="empty-state">
                <i class="fas fa-heart"></i>
                <h3>No Favorites Yet</h3>
                <p>Start exploring and add your favorite drinks!</p>
                <button class="btn" onclick="showPage('main-app')">Start Exploring</button>
            </div>
        </div>
    </div>

    <div class="page" id="history-page">
        <div class="container">
            <h2><i class="fas fa-history"></i> History</h2>
            <div class="empty-state">
                <i class="fas fa-history"></i>
                <h3>No Search History</h3>
                <p>Your search history will appear here</p>
            </div>
        </div>
    </div>

    <div class="page" id="tracking-page">
        <div class="container">
            <div class="header">
                <h1><i class="fas fa-chart-line"></i> Night Tracker</h1>
                <p>Monitor your BAC and track your drinking session safely</p>
            </div>
            
            <!-- Session Controls -->
            <div class="session-controls">
                <div class="session-info">
                    <h3><i class="fas fa-clock"></i> Session Status</h3>
                    <p id="session-status">No active session</p>
                    <p id="session-timer" style="display: none; color: #10b981; font-size: 0.9rem; margin-top: 5px;">
                        <i class="fas fa-stopwatch"></i> <span id="timer-display">00:00:00</span>
                    </p>
                </div>
                <div class="session-buttons">
                    <button class="session-btn start-session-btn" id="start-session-btn">
                        <i class="fas fa-play"></i> Start Session
                    </button>
                    <button class="session-btn end-session-btn" id="end-session-btn" style="display: none;">
                        <i class="fas fa-stop"></i> End Session
                    </button>
                    <button class="session-btn reset-session-btn" id="reset-session-btn">
                        <i class="fas fa-redo"></i> Reset
                    </button>
                </div>
            </div>
            
            <!-- Summary Cards -->
            <div class="summary-cards">
                <div class="summary-card alcohol-card">
                    <div class="card-icon">
                        <i class="fas fa-wine-glass-alt"></i>
                    </div>
                    <div class="card-content">
                        <h4>Total Alcohol</h4>
                        <p><span id="total-alcohol">0</span> <span class="unit">g</span></p>
                    </div>
                </div>
                <div class="summary-card calories-card">
                    <div class="card-icon">
                        <i class="fas fa-fire"></i>
                    </div>
                    <div class="card-content">
                        <h4>Total Calories</h4>
                        <p><span id="total-calories">0</span> <span class="unit">kcal</span></p>
                    </div>
                </div>
                <div class="summary-card sobriety-card">
                    <div class="card-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div class="card-content">
                        <h4>Estimated BAC <i class="fas fa-info-circle bac-info" title="Calculated using Widmark formula with Australian standard drinks (10g alcohol each). Accounts for time elapsed and metabolism rate of 0.015% per hour."></i></h4>
                        <p><span id="estimated-bac">0.000</span> <span class="unit">%</span></p>
                        <div class="driving-status" id="driving-status">
                            <span class="status-text">Safe to drive</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Improved Add Drink Section -->
            <div class="add-drink-section">
                <h3><i class="fas fa-plus-circle"></i> Add Drink</h3>
                <div class="add-drink-input">
                    <input type="text" id="drink-search" placeholder="Search for a drink (e.g., 'beer', 'wine', 'cocktail')...">
                    <button class="add-drink-btn" id="add-drink-btn" disabled>
                        <i class="fas fa-plus"></i> Add
                    </button>
                </div>
                <div class="drink-suggestions" id="drink-suggestions"></div>
                <div class="quick-add-section">
                    <h4><i class="fas fa-bolt"></i> Quick Add Popular Drinks</h4>
                    <div class="quick-add-buttons">
                        <button class="quick-add-btn" onclick="addDrink('heineken')">
                            <i class="fas fa-beer"></i> Heineken
                        </button>
                        <button class="quick-add-btn" onclick="addDrink('corona')">
                            <i class="fas fa-beer"></i> Corona
                        </button>
                        <button class="quick-add-btn" onclick="addDrink('red_wine_13_5')">
                            <i class="fas fa-wine-glass"></i> Red Wine
                        </button>
                        <button class="quick-add-btn" onclick="addDrink('white_wine_12_5')">
                            <i class="fas fa-wine-glass"></i> White Wine
                        </button>
                        <button class="quick-add-btn" onclick="addDrink('vodka')">
                            <i class="fas fa-cocktail"></i> Vodka
                        </button>
                        <button class="quick-add-btn" onclick="addDrink('gin')">
                            <i class="fas fa-cocktail"></i> Gin
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Drink List -->
            <div class="drink-list-section">
                <h3><i class="fas fa-list"></i> Tonight's Drinks</h3>
                <div class="drink-list" id="drink-list">
                    <div class="empty-drinks">
                        <i class="fas fa-glass-whiskey"></i>
                        <h4>No drinks added yet</h4>
                        <p>Start your session and add your first drink!</p>
                    </div>
                </div>
            </div>
            
            <!-- Nutrition Details -->
            <div class="nutrition-details">
                <h3><i class="fas fa-chart-pie"></i> Nutrition Breakdown</h3>
                <div class="nutrition-grid">
                    <div class="nutrition-item">
                        <div class="nutrition-label">Standards</div>
                        <div class="nutrition-value" id="total-standards">0</div>
                    </div>
                    <div class="nutrition-item">
                        <div class="nutrition-label">Carbs</div>
                        <div class="nutrition-value" id="total-carbs">0g</div>
                    </div>
                    <div class="nutrition-item">
                        <div class="nutrition-label">Sugar</div>
                        <div class="nutrition-value" id="total-sugar">0g</div>
                    </div>
                    <div class="nutrition-item">
                        <div class="nutrition-label">Protein</div>
                        <div class="nutrition-value" id="total-protein">0g</div>
                    </div>
                </div>
            </div>
            
            <!-- Safety Tips -->
            <div class="safety-tips">
                <h3><i class="fas fa-shield-alt"></i> Safety Tips</h3>
                <div class="tips-content">
                    <p>Remember to drink responsibly and never drink and drive.</p>
                    <ul>
                        <li>Pace yourself - aim for 1 drink per hour</li>
                        <li>Alternate with water</li>
                        <li>Eat before and during drinking</li>
                        <li>Know your limits</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Saved Nights Page -->
    <div class="page" id="saved-nights-page">
        <div class="saved-nights-page">
            <div class="saved-nights-header">
                <h1><i class="fas fa-save"></i> Saved Nights</h1>
                <p>Your past night tracking sessions</p>
            </div>
            
            <div class="saved-nights-list" id="saved-nights-list">
                <!-- Saved nights will be populated here -->
            </div>
            
            <div class="no-saved-nights" id="no-saved-nights" style="display: none;">
                <i class="fas fa-moon"></i>
                <h3>No Saved Nights Yet</h3>
                <p>Complete a night tracking session and save it to see it here!</p>
            </div>
        </div>
    </div>

    <!-- Dashboard Page -->
    <div class="page" id="dashboard-page">
        <div class="container">
            <div class="header">
                <h1><i class="fas fa-tachometer-alt"></i> Dashboard</h1>
                <p>Your BevyFinder Command Center</p>
            </div>
            

            
            <div class="dashboard-recent" id="dashboard-recent">
                <h3><i class="fas fa-clock"></i> Recent Activity</h3>
                <div class="recent-grid">
                    <div class="recent-section">
                        <h4><i class="fas fa-search"></i> Recent Searches</h4>
                        <div class="recent-list" id="recent-searches">
                            <div class="recent-item empty">No recent searches</div>
                    </div>
                    </div>
                    <div class="recent-section">
                        <h4><i class="fas fa-heart"></i> Recent Favorites</h4>
                        <div class="recent-list" id="recent-favorites">
                            <div class="recent-item empty">No recent favorites</div>
                </div>
                    </div>
                    <div class="recent-section">
                        <h4><i class="fas fa-chart-line"></i> Recent Sessions</h4>
                        <div class="recent-list" id="recent-sessions">
                            <div class="recent-item empty">No recent sessions</div>
                    </div>
                </div>
                </div>
            </div>
            
            <div class="pinboard-grid">
                <div class="pinboard-item" onclick="showPage('tracking-page')">
                    <div class="pinboard-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>Night Tracker</h3>
                    <p>Monitor your BAC and track sessions</p>
                </div>
                
                <div class="pinboard-item" onclick="showPage('main-app')">
                    <div class="pinboard-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <h3>Browse Drinks</h3>
                    <p>Search our database of 80+ drinks</p>
                </div>
                
                <div class="pinboard-item" onclick="showPage('favorites-page')">
                    <div class="pinboard-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h3>My Favorites</h3>
                    <p>View and manage your saved drinks</p>
                </div>
                
                <div class="pinboard-item" onclick="showPage('history-page')">
                    <div class="pinboard-icon">
                        <i class="fas fa-history"></i>
                    </div>
                    <h3>Search History</h3>
                    <p>See your recent drink searches</p>
                </div>
                
                <div class="pinboard-item" onclick="showPage('saved-nights-page')">
                    <div class="pinboard-icon">
                        <i class="fas fa-save"></i>
                    </div>
                    <h3>Saved Nights</h3>
                    <p>View your past night tracking sessions</p>
                </div>
                
                <div class="pinboard-item" onclick="alert('Profile - Coming Soon!')">
                    <div class="pinboard-icon">
                        <i class="fas fa-user"></i>
                    </div>
                    <h3>My Profile</h3>
                    <p>Manage your account and preferences</p>
                </div>
                
                <div class="pinboard-item" onclick="alert('Social - Coming Soon!')">
                    <div class="pinboard-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>Social Feed</h3>
                    <p>Connect with friends and share drinks</p>
                </div>
                
                <div class="pinboard-item" onclick="alert('Reviews - Coming Soon!')">
                    <div class="pinboard-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <h3>Reviews & Ratings</h3>
                    <p>Rate drinks and read reviews</p>
                </div>
                
                <div class="pinboard-item" onclick="alert('Settings - Coming Soon!')">
                    <div class="pinboard-icon">
                        <i class="fas fa-cog"></i>
                    </div>
                    <h3>Settings</h3>
                    <p>Customize your BevyFinder experience</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Social Feed Page -->
    <div class="page" id="social-feed-page">
        <div class="container">
            <div class="header">
                <h1><i class="fas fa-users"></i> Social Feed</h1>
                <p>See what your friends are drinking and share your own experiences</p>
            </div>
            
            <div class="social-actions">
                <button class="btn primary-btn" onclick="showCreatePostModal()">
                    <i class="fas fa-plus"></i> Create Post
                </button>
                <button class="btn secondary-btn" onclick="shareMySavedNights()">
                    <i class="fas fa-share"></i> Share My Nights
                </button>
                <button class="btn primary-btn" style="background: #10b981; color: white; border: 2px solid #10b981;" onclick="shareAllSavedNights()">
                    <i class="fas fa-upload"></i> Share ALL Saved Nights
                </button>
                <button class="btn secondary-btn" onclick="refreshFeed()">
                    <i class="fas fa-sync-alt"></i> Refresh
                </button>
                <button class="btn" style="background: #ff6b6b; color: white; border: 2px solid #ff6b6b;" onclick="debugMyData()">
                    <i class="fas fa-bug"></i> 🐛 DEBUG DATA
                </button>
            </div>
            
            <div class="feed-container" id="feed-container">
                <div class="loading-spinner" id="feed-loading">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>Loading feed...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Friends Page -->
    <div class="page" id="friends-page">
        <div class="container">
            <div class="header">
                <h1><i class="fas fa-user-friends"></i> Friends</h1>
                <p>Connect with other BevyFinder users and share your drink experiences</p>
            </div>
            
            <div class="friends-tabs">
                <button class="tab-btn active" data-tab="friends-list">
                    <div class="tab-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="tab-text">
                        <span class="tab-title">My Friends</span>
                        <span class="tab-subtitle">Your connections</span>
                    </div>
                </button>
                <button class="tab-btn" data-tab="friend-requests">
                    <div class="tab-icon">
                        <i class="fas fa-user-plus"></i>
                        <span class="notification-badge" id="requests-badge" style="display: none;">0</span>
                    </div>
                    <div class="tab-text">
                        <span class="tab-title">Requests</span>
                        <span class="tab-subtitle">Pending invites</span>
                    </div>
                </button>
                <button class="tab-btn" data-tab="find-friends">
                    <div class="tab-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <div class="tab-text">
                        <span class="tab-title">Find Friends</span>
                        <span class="tab-subtitle">Discover new people</span>
                    </div>
                </button>
            </div>
            
            <div class="tab-content active" id="friends-list-tab">
                <div class="friends-container" id="friends-container">
                    <div class="empty-state" id="friends-empty" style="display: none;">
                        <div class="empty-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <h3>No Friends Yet</h3>
                        <p>Start connecting with other BevyFinder users to share your drink experiences!</p>
                        <button class="btn primary-btn" onclick="switchFriendsTab('find-friends')">
                            <i class="fas fa-search"></i> Find Friends
                        </button>
                    </div>
                    <div class="friends-grid" id="friends-grid">
                        <div class="loading-spinner">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>Loading your friends...</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="friend-requests-tab">
                <div class="requests-container" id="requests-container">
                    <div class="empty-state" id="requests-empty" style="display: none;">
                        <div class="empty-icon">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <h3>No Friend Requests</h3>
                        <p>When someone sends you a friend request, it will appear here.</p>
                    </div>
                    <div class="requests-list" id="requests-list">
                        <div class="loading-spinner">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>Loading requests...</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="find-friends-tab">
                <div class="search-friends-container">
                    <div class="search-header">
                        <h3><i class="fas fa-search"></i> Find New Friends</h3>
                        <p>Search for other BevyFinder users by name or email</p>
                    </div>
                    
                    <div class="search-input-group">
                        <div class="search-input-wrapper">
                            <i class="fas fa-search search-icon"></i>
                            <input type="text" id="friend-search" placeholder="Enter name or email to search...">
                            <button class="search-btn" onclick="searchUsers()">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="search-results" id="search-results">
                        <div class="search-placeholder">
                            <i class="fas fa-search"></i>
                            <p>Search for friends to get started</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Leaderboards Page -->
    <div class="page" id="leaderboard-page">
        <div class="container">
            <div class="header">
                <h1><i class="fas fa-trophy"></i> Leaderboards</h1>
                <p>See who's leading the pack in the BevyFinder community</p>
            </div>
            
            <div class="leaderboard-tabs">
                <button class="tab-btn active" data-tab="total-drinks">
                    <i class="fas fa-beer"></i> Total Drinks
                </button>
                <button class="tab-btn" data-tab="total-sessions">
                    <i class="fas fa-calendar"></i> Total Sessions
                </button>
                <button class="tab-btn" data-tab="longest-session">
                    <i class="fas fa-clock"></i> Longest Session
                </button>
                <button class="tab-btn" data-tab="searches">
                    <i class="fas fa-search"></i> Most Searches
                </button>
            </div>
            
            <div class="leaderboard-container" id="leaderboard-container">
                <div class="loading-spinner">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>Loading leaderboards...</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 🚨 TEMPORARY AUTHENTICATION BYPASS - FOR TESTING ONLY 🚨
        const TEMP_AUTH_BYPASS = false;
        const TEMP_USER = {
            _id: 'temp-user-123',
            name: 'Test User',
            email: 'test@bevyfinder.com',
            personalDetails: {
                age: 25,
                weight: 70,
                height: 175,
                gender: 'male'
            },
            stats: {
                searches: 0,
                favorites: 0
            },
            profile: {
                preferences: {
                    favoriteDrinks: [],
                    searchHistory: []
                }
            }
        };

        // Mock authentication functions
        function isAuthenticated() {
            return TEMP_AUTH_BYPASS;
        }

        // Check if user is logged in
        function isLoggedIn() {
            const token = localStorage.getItem('token');
            return token && token.length > 0;
        }

        // Note: getCurrentUser function is defined later in the file

        console.log('🔓 Authentication bypass enabled - all features available for testing');

        // Simple page management
        function showPage(pageId) {
            console.log('Showing page:', pageId);
            
            // Hide all pages completely
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => {
                page.classList.remove('active');
                page.style.display = 'none';
                page.style.visibility = 'hidden';
                console.log('Hiding page:', page.id);
            });
            
            // Show target page
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
                targetPage.style.display = 'block';
                targetPage.style.visibility = 'visible';
                console.log('✅ Page shown:', pageId);
                
                // Load saved nights if showing saved-nights-page
                if (pageId === 'saved-nights-page') {
                    loadSavedNights();
                }
            } else {
                console.error('❌ Page not found:', pageId);
            }
        }

        // Menu functions
        function openMenu() {
            console.log('Opening menu...');
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebar-overlay');
            
            if (sidebar && overlay) {
                sidebar.classList.add('open');
                overlay.classList.add('active');
                console.log('✅ Menu opened');
            }
        }

        function closeMenu() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebar-overlay');
            
            if (sidebar && overlay) {
                sidebar.classList.remove('open');
                overlay.classList.remove('active');
            }
        }

        function handleSidebarClick(buttonId) {
            console.log('Sidebar button clicked:', buttonId);
            closeMenu();
            
            switch(buttonId) {
                case 'sidebar-btn-1':
                    showPage('main-app');
                    break;
                case 'sidebar-btn-dashboard':
                    showPage('dashboard-page');
                    // Initialize dashboard with live data
                    console.log('📊 Loading dashboard...');
                    updateDashboardStats();
                    if (isLoggedIn()) {
                        startDashboardUpdates();
                    }
                    break;
                case 'sidebar-btn-2':
                    showPage('favorites-page');
                    break;
                case 'sidebar-btn-3':
                    showPage('history-page');
                    break;
                case 'sidebar-btn-tracking':
                    showPage('tracking-page');
                    break;
                case 'sidebar-btn-4':
                    alert('Settings - Coming Soon!');
                    break;
                case 'sidebar-btn-5':
                    alert('About - Coming Soon!');
                    break;
            }
        }

        // Tab switching
        function switchTab(tab) {
            console.log('Switching to tab:', tab);
            
            // Update tab buttons
            const tabBtns = document.querySelectorAll('.tab-btn');
            tabBtns.forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-tab') === tab) {
                    btn.classList.add('active');
                }
            });
            
            // Show/hide content
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => {
                content.classList.remove('active');
            });
            
            const targetContent = document.getElementById(`${tab}-tab`);
            if (targetContent) {
                targetContent.classList.add('active');
                console.log('✅ Tab switched to:', tab);
            }
        }

        // Enhanced Friends Tab Switching
        function switchFriendsTab(tab) {
            console.log('Switching friends tab to:', tab);
            
            // Update friends tab buttons
            const friendsTabBtns = document.querySelectorAll('.friends-tabs .tab-btn');
            friendsTabBtns.forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-tab') === tab) {
                    btn.classList.add('active');
                }
            });
            
            // Show/hide friends content
            const friendsTabContents = document.querySelectorAll('#friends-page .tab-content');
            friendsTabContents.forEach(content => {
                content.classList.remove('active');
            });
            
            const targetContent = document.getElementById(`${tab}-tab`);
            if (targetContent) {
                targetContent.classList.add('active');
                console.log('✅ Friends tab switched to:', tab);
                
                // Load data for the selected tab
                switch(tab) {
                    case 'friends-list':
                        loadFriends();
                        break;
                    case 'friend-requests':
                        loadFriendRequests();
                        break;
                    case 'find-friends':
                        // Clear search results when switching to find friends
                        document.getElementById('search-results').innerHTML = `
                            <div class="search-placeholder">
                                <i class="fas fa-search"></i>
                                <p>Search for friends to get started</p>
                            </div>
                        `;
                        break;
                }
            }
        }

        // Load friends list
        async function loadFriends() {
            const friendsGrid = document.getElementById('friends-grid');
            const friendsEmpty = document.getElementById('friends-empty');
            
            try {
                const token = localStorage.getItem('token');
                if (!token) {
                    friendsEmpty.style.display = 'block';
                    friendsGrid.style.display = 'none';
                    return;
                }

                const response = await fetch(`${API_BASE_URL}/social/friends`, {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });

                if (response.ok) {
                    const data = await response.json();
                    
                    if (data.friends && data.friends.length > 0) {
                        friendsEmpty.style.display = 'none';
                        friendsGrid.style.display = 'grid';
                        
                        friendsGrid.innerHTML = data.friends.map(friend => `
                            <div class="friend-item">
                                <div class="friend-info">
                                    <div class="friend-avatar">
                                        ${friend.name.charAt(0).toUpperCase()}
                                    </div>
                                    <div class="friend-details">
                                        <h4>${friend.name}</h4>
                                        <span>${friend.email}</span>
                                    </div>
                                </div>
                                <div class="friend-actions">
                                    <button class="btn secondary-btn" onclick="viewFriendProfile('${friend._id}')">
                                        <i class="fas fa-user"></i> Profile
                                    </button>
                                    <button class="btn danger-btn" onclick="removeFriend('${friend._id}')">
                                        <i class="fas fa-user-minus"></i> Remove
                                    </button>
                                </div>
                            </div>
                        `).join('');
                    } else {
                        friendsEmpty.style.display = 'block';
                        friendsGrid.style.display = 'none';
                    }
                } else {
                    friendsEmpty.style.display = 'block';
                    friendsGrid.style.display = 'none';
                }
            } catch (error) {
                console.error('Error loading friends:', error);
                friendsEmpty.style.display = 'block';
                friendsGrid.style.display = 'none';
            }
        }

        // Load friend requests
        async function loadFriendRequests() {
            const requestsList = document.getElementById('requests-list');
            const requestsEmpty = document.getElementById('requests-empty');
            const requestsBadge = document.getElementById('requests-badge');
            
            try {
                const token = localStorage.getItem('token');
                if (!token) {
                    requestsEmpty.style.display = 'block';
                    requestsList.style.display = 'none';
                    return;
                }

                const response = await fetch(`${API_BASE_URL}/social/friend-requests`, {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });

                if (response.ok) {
                    const data = await response.json();
                    
                    if (data.friendRequests && data.friendRequests.length > 0) {
                        requestsEmpty.style.display = 'none';
                        requestsList.style.display = 'flex';
                        
                        // Update notification badge
                        requestsBadge.textContent = data.friendRequests.length;
                        requestsBadge.style.display = 'flex';
                        
                        requestsList.innerHTML = data.friendRequests.map(request => `
                            <div class="request-item">
                                <div class="friend-info">
                                    <div class="friend-avatar">
                                        ${request.from.name.charAt(0).toUpperCase()}
                                    </div>
                                    <div class="friend-details">
                                        <h4>${request.from.name}</h4>
                                        <span>${request.from.email}</span>
                                        <span class="request-date">Sent ${formatTimeAgo(request.date)}</span>
                                    </div>
                                </div>
                                <div class="friend-actions">
                                    <button class="btn primary-btn" onclick="acceptFriendRequest('${request.from._id}')">
                                        <i class="fas fa-check"></i> Accept
                                    </button>
                                    <button class="btn danger-btn" onclick="declineFriendRequest('${request.from._id}')">
                                        <i class="fas fa-times"></i> Decline
                                    </button>
                                </div>
                            </div>
                        `).join('');
                    } else {
                        requestsEmpty.style.display = 'block';
                        requestsList.style.display = 'none';
                        requestsBadge.style.display = 'none';
                    }
                } else {
                    requestsEmpty.style.display = 'block';
                    requestsList.style.display = 'none';
                    requestsBadge.style.display = 'none';
                }
            } catch (error) {
                console.error('Error loading friend requests:', error);
                requestsEmpty.style.display = 'block';
                requestsList.style.display = 'none';
                requestsBadge.style.display = 'none';
            }
        }

        // Enhanced search users function
        async function searchUsers() {
            const query = document.getElementById('friend-search').value.trim();
            const searchResults = document.getElementById('search-results');
            
            if (!query) {
                searchResults.innerHTML = `
                    <div class="search-placeholder">
                        <i class="fas fa-search"></i>
                        <p>Enter a name or email to search for friends</p>
                    </div>
                `;
                return;
            }

            searchResults.innerHTML = `
                <div class="loading-spinner">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>Searching for users...</p>
                </div>
            `;

            try {
                const token = localStorage.getItem('token');
                if (!token) {
                    searchResults.innerHTML = `
                        <div class="search-placeholder">
                            <i class="fas fa-lock"></i>
                            <p>Please log in to search for friends</p>
                        </div>
                    `;
                    return;
                }

                const response = await fetch(`${API_BASE_URL}/social/search-users?query=${encodeURIComponent(query)}`, {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });

                if (response.ok) {
                    const data = await response.json();
                    
                    if (data.users && data.users.length > 0) {
                        searchResults.innerHTML = data.users.map(user => `
                            <div class="user-item">
                                <div class="friend-info">
                                    <div class="friend-avatar">
                                        ${user.name.charAt(0).toUpperCase()}
                                    </div>
                                    <div class="friend-details">
                                        <h4>${user.name}</h4>
                                        <span>${user.email}</span>
                                    </div>
                                </div>
                                <div class="friend-actions">
                                    <button class="btn primary-btn" onclick="sendFriendRequest('${user._id}')">
                                        <i class="fas fa-user-plus"></i> Add Friend
                                    </button>
                                </div>
                            </div>
                        `).join('');
                    } else {
                        searchResults.innerHTML = `
                            <div class="search-placeholder">
                                <i class="fas fa-search"></i>
                                <p>No users found matching "${query}"</p>
                            </div>
                        `;
                    }
                } else {
                    searchResults.innerHTML = `
                        <div class="search-placeholder">
                            <i class="fas fa-exclamation-triangle"></i>
                            <p>Error searching for users</p>
                        </div>
                    `;
                }
            } catch (error) {
                console.error('Error searching users:', error);
                searchResults.innerHTML = `
                    <div class="search-placeholder">
                        <i class="fas fa-exclamation-triangle"></i>
                        <p>Error searching for users</p>
                    </div>
                `;
            }
        }

        // Search function (legacy - now uses smart search)
        function searchBeverage() {
            const input = document.getElementById('beverage-name');
            const query = input.value.trim();
            
            if (query) {
                // Use the smart search functionality
                performSearch(query);
                const dropdown = document.getElementById('search-dropdown');
                dropdown.style.display = 'block';
            } else {
                alert('Please enter a drink name to search!');
            }
        }

        // Photo/Barcode scanning function
        function handlePhotoUpload() {
            console.log('Photo/Barcode scanning function called');
            
            // Simulate barcode scanning with a selection of popular drinks
            const popularDrinks = [
                'carlton_draught', 'victoria_bitter', 'x_gold', 'crown_lager',
                'coopers_pale_ale', 'little_creatures_pale_ale', 'balter_ipa',
                'vodka', 'whiskey', 'gin', 'rum', 'tequila',
                'margarita', 'mojito', 'martini', 'cosmopolitan'
            ];
            
            const randomDrink = popularDrinks[Math.floor(Math.random() * popularDrinks.length)];
            const drink = drinkDatabase[randomDrink];
            
            alert(`📸 Photo/Barcode Scanned Successfully!\n\n🍺 Found: ${drink.name}\n   • ${drink.abv} ABV\n   • ${drink.nutrition.calories} kcal\n   • ${drink.standardDrinks} standards\n\n✅ Drink automatically added to your favorites!\n\n💡 Tip: Use the Night Tracker to monitor your consumption.`);
        }

        // Night Tracker Functions
        let sessionActive = false;
        let sessionStartTime = null;
        let drinks = [];
        let totalAlcohol = 0;
        let totalCalories = 0;
        let totalStandards = 0;
        let totalCarbs = 0;
        let totalSugar = 0;
        let totalProtein = 0;

        // Live Tracking Functions
        let dashboardUpdateInterval = null;
        let activeSessionTimer = null;

        // Track search activity
        async function trackSearch(query, results) {
            try {
                const token = localStorage.getItem('token');
                if (!token) return;

                const response = await fetch(`${API_BASE_URL}/tracking/search`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        query: query,
                        results: results
                    })
                });

                if (response.ok) {
                    console.log('✅ Search tracked successfully');
                    // Update dashboard if visible
                    if (document.getElementById('dashboard-page').classList.contains('active')) {
                        updateDashboardStats();
                    }
                }
            } catch (error) {
                console.error('❌ Error tracking search:', error);
            }
        }

        // Track favorite action
        async function trackFavorite(beverageKey, action) {
            try {
                const token = localStorage.getItem('token');
                if (!token) return;

                const response = await fetch(`${API_BASE_URL}/tracking/favorite`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        beverageKey: beverageKey,
                        action: action
                    })
                });

                if (response.ok) {
                    console.log(`✅ Favorite ${action} tracked successfully`);
                    // Update dashboard if visible
                    if (document.getElementById('dashboard-page').classList.contains('active')) {
                        updateDashboardStats();
                    }
                }
            } catch (error) {
                console.error('❌ Error tracking favorite:', error);
            }
        }

        // Track session activity
        async function trackSession(action, duration = null, drinks = null) {
            try {
                const token = localStorage.getItem('token');
                if (!token) return;

                const response = await fetch(`${API_BASE_URL}/tracking/session`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        action: action,
                        duration: duration,
                        drinks: drinks
                    })
                });

                if (response.ok) {
                    console.log(`✅ Session ${action} tracked successfully`);
                    // Update dashboard if visible
                    if (document.getElementById('dashboard-page').classList.contains('active')) {
                        updateDashboardStats();
                    }
                }
            } catch (error) {
                console.error('❌ Error tracking session:', error);
            }
        }

        // Update dashboard stats
        async function updateDashboardStats() {
            try {
                const token = localStorage.getItem('token');
                if (!token) {
                    console.log('🔑 No token found - showing default dashboard values');
                    // Show default values when not logged in
                    updateDashboardUI({
                        stats: {
                            totalSearches: 0,
                            totalFavorites: 0,
                            totalSessions: 0,
                            longestSession: 0,
                            lastActive: new Date()
                        },
                        today: {
                            searches: 0,
                            favorites: 0
                        },
                        recent: {
                            searches: [],
                            favorites: [],
                            sessions: []
                        },
                        activeSession: null
                    });
                    return;
                }

                console.log('🔄 Fetching dashboard stats from API...');
                const response = await fetch(`${API_BASE_URL}/tracking/dashboard`, {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });

                if (response.ok) {
                    const data = await response.json();
                    console.log('✅ Dashboard stats received:', data.data);
                    updateDashboardUI(data.data);
                } else {
                    console.error('❌ API response not ok:', response.status);
                    // Show default values on API error
                    updateDashboardUI({
                        stats: {
                            totalSearches: 0,
                            totalFavorites: 0,
                            totalSessions: 0,
                            longestSession: 0,
                            lastActive: new Date()
                        },
                        today: {
                            searches: 0,
                            favorites: 0
                        },
                        recent: {
                            searches: [],
                            favorites: [],
                            sessions: []
                        },
                        activeSession: null
                    });
                }
            } catch (error) {
                console.error('❌ Error updating dashboard stats:', error);
                // Show default values on error
                updateDashboardUI({
                    stats: {
                        totalSearches: 0,
                        totalFavorites: 0,
                        totalSessions: 0,
                        longestSession: 0,
                        lastActive: new Date()
                    },
                    today: {
                        searches: 0,
                        favorites: 0
                    },
                    recent: {
                        searches: [],
                        favorites: [],
                        sessions: []
                    },
                    activeSession: null
                });
            }
        }

        // Update dashboard UI with live data
        function updateDashboardUI(data) {
            // Update stat cards with animation
            const searchesCard = document.getElementById('searches-stat');
            const favoritesCard = document.getElementById('favorites-stat');
            const sessionsCard = document.getElementById('sessions-stat');
            const activeSessionCard = document.getElementById('active-session-stat');

            // Add update animation
            [searchesCard, favoritesCard, sessionsCard, activeSessionCard].forEach(card => {
                if (card) {
                    card.classList.add('updating');
                    setTimeout(() => card.classList.remove('updating'), 500);
                }
            });

            // Update search stats
            if (data.stats) {
                const searchesValue = document.getElementById('searches-value');
                const searchesToday = document.getElementById('searches-today');
                if (searchesValue) searchesValue.textContent = data.stats.totalSearches;
                if (searchesToday) searchesToday.textContent = `Today: ${data.today.searches}`;
            }

            // Update favorite stats
            if (data.stats) {
                const favoritesValue = document.getElementById('favorites-value');
                const favoritesToday = document.getElementById('favorites-today');
                if (favoritesValue) favoritesValue.textContent = data.stats.totalFavorites;
                if (favoritesToday) favoritesToday.textContent = `Today: ${data.today.favorites}`;
            }

            // Update session stats
            if (data.stats) {
                const sessionsValue = document.getElementById('sessions-value');
                const sessionsLongest = document.getElementById('sessions-longest');
                if (sessionsValue) sessionsValue.textContent = data.stats.totalSessions;
                if (sessionsLongest) sessionsLongest.textContent = `Longest: ${Math.round(data.stats.longestSession)}m`;
            }

            // Update active session
            if (data.activeSession) {
                const activeSessionValue = document.getElementById('active-session-value');
                const activeSessionTime = document.getElementById('active-session-time');
                if (activeSessionValue) activeSessionValue.textContent = 'Active';
                if (activeSessionTime) {
                    const startTime = new Date(data.activeSession.startTime);
                    const duration = Math.floor((Date.now() - startTime.getTime()) / 1000 / 60);
                    activeSessionTime.textContent = `${duration}m`;
                }
                
                // Add active session styling
                if (activeSessionCard) {
                    activeSessionCard.classList.add('active-session');
                }
            } else {
                const activeSessionValue = document.getElementById('active-session-value');
                const activeSessionTime = document.getElementById('active-session-time');
                if (activeSessionValue) activeSessionValue.textContent = '--';
                if (activeSessionTime) activeSessionTime.textContent = 'No active session';
                
                // Remove active session styling
                if (activeSessionCard) {
                    activeSessionCard.classList.remove('active-session');
                }
            }

            // Update recent activity
            updateRecentActivity(data.recent);
        }

        // Update recent activity sections
        function updateRecentActivity(recent) {
            // Update recent searches
            const recentSearches = document.getElementById('recent-searches');
            if (recentSearches && recent.searches) {
                if (recent.searches.length === 0) {
                    recentSearches.innerHTML = '<div class="recent-item empty">No recent searches</div>';
                } else {
                    recentSearches.innerHTML = recent.searches.map(search => `
                        <div class="recent-item">
                            <div class="recent-item-title">"${search.query}"</div>
                            <div class="recent-item-time">${formatTimeAgo(search.timestamp)}</div>
                            <div class="recent-item-details">${search.results} results found</div>
                        </div>
                    `).join('');
                }
            }

            // Update recent favorites
            const recentFavorites = document.getElementById('recent-favorites');
            if (recentFavorites && recent.favorites) {
                if (recent.favorites.length === 0) {
                    recentFavorites.innerHTML = '<div class="recent-item empty">No recent favorites</div>';
                } else {
                    recentFavorites.innerHTML = recent.favorites.map(fav => `
                        <div class="recent-item">
                            <div class="recent-item-title">${fav.beverageKey}</div>
                            <div class="recent-item-time">${formatTimeAgo(fav.timestamp)}</div>
                            <div class="recent-item-details">${fav.action === 'add' ? 'Added to' : 'Removed from'} favorites</div>
                        </div>
                    `).join('');
                }
            }

            // Update recent sessions
            const recentSessions = document.getElementById('recent-sessions');
            if (recentSessions && recent.sessions) {
                if (recent.sessions.length === 0) {
                    recentSessions.innerHTML = '<div class="recent-item empty">No recent sessions</div>';
                } else {
                    recentSessions.innerHTML = recent.sessions.map(session => `
                        <div class="recent-item">
                            <div class="recent-item-title">${session.status === 'active' ? 'Active Session' : 'Completed Session'}</div>
                            <div class="recent-item-time">${formatTimeAgo(session.startTime)}</div>
                            <div class="recent-item-details">${session.duration ? Math.round(session.duration) + 'm' : 'In progress'}</div>
                        </div>
                    `).join('');
                }
            }
        }

        // Format time ago
        function formatTimeAgo(timestamp) {
            const now = new Date();
            const time = new Date(timestamp);
            const diffMs = now - time;
            const diffMins = Math.floor(diffMs / 60000);
            const diffHours = Math.floor(diffMins / 60);
            const diffDays = Math.floor(diffHours / 24);

            if (diffMins < 1) return 'Just now';
            if (diffMins < 60) return `${diffMins}m ago`;
            if (diffHours < 24) return `${diffHours}h ago`;
            return `${diffDays}d ago`;
        }

        // Start dashboard live updates
        function startDashboardUpdates() {
            if (dashboardUpdateInterval) {
                clearInterval(dashboardUpdateInterval);
            }
            
            dashboardUpdateInterval = setInterval(() => {
                if (document.getElementById('dashboard-page').classList.contains('active')) {
                    updateDashboardStats();
                }
            }, 30000); // Update every 30 seconds
        }

        // Stop dashboard updates
        function stopDashboardUpdates() {
            if (dashboardUpdateInterval) {
                clearInterval(dashboardUpdateInterval);
                dashboardUpdateInterval = null;
            }
        }

        // Handle page visibility changes
        document.addEventListener('visibilitychange', () => {
            if (document.hidden) {
                stopDashboardUpdates();
            } else if (document.getElementById('dashboard-page').classList.contains('active')) {
                startDashboardUpdates();
            }
        });

        // Initialize dashboard when page loads
        document.addEventListener('DOMContentLoaded', () => {
            // Start dashboard updates if dashboard is active
            if (document.getElementById('dashboard-page').classList.contains('active') && isLoggedIn()) {
                updateDashboardStats();
                startDashboardUpdates();
            }
            
            // Initialize friends tab functionality
            initializeFriendsTabs();
            
            // Initialize PWA installation prompt
            initializePWAInstall();
        });
        
        // PWA Installation functionality
        let deferredPrompt;
        
        function initializePWAInstall() {
            // Check if PWA is already installed
            if (window.matchMedia('(display-mode: standalone)').matches) {
                console.log('PWA: App is already installed');
                return;
            }
            
            // Listen for beforeinstallprompt event
            window.addEventListener('beforeinstallprompt', (e) => {
                console.log('PWA: beforeinstallprompt event fired');
                e.preventDefault();
                deferredPrompt = e;
                
                // Show install prompt after a delay
                setTimeout(() => {
                    showInstallPrompt();
                }, 3000);
            });
            
            // Listen for app installed event
            window.addEventListener('appinstalled', (evt) => {
                console.log('PWA: App was installed');
                hideInstallPrompt();
            });
        }
        
        function showInstallPrompt() {
            // Create install prompt if it doesn't exist
            if (!document.getElementById('pwa-install-prompt')) {
                const prompt = document.createElement('div');
                prompt.id = 'pwa-install-prompt';
                prompt.innerHTML = `
                    <div class="pwa-install-content">
                        <div class="pwa-install-icon">🍺</div>
                        <div class="pwa-install-text">
                            <h3>Install BevyFinder</h3>
                            <p>Add to your home screen for quick access!</p>
                        </div>
                        <div class="pwa-install-buttons">
                            <button class="pwa-install-btn" onclick="installPWA()">Install</button>
                            <button class="pwa-dismiss-btn" onclick="hideInstallPrompt()">Not Now</button>
                        </div>
                    </div>
                `;
                document.body.appendChild(prompt);
            }
        }
        
        function hideInstallPrompt() {
            const prompt = document.getElementById('pwa-install-prompt');
            if (prompt) {
                prompt.remove();
            }
        }
        
        function installPWA() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('PWA: User accepted the install prompt');
                    } else {
                        console.log('PWA: User dismissed the install prompt');
                    }
                    deferredPrompt = null;
                });
            } else {
                // Fallback for browsers that don't support beforeinstallprompt
                showNotification('To install: Tap the share button and select "Add to Home Screen"', 'info');
            }
        }

        // Initialize friends tabs
        function initializeFriendsTabs() {
            const friendsTabBtns = document.querySelectorAll('.friends-tabs .tab-btn');
            friendsTabBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const tab = btn.getAttribute('data-tab');
                    switchFriendsTab(tab);
                });
            });
        }

        // Comprehensive drink database with 200+ drinks
        const drinkDatabase = {
            // International Beers
            'heineken': {
                name: 'Heineken Lager (330ml)',
                type: 'Beer',
                alcohol: 'Lager',
                abv: '5.0%',
                standardDrinks: '1.3',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A premium Dutch lager with a distinctive green bottle and red star. Features a crisp, clean taste with subtle hop bitterness and a smooth finish. Light-bodied with bright carbonation and a refreshing mouthfeel. The finish is clean and slightly dry, making it perfect for any occasion. One 330ml bottle contains 1.3 standard drinks.',
                nutrition: {
                    calories: 142,
                    carbs: 11.4,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Dutch', 'Premium', 'Crisp']
            },
            'corona': {
                name: 'Corona Extra (330ml)',
                type: 'Beer',
                alcohol: 'Mexican Lager',
                abv: '4.6%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Corn', 'Hops', 'Water', 'Yeast'],
                description: 'A refreshing Mexican lager with a light, crisp taste. Features delicate notes of corn, pale malt, and subtle hop bitterness. Light-bodied with bright carbonation and a smooth, thirst-quenching mouthfeel. Traditionally served with a lime wedge to enhance the citrus notes. The finish is clean and refreshing, perfect for hot weather and casual drinking. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 148,
                    carbs: 14.1,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Mexican', 'Light', 'Refreshing']
            },
            'budweiser': {
                name: 'Budweiser (330ml)',
                type: 'Beer',
                alcohol: 'American Lager',
                abv: '5.0%',
                standardDrinks: '1.3',
                ingredients: ['Malted barley', 'Rice', 'Hops', 'Water', 'Yeast'],
                description: 'The King of Beers, a classic American lager with a smooth, easy-drinking character. Features notes of rice, pale malt, and gentle hop bitterness. Light-bodied with smooth carbonation and a clean, crisp finish. The finish is balanced and refreshing, making it a great choice for any occasion. One 330ml bottle contains 1.3 standard drinks.',
                nutrition: {
                    calories: 145,
                    carbs: 10.6,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'American', 'Classic', 'Smooth']
            },
            'guinness': {
                name: 'Guinness Draught (470ml)',
                type: 'Beer',
                alcohol: 'Irish Stout',
                abv: '4.2%',
                standardDrinks: '1.6',
                ingredients: ['Malted barley', 'Roasted barley', 'Hops', 'Water', 'Yeast'],
                description: 'The world\'s most famous stout with its distinctive dark color and creamy head. Features rich notes of roasted barley, coffee, chocolate, and a touch of sweetness. Medium-bodied with smooth carbonation and a velvety mouthfeel. The finish is dry and slightly bitter, with lingering notes of coffee and dark chocolate. One 470ml can contains 1.6 standard drinks.',
                nutrition: {
                    calories: 178,
                    carbs: 14.4,
                    protein: 2.3,
                    fat: 0,
                    sugar: 0,
                    servingSize: '470ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Stout', 'Irish', 'Dark', 'Creamy']
            },
            'stella': {
                name: 'Stella Artois (330ml)',
                type: 'Beer',
                alcohol: 'Belgian Lager',
                abv: '5.2%',
                standardDrinks: '1.4',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A premium Belgian lager with a rich history dating back to 1366. Features a balanced taste with notes of pale malt, noble hops, and a touch of sweetness. Medium-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, with a subtle hop bitterness. One 330ml bottle contains 1.4 standard drinks.',
                nutrition: {
                    calories: 150,
                    carbs: 12.8,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Belgian', 'Premium', 'Balanced']
            },
            'carlsberg': {
                name: 'Carlsberg (330ml)',
                type: 'Beer',
                alcohol: 'Danish Lager',
                abv: '5.0%',
                standardDrinks: '1.3',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A classic Danish lager with a smooth, easy-drinking character. Features notes of pale malt, gentle hop bitterness, and a touch of sweetness. Light to medium-bodied with smooth carbonation and a clean, refreshing finish. The finish is balanced and crisp, making it perfect for any occasion. One 330ml bottle contains 1.3 standard drinks.',
                nutrition: {
                    calories: 140,
                    carbs: 11.2,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Danish', 'Classic', 'Smooth']
            },
            'peroni': {
                name: 'Peroni Nastro Azzurro (330ml)',
                type: 'Beer',
                alcohol: 'Italian Lager',
                abv: '5.1%',
                standardDrinks: '1.3',
                ingredients: ['Malted barley', 'Corn', 'Hops', 'Water', 'Yeast'],
                description: 'A premium Italian lager with a crisp, refreshing taste. Features delicate notes of corn, pale malt, and subtle hop bitterness. Light-bodied with bright carbonation and a smooth, thirst-quenching mouthfeel. The finish is clean and slightly dry, with a subtle hop character. One 330ml bottle contains 1.3 standard drinks.',
                nutrition: {
                    calories: 145,
                    carbs: 12.1,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Italian', 'Premium', 'Crisp']
            },
            'fosters': {
                name: 'Fosters Lager (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.0%',
                standardDrinks: '1.0',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A classic Australian lager with a smooth, easy-drinking character. Features notes of pale malt, gentle hop bitterness, and a touch of sweetness. Light-bodied with smooth carbonation and a clean, refreshing finish. The finish is balanced and crisp, making it perfect for casual drinking. One 330ml bottle contains 1.0 standard drinks.',
                nutrition: {
                    calories: 138,
                    carbs: 10.8,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Classic', 'Smooth']
            },
            'coors': {
                name: 'Coors Light (330ml)',
                type: 'Beer',
                alcohol: 'American Light Lager',
                abv: '4.2%',
                standardDrinks: '1.1',
                ingredients: ['Malted barley', 'Rice', 'Hops', 'Water', 'Yeast'],
                description: 'A light American lager with a crisp, refreshing taste. Features delicate notes of rice, pale malt, and subtle hop bitterness. Light-bodied with bright carbonation and a smooth, thirst-quenching mouthfeel. The finish is clean and slightly dry, perfect for hot weather and casual drinking. One 330ml bottle contains 1.1 standard drinks.',
                nutrition: {
                    calories: 102,
                    carbs: 5.0,
                    protein: 0.9,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'American', 'Light', 'Crisp']
            },
            'miller': {
                name: 'Miller Lite (330ml)',
                type: 'Beer',
                alcohol: 'American Light Lager',
                abv: '4.2%',
                standardDrinks: '1.1',
                ingredients: ['Malted barley', 'Corn', 'Hops', 'Water', 'Yeast'],
                description: 'A light American lager with a smooth, easy-drinking character. Features delicate notes of corn, pale malt, and gentle hop bitterness. Light-bodied with smooth carbonation and a clean, refreshing finish. The finish is balanced and crisp, perfect for casual drinking. One 330ml bottle contains 1.1 standard drinks.',
                nutrition: {
                    calories: 96,
                    carbs: 3.2,
                    protein: 0.9,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'American', 'Light', 'Smooth']
            },
            'blue_moon': {
                name: 'Blue Moon Belgian White (330ml)',
                type: 'Beer',
                alcohol: 'Belgian Wheat Ale',
                abv: '5.4%',
                standardDrinks: '1.4',
                ingredients: ['Wheat malt', 'Malted barley', 'Orange peel', 'Coriander', 'Hops', 'Water', 'Yeast'],
                description: 'A Belgian-style wheat ale with a hazy appearance and citrus notes. Features delicate notes of wheat, orange peel, coriander, and subtle hop bitterness. Light to medium-bodied with bright carbonation and a smooth, refreshing mouthfeel. Traditionally served with an orange slice to enhance the citrus character. One 330ml bottle contains 1.4 standard drinks.',
                nutrition: {
                    calories: 164,
                    carbs: 13.8,
                    protein: 1.4,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Wheat Ale', 'Belgian', 'Citrus', 'Hazy']
            },
            'sierra_nevada': {
                name: 'Sierra Nevada Pale Ale (330ml)',
                type: 'Beer',
                alcohol: 'American Pale Ale',
                abv: '5.6%',
                standardDrinks: '1.5',
                ingredients: ['Malted barley', 'Cascade hops', 'Water', 'Yeast'],
                description: 'A classic American pale ale with bold hop character. Features prominent notes of citrus hops, caramel malt, and a balanced bitterness. Medium-bodied with bright carbonation and a smooth, hoppy mouthfeel. The finish is clean and slightly bitter, with lingering citrus hop notes. One 330ml bottle contains 1.5 standard drinks.',
                nutrition: {
                    calories: 175,
                    carbs: 14.2,
                    protein: 1.8,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Pale Ale', 'American', 'Hoppy', 'Citrus']
            },
            'sam_adams': {
                name: 'Samuel Adams Boston Lager (330ml)',
                type: 'Beer',
                alcohol: 'American Lager',
                abv: '5.0%',
                standardDrinks: '1.3',
                ingredients: ['Malted barley', 'Hallertau hops', 'Water', 'Yeast'],
                description: 'A craft American lager with a rich, malty character. Features notes of caramel malt, noble hops, and a balanced bitterness. Medium-bodied with smooth carbonation and a smooth, malty mouthfeel. The finish is clean and slightly sweet, with lingering malt notes. One 330ml bottle contains 1.3 standard drinks.',
                nutrition: {
                    calories: 160,
                    carbs: 13.2,
                    protein: 1.5,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'American', 'Craft', 'Malty']
            },
            'ipa': {
                name: 'India Pale Ale (330ml)',
                type: 'Beer',
                alcohol: 'IPA',
                abv: '6.5%',
                standardDrinks: '1.7',
                ingredients: ['Malted barley', 'Citra hops', 'Mosaic hops', 'Water', 'Yeast'],
                description: 'A bold India Pale Ale with intense hop character. Features prominent notes of tropical fruit, citrus hops, and a strong bitterness. Medium to full-bodied with bright carbonation and a smooth, hoppy mouthfeel. The finish is clean and bitter, with lingering tropical hop notes. One 330ml bottle contains 1.7 standard drinks.',
                nutrition: {
                    calories: 180,
                    carbs: 15.5,
                    protein: 1.9,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'IPA', 'Hoppy', 'Tropical', 'Bold']
            },
            'stout': {
                name: 'Stout (330ml)',
                type: 'Beer',
                alcohol: 'Stout',
                abv: '5.0%',
                standardDrinks: '1.3',
                ingredients: ['Malted barley', 'Roasted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A dark, rich stout with complex malt character. Features notes of roasted barley, coffee, chocolate, and a touch of sweetness. Medium to full-bodied with smooth carbonation and a velvety mouthfeel. The finish is dry and slightly bitter, with lingering notes of coffee and dark chocolate. One 330ml bottle contains 1.3 standard drinks.',
                nutrition: {
                    calories: 170,
                    carbs: 14.8,
                    protein: 1.7,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Stout', 'Dark', 'Rich', 'Coffee']
            },
            'wheat_beer': {
                name: 'Wheat Beer (330ml)',
                type: 'Beer',
                alcohol: 'Wheat Ale',
                abv: '5.0%',
                standardDrinks: '1.3',
                ingredients: ['Wheat malt', 'Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A refreshing wheat ale with a hazy appearance and smooth character. Features delicate notes of wheat, banana, clove, and subtle hop bitterness. Light to medium-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly sweet, with lingering wheat notes. One 330ml bottle contains 1.3 standard drinks.',
                nutrition: {
                    calories: 155,
                    carbs: 13.1,
                    protein: 1.4,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Wheat Ale', 'Hazy', 'Smooth', 'Refreshing']
            },

            // Wines - Red Wine with ABV variants
            'red_wine_12': {
                name: 'Red Wine (150ml)',
                type: 'Wine',
                alcohol: 'Red Wine',
                abv: '12.0%',
                standardDrinks: '1.4',
                ingredients: ['Red grapes', 'Yeast'],
                description: 'A classic red wine with rich, complex flavors. Features notes of dark fruit, tannins, and subtle oak character. Medium to full-bodied with smooth tannins and a rich, velvety mouthfeel. The finish is long and complex, with lingering notes of fruit and spice. One 150ml glass contains 1.4 standard drinks.',
                nutrition: {
                    calories: 107,
                    carbs: 3.4,
                    protein: 0.1,
                    fat: 0,
                    sugar: 0.9,
                    servingSize: '150ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Wine', 'Red', 'Rich', 'Complex', 'Tannic']
            },
            'red_wine_12_5': {
                name: 'Red Wine (150ml)',
                type: 'Wine',
                alcohol: 'Red Wine',
                abv: '12.5%',
                standardDrinks: '1.5',
                ingredients: ['Red grapes', 'Yeast'],
                description: 'A classic red wine with rich, complex flavors. Features notes of dark fruit, tannins, and subtle oak character. Medium to full-bodied with smooth tannins and a rich, velvety mouthfeel. The finish is long and complex, with lingering notes of fruit and spice. One 150ml glass contains 1.5 standard drinks.',
                nutrition: {
                    calories: 112,
                    carbs: 3.6,
                    protein: 0.1,
                    fat: 0,
                    sugar: 0.9,
                    servingSize: '150ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Wine', 'Red', 'Rich', 'Complex', 'Tannic']
            },
            'red_wine_13': {
                name: 'Red Wine (150ml)',
                type: 'Wine',
                alcohol: 'Red Wine',
                abv: '13.0%',
                standardDrinks: '1.6',
                ingredients: ['Red grapes', 'Yeast'],
                description: 'A classic red wine with rich, complex flavors. Features notes of dark fruit, tannins, and subtle oak character. Medium to full-bodied with smooth tannins and a rich, velvety mouthfeel. The finish is long and complex, with lingering notes of fruit and spice. One 150ml glass contains 1.6 standard drinks.',
                nutrition: {
                    calories: 116,
                    carbs: 3.7,
                    protein: 0.1,
                    fat: 0,
                    sugar: 0.9,
                    servingSize: '150ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Wine', 'Red', 'Rich', 'Complex', 'Tannic']
            },
            'red_wine_13_5': {
                name: 'Red Wine (150ml)',
                type: 'Wine',
                alcohol: 'Red Wine',
                abv: '13.5%',
                standardDrinks: '1.6',
                ingredients: ['Red grapes', 'Yeast'],
                description: 'A classic red wine with rich, complex flavors. Features notes of dark fruit, tannins, and subtle oak character. Medium to full-bodied with smooth tannins and a rich, velvety mouthfeel. The finish is long and complex, with lingering notes of fruit and spice. One 150ml glass contains 1.6 standard drinks.',
                nutrition: {
                    calories: 120,
                    carbs: 3.8,
                    protein: 0.1,
                    fat: 0,
                    sugar: 1.0,
                    servingSize: '150ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Wine', 'Red', 'Rich', 'Complex', 'Tannic']
            },
            'red_wine_14': {
                name: 'Red Wine (150ml)',
                type: 'Wine',
                alcohol: 'Red Wine',
                abv: '14.0%',
                standardDrinks: '1.7',
                ingredients: ['Red grapes', 'Yeast'],
                description: 'A classic red wine with rich, complex flavors. Features notes of dark fruit, tannins, and subtle oak character. Medium to full-bodied with smooth tannins and a rich, velvety mouthfeel. The finish is long and complex, with lingering notes of fruit and spice. One 150ml glass contains 1.7 standard drinks.',
                nutrition: {
                    calories: 125,
                    carbs: 4.0,
                    protein: 0.1,
                    fat: 0,
                    sugar: 1.0,
                    servingSize: '150ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Wine', 'Red', 'Rich', 'Complex', 'Tannic']
            },
            'red_wine_14_5': {
                name: 'Red Wine (150ml)',
                type: 'Wine',
                alcohol: 'Red Wine',
                abv: '14.5%',
                standardDrinks: '1.7',
                ingredients: ['Red grapes', 'Yeast'],
                description: 'A classic red wine with rich, complex flavors. Features notes of dark fruit, tannins, and subtle oak character. Medium to full-bodied with smooth tannins and a rich, velvety mouthfeel. The finish is long and complex, with lingering notes of fruit and spice. One 150ml glass contains 1.7 standard drinks.',
                nutrition: {
                    calories: 129,
                    carbs: 4.1,
                    protein: 0.1,
                    fat: 0,
                    sugar: 1.0,
                    servingSize: '150ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Wine', 'Red', 'Rich', 'Complex', 'Tannic']
            },
            'red_wine_15': {
                name: 'Red Wine (150ml)',
                type: 'Wine',
                alcohol: 'Red Wine',
                abv: '15.0%',
                standardDrinks: '1.8',
                ingredients: ['Red grapes', 'Yeast'],
                description: 'A classic red wine with rich, complex flavors. Features notes of dark fruit, tannins, and subtle oak character. Medium to full-bodied with smooth tannins and a rich, velvety mouthfeel. The finish is long and complex, with lingering notes of fruit and spice. One 150ml glass contains 1.8 standard drinks.',
                nutrition: {
                    calories: 133,
                    carbs: 4.3,
                    protein: 0.1,
                    fat: 0,
                    sugar: 1.1,
                    servingSize: '150ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Wine', 'Red', 'Rich', 'Complex', 'Tannic']
            },
            // White Wine with ABV variants
            'white_wine_12': {
                name: 'White Wine (150ml)',
                type: 'Wine',
                alcohol: 'White Wine',
                abv: '12.0%',
                standardDrinks: '1.4',
                ingredients: ['White grapes', 'Yeast'],
                description: 'A crisp white wine with bright, refreshing flavors. Features notes of citrus, green apple, and subtle floral character. Light to medium-bodied with bright acidity and a smooth, refreshing mouthfeel. The finish is clean and slightly acidic, with lingering notes of citrus and stone fruit. One 150ml glass contains 1.4 standard drinks.',
                nutrition: {
                    calories: 103,
                    carbs: 3.3,
                    protein: 0.1,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '150ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Wine', 'White', 'Crisp', 'Refreshing', 'Citrus']
            },
            'white_wine_12_5': {
                name: 'White Wine (150ml)',
                type: 'Wine',
                alcohol: 'White Wine',
                abv: '12.5%',
                standardDrinks: '1.5',
                ingredients: ['White grapes', 'Yeast'],
                description: 'A crisp white wine with bright, refreshing flavors. Features notes of citrus, green apple, and subtle floral character. Light to medium-bodied with bright acidity and a smooth, refreshing mouthfeel. The finish is clean and slightly acidic, with lingering notes of citrus and stone fruit. One 150ml glass contains 1.5 standard drinks.',
                nutrition: {
                    calories: 107,
                    carbs: 3.4,
                    protein: 0.1,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '150ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Wine', 'White', 'Crisp', 'Refreshing', 'Citrus']
            },
            'white_wine_13': {
                name: 'White Wine (150ml)',
                type: 'Wine',
                alcohol: 'White Wine',
                abv: '13.0%',
                standardDrinks: '1.6',
                ingredients: ['White grapes', 'Yeast'],
                description: 'A crisp white wine with bright, refreshing flavors. Features notes of citrus, green apple, and subtle floral character. Light to medium-bodied with bright acidity and a smooth, refreshing mouthfeel. The finish is clean and slightly acidic, with lingering notes of citrus and stone fruit. One 150ml glass contains 1.6 standard drinks.',
                nutrition: {
                    calories: 112,
                    carbs: 3.6,
                    protein: 0.1,
                    fat: 0,
                    sugar: 0.8,
                    servingSize: '150ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Wine', 'White', 'Crisp', 'Refreshing', 'Citrus']
            },
            'white_wine_13_5': {
                name: 'White Wine (150ml)',
                type: 'Wine',
                alcohol: 'White Wine',
                abv: '13.5%',
                standardDrinks: '1.6',
                ingredients: ['White grapes', 'Yeast'],
                description: 'A crisp white wine with bright, refreshing flavors. Features notes of citrus, green apple, and subtle floral character. Light to medium-bodied with bright acidity and a smooth, refreshing mouthfeel. The finish is clean and slightly acidic, with lingering notes of citrus and stone fruit. One 150ml glass contains 1.6 standard drinks.',
                nutrition: {
                    calories: 116,
                    carbs: 3.7,
                    protein: 0.1,
                    fat: 0,
                    sugar: 0.8,
                    servingSize: '150ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Wine', 'White', 'Crisp', 'Refreshing', 'Citrus']
            },
            'white_wine_14': {
                name: 'White Wine (150ml)',
                type: 'Wine',
                alcohol: 'White Wine',
                abv: '14.0%',
                standardDrinks: '1.7',
                ingredients: ['White grapes', 'Yeast'],
                description: 'A crisp white wine with bright, refreshing flavors. Features notes of citrus, green apple, and subtle floral character. Light to medium-bodied with bright acidity and a smooth, refreshing mouthfeel. The finish is clean and slightly acidic, with lingering notes of citrus and stone fruit. One 150ml glass contains 1.7 standard drinks.',
                nutrition: {
                    calories: 120,
                    carbs: 3.8,
                    protein: 0.1,
                    fat: 0,
                    sugar: 0.8,
                    servingSize: '150ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Wine', 'White', 'Crisp', 'Refreshing', 'Citrus']
            },
            'white_wine_14_5': {
                name: 'White Wine (150ml)',
                type: 'Wine',
                alcohol: 'White Wine',
                abv: '14.5%',
                standardDrinks: '1.7',
                ingredients: ['White grapes', 'Yeast'],
                description: 'A crisp white wine with bright, refreshing flavors. Features notes of citrus, green apple, and subtle floral character. Light to medium-bodied with bright acidity and a smooth, refreshing mouthfeel. The finish is clean and slightly acidic, with lingering notes of citrus and stone fruit. One 150ml glass contains 1.7 standard drinks.',
                nutrition: {
                    calories: 124,
                    carbs: 4.0,
                    protein: 0.1,
                    fat: 0,
                    sugar: 0.9,
                    servingSize: '150ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Wine', 'White', 'Crisp', 'Refreshing', 'Citrus']
            },
            'white_wine_15': {
                name: 'White Wine (150ml)',
                type: 'Wine',
                alcohol: 'White Wine',
                abv: '15.0%',
                standardDrinks: '1.8',
                ingredients: ['White grapes', 'Yeast'],
                description: 'A crisp white wine with bright, refreshing flavors. Features notes of citrus, green apple, and subtle floral character. Light to medium-bodied with bright acidity and a smooth, refreshing mouthfeel. The finish is clean and slightly acidic, with lingering notes of citrus and stone fruit. One 150ml glass contains 1.8 standard drinks.',
                nutrition: {
                    calories: 128,
                    carbs: 4.1,
                    protein: 0.1,
                    fat: 0,
                    sugar: 0.9,
                    servingSize: '150ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Wine', 'White', 'Crisp', 'Refreshing', 'Citrus']
            },
            'rose_wine': {
                name: 'Rosé Wine (175ml)',
                type: 'Wine',
                alcohol: 'Rosé Wine',
                abv: '12.0%',
                standardDrinks: '1.7',
                ingredients: ['Red grapes', 'Yeast'],
                description: 'A refreshing rosé wine with delicate, fruity flavors. Features notes of strawberry, raspberry, and subtle floral character. Light-bodied with bright acidity and a smooth, refreshing mouthfeel. The finish is clean and slightly sweet, with lingering notes of red fruit. One 175ml glass contains 1.7 standard drinks.',
                nutrition: {
                    calories: 122,
                    carbs: 3.9,
                    protein: 0.1,
                    fat: 0,
                    sugar: 0.9,
                    servingSize: '175ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Wine', 'Rosé', 'Fruity', 'Refreshing', 'Strawberry']
            },
            'champagne': {
                name: 'Champagne (175ml)',
                type: 'Wine',
                alcohol: 'Sparkling Wine',
                abv: '12.0%',
                standardDrinks: '1.7',
                ingredients: ['Chardonnay grapes', 'Pinot Noir grapes', 'Pinot Meunier grapes', 'Yeast'],
                description: 'A premium sparkling wine with fine bubbles and elegant flavors. Features notes of green apple, citrus, brioche, and subtle yeast character. Light-bodied with bright carbonation and a smooth, effervescent mouthfeel. The finish is clean and slightly acidic, with lingering notes of citrus and toast. One 175ml glass contains 1.7 standard drinks.',
                nutrition: {
                    calories: 115,
                    carbs: 3.2,
                    protein: 0.1,
                    fat: 0,
                    sugar: 0.8,
                    servingSize: '175ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Wine', 'Sparkling', 'Premium', 'Elegant', 'Bubbles']
            },
            'prosecco': {
                name: 'Prosecco (175ml)',
                type: 'Wine',
                alcohol: 'Sparkling Wine',
                abv: '11.0%',
                standardDrinks: '1.6',
                ingredients: ['Glera grapes', 'Yeast'],
                description: 'A refreshing Italian sparkling wine with bright, fruity flavors. Features notes of green apple, pear, and subtle floral character. Light-bodied with bright carbonation and a smooth, effervescent mouthfeel. The finish is clean and slightly sweet, with lingering notes of stone fruit. One 175ml glass contains 1.6 standard drinks.',
                nutrition: {
                    calories: 110,
                    carbs: 3.0,
                    protein: 0.1,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '175ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Wine', 'Sparkling', 'Italian', 'Fruity', 'Refreshing']
            },

            // Spirits (25ml shots)
            'vodka': {
                name: 'Vodka (25ml)',
                type: 'Spirit',
                alcohol: 'Vodka',
                abv: '40.0%',
                standardDrinks: '0.8',
                ingredients: ['Grain', 'Water'],
                description: 'A clean, neutral spirit with a smooth, crisp character. Features a pure, clean taste with subtle grain notes and a smooth finish. Light-bodied with a clean, neutral mouthfeel. The finish is smooth and slightly warming, making it perfect for mixing in cocktails. One 25ml shot contains 0.8 standard drinks.',
                nutrition: {
                    calories: 55,
                    carbs: 0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '25ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Vodka', 'Clean', 'Neutral', 'Smooth']
            },
            'whiskey': {
                name: 'Whiskey (25ml)',
                type: 'Spirit',
                alcohol: 'Whiskey',
                abv: '40.0%',
                standardDrinks: '0.8',
                ingredients: ['Malted barley', 'Water'],
                description: 'A rich, complex spirit with deep, warming flavors. Features notes of oak, vanilla, caramel, and subtle spice character. Medium-bodied with a smooth, warming mouthfeel. The finish is long and complex, with lingering notes of oak and spice. One 25ml shot contains 0.8 standard drinks.',
                nutrition: {
                    calories: 60,
                    carbs: 0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '25ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Whiskey', 'Rich', 'Complex', 'Oak']
            },
            'gin': {
                name: 'Gin (25ml)',
                type: 'Spirit',
                alcohol: 'Gin',
                abv: '40.0%',
                standardDrinks: '0.8',
                ingredients: ['Grain', 'Juniper berries', 'Botanicals', 'Water'],
                description: 'A botanical spirit with distinctive juniper and herbal flavors. Features notes of juniper, citrus, herbs, and subtle spice character. Light to medium-bodied with a smooth, botanical mouthfeel. The finish is clean and slightly herbal, with lingering notes of juniper and citrus. One 25ml shot contains 0.8 standard drinks.',
                nutrition: {
                    calories: 55,
                    carbs: 0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '25ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Gin', 'Botanical', 'Juniper', 'Herbal']
            },
            'rum': {
                name: 'Rum (25ml)',
                type: 'Spirit',
                alcohol: 'Rum',
                abv: '40.0%',
                standardDrinks: '0.8',
                ingredients: ['Sugarcane', 'Water'],
                description: 'A smooth, sweet spirit with tropical and caramel flavors. Features notes of sugarcane, vanilla, caramel, and subtle spice character. Medium-bodied with a smooth, sweet mouthfeel. The finish is warm and slightly sweet, with lingering notes of caramel and spice. One 25ml shot contains 0.8 standard drinks.',
                nutrition: {
                    calories: 55,
                    carbs: 0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '25ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Rum', 'Sweet', 'Tropical', 'Caramel']
            },
            'tequila': {
                name: 'Tequila (25ml)',
                type: 'Spirit',
                alcohol: 'Tequila',
                abv: '40.0%',
                standardDrinks: '0.8',
                ingredients: ['Blue agave', 'Water'],
                description: 'A distinctive Mexican spirit with earthy, agave flavors. Features notes of agave, pepper, citrus, and subtle herbal character. Medium-bodied with a smooth, earthy mouthfeel. The finish is warm and slightly peppery, with lingering notes of agave and citrus. One 25ml shot contains 0.8 standard drinks.',
                nutrition: {
                    calories: 55,
                    carbs: 0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '25ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Tequila', 'Agave', 'Earthy', 'Peppery']
            },
            'brandy': {
                name: 'Brandy (25ml)',
                type: 'Spirit',
                alcohol: 'Brandy',
                abv: '40.0%',
                standardDrinks: '0.8',
                ingredients: ['Grapes', 'Water'],
                description: 'A rich, complex spirit with deep, warming flavors. Features notes of oak, vanilla, caramel, and subtle fruit character. Medium-bodied with a smooth, warming mouthfeel. The finish is long and complex, with lingering notes of oak and spice. One 25ml shot contains 0.8 standard drinks.',
                nutrition: {
                    calories: 60,
                    carbs: 0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '25ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Brandy', 'Rich', 'Complex', 'Oak']
            },
            'cognac': {
                name: 'Cognac (25ml)',
                type: 'Spirit',
                alcohol: 'Cognac',
                abv: '40.0%',
                standardDrinks: '0.8',
                ingredients: ['Grapes', 'Water'],
                description: 'A premium French brandy with elegant, refined flavors. Features notes of oak, vanilla, caramel, and subtle floral character. Medium-bodied with a smooth, elegant mouthfeel. The finish is long and complex, with lingering notes of oak and spice. One 25ml shot contains 0.8 standard drinks.',
                nutrition: {
                    calories: 60,
                    carbs: 0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '25ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Cognac', 'Premium', 'Elegant', 'French']
            },
            'scotch': {
                name: 'Scotch Whisky (25ml)',
                type: 'Spirit',
                alcohol: 'Scotch Whisky',
                abv: '40.0%',
                standardDrinks: '0.8',
                ingredients: ['Malted barley', 'Water'],
                description: 'A rich, complex Scottish spirit with deep, smoky flavors. Features notes of peat, oak, vanilla, and subtle spice character. Medium-bodied with a smooth, warming mouthfeel. The finish is long and complex, with lingering notes of smoke and oak. One 25ml shot contains 0.8 standard drinks.',
                nutrition: {
                    calories: 60,
                    carbs: 0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '25ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Scotch', 'Smoky', 'Complex', 'Scottish']
            },
            'bourbon': {
                name: 'Bourbon (25ml)',
                type: 'Spirit',
                alcohol: 'Bourbon',
                abv: '40.0%',
                standardDrinks: '0.8',
                ingredients: ['Corn', 'Rye', 'Malted barley', 'Water'],
                description: 'A rich, complex American spirit with deep, sweet flavors. Features notes of oak, vanilla, caramel, and subtle spice character. Medium-bodied with a smooth, warming mouthfeel. The finish is long and complex, with lingering notes of oak and spice. One 25ml shot contains 0.8 standard drinks.',
                nutrition: {
                    calories: 60,
                    carbs: 0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '25ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Bourbon', 'Rich', 'Complex', 'American']
            },
            'swan_draught': {
                name: 'Swan Draught (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.5%',
                standardDrinks: '1.0',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A classic Western Australian lager with a smooth, easy-drinking character. Features notes of pale malt, gentle hop bitterness, and a balanced finish. Light-bodied with smooth carbonation and a clean, refreshing mouthfeel. The finish is smooth and balanced, making it perfect for any occasion. One 330ml bottle contains 1.0 standard drinks.',
                nutrition: {
                    calories: 125,
                    carbs: 11.6,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Western Australia', 'Smooth']
            },
            'single_fin': {
                name: 'Single Fin (330ml)',
                type: 'Beer',
                alcohol: 'Australian Pale Ale',
                abv: '4.5%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Cascade hops', 'Water', 'Yeast'],
                description: 'A refreshing pale ale inspired by surf culture with bright, citrusy flavors. Features notes of Cascade hops, citrus fruits, and a balanced bitterness. Light to medium-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly bitter, with lingering notes of citrus and tropical fruits. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 156,
                    carbs: 14.5,
                    protein: 1.4,
                    fat: 0,
                    sugar: 0.6,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Pale Ale', 'Australian', 'Surf Culture', 'Citrus']
            },

            // Cocktails (standard servings)
            'margarita': {
                name: 'Margarita (200ml)',
                type: 'Cocktail',
                alcohol: 'Margarita',
                abv: '16.0%',
                standardDrinks: '1.6',
                ingredients: ['Tequila', 'Triple sec', 'Lime juice', 'Salt'],
                description: 'A classic Mexican cocktail with a perfect balance of sweet, sour, and salty flavors. Features notes of agave, citrus, and subtle herbal character. Medium-bodied with bright acidity and a smooth, refreshing mouthfeel. Traditionally served with a salted rim to enhance the flavors. One 200ml glass contains 1.6 standard drinks.',
                nutrition: {
                    calories: 168,
                    carbs: 8,
                    protein: 0,
                    fat: 0,
                    sugar: 6,
                    servingSize: '200ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Cocktail', 'Margarita', 'Citrus', 'Refreshing', 'Mexican']
            },
            'mojito': {
                name: 'Mojito (200ml)',
                type: 'Cocktail',
                alcohol: 'Mojito',
                abv: '16.0%',
                standardDrinks: '1.6',
                ingredients: ['Rum', 'Lime juice', 'Sugar', 'Mint', 'Soda water'],
                description: 'A refreshing Cuban cocktail with bright, minty flavors. Features notes of rum, lime, mint, and subtle sweetness. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly sweet, with lingering notes of mint and citrus. One 200ml glass contains 1.6 standard drinks.',
                nutrition: {
                    calories: 143,
                    carbs: 12,
                    protein: 0,
                    fat: 0,
                    sugar: 10,
                    servingSize: '200ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Cocktail', 'Mojito', 'Mint', 'Refreshing', 'Cuban']
            },
            'daiquiri': {
                name: 'Daiquiri (150ml)',
                type: 'Cocktail',
                alcohol: 'Daiquiri',
                abv: '16.0%',
                standardDrinks: '1.6',
                ingredients: ['Rum', 'Lime juice', 'Sugar'],
                description: 'A classic Cuban cocktail with bright, citrusy flavors. Features notes of rum, lime, and subtle sweetness. Light to medium-bodied with bright acidity and a smooth, refreshing mouthfeel. The finish is clean and slightly sweet, with lingering notes of citrus. One 150ml glass contains 1.6 standard drinks.',
                nutrition: {
                    calories: 151,
                    carbs: 8,
                    protein: 0,
                    fat: 0,
                    sugar: 6,
                    servingSize: '150ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Cocktail', 'Daiquiri', 'Citrus', 'Refreshing', 'Cuban']
            },
            'pina_colada': {
                name: 'Piña Colada (200ml)',
                type: 'Cocktail',
                alcohol: 'Piña Colada',
                abv: '16.0%',
                standardDrinks: '1.6',
                ingredients: ['Rum', 'Coconut cream', 'Pineapple juice'],
                description: 'A tropical cocktail with rich, creamy flavors. Features notes of rum, coconut, pineapple, and subtle sweetness. Medium-bodied with a smooth, creamy mouthfeel. The finish is rich and slightly sweet, with lingering notes of coconut and pineapple. One 200ml glass contains 1.6 standard drinks.',
                nutrition: {
                    calories: 245,
                    carbs: 22,
                    protein: 0,
                    fat: 0,
                    sugar: 18,
                    servingSize: '200ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Cocktail', 'Piña Colada', 'Tropical', 'Creamy', 'Pineapple']
            },
            'cosmopolitan': {
                name: 'Cosmopolitan (150ml)',
                type: 'Cocktail',
                alcohol: 'Cosmopolitan',
                abv: '16.0%',
                standardDrinks: '1.6',
                ingredients: ['Vodka', 'Triple sec', 'Cranberry juice', 'Lime juice'],
                description: 'A sophisticated cocktail with bright, fruity flavors. Features notes of vodka, citrus, cranberry, and subtle sweetness. Light to medium-bodied with bright acidity and a smooth, refreshing mouthfeel. The finish is clean and slightly sweet, with lingering notes of citrus and cranberry. One 150ml glass contains 1.6 standard drinks.',
                nutrition: {
                    calories: 146,
                    carbs: 8,
                    protein: 0,
                    fat: 0,
                    sugar: 6,
                    servingSize: '150ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Cocktail', 'Cosmopolitan', 'Fruity', 'Sophisticated', 'Citrus']
            },
            'manhattan': {
                name: 'Manhattan (150ml)',
                type: 'Cocktail',
                alcohol: 'Manhattan',
                abv: '16.0%',
                standardDrinks: '1.6',
                ingredients: ['Whiskey', 'Sweet vermouth', 'Angostura bitters'],
                description: 'A classic cocktail with rich, complex flavors. Features notes of whiskey, vermouth, and subtle spice character. Medium-bodied with a smooth, warming mouthfeel. The finish is long and complex, with lingering notes of oak and spice. One 150ml glass contains 1.6 standard drinks.',
                nutrition: {
                    calories: 164,
                    carbs: 4,
                    protein: 0,
                    fat: 0,
                    sugar: 2,
                    servingSize: '150ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Cocktail', 'Manhattan', 'Rich', 'Complex', 'Classic']
            },
            'martini': {
                name: 'Martini (150ml)',
                type: 'Cocktail',
                alcohol: 'Martini',
                abv: '16.0%',
                standardDrinks: '1.6',
                ingredients: ['Gin', 'Dry vermouth'],
                description: 'A sophisticated cocktail with clean, botanical flavors. Features notes of gin, vermouth, and subtle herbal character. Light to medium-bodied with a smooth, clean mouthfeel. The finish is clean and slightly dry, with lingering notes of juniper and herbs. One 150ml glass contains 1.6 standard drinks.',
                nutrition: {
                    calories: 124,
                    carbs: 0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '150ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Cocktail', 'Martini', 'Sophisticated', 'Clean', 'Botanical']
            },
            'negroni': {
                name: 'Negroni (150ml)',
                type: 'Cocktail',
                alcohol: 'Negroni',
                abv: '16.0%',
                standardDrinks: '1.6',
                ingredients: ['Gin', 'Campari', 'Sweet vermouth'],
                description: 'A bold Italian cocktail with complex, bitter flavors. Features notes of gin, Campari, vermouth, and subtle herbal character. Medium-bodied with a smooth, bitter mouthfeel. The finish is clean and slightly bitter, with lingering notes of herbs and citrus. One 150ml glass contains 1.6 standard drinks.',
                nutrition: {
                    calories: 140,
                    carbs: 4,
                    protein: 0,
                    fat: 0,
                    sugar: 2,
                    servingSize: '150ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Cocktail', 'Negroni', 'Bold', 'Complex', 'Italian']
            },
            'old_fashioned': {
                name: 'Old Fashioned (150ml)',
                type: 'Cocktail',
                alcohol: 'Old Fashioned',
                abv: '16.0%',
                standardDrinks: '1.6',
                ingredients: ['Whiskey', 'Sugar', 'Angostura bitters', 'Orange peel'],
                description: 'A classic cocktail with rich, warming flavors. Features notes of whiskey, sugar, and subtle spice character. Medium-bodied with a smooth, warming mouthfeel. The finish is long and complex, with lingering notes of oak and spice. One 150ml glass contains 1.6 standard drinks.',
                nutrition: {
                    calories: 154,
                    carbs: 4,
                    protein: 0,
                    fat: 0,
                    sugar: 2,
                    servingSize: '150ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Cocktail', 'Old Fashioned', 'Classic', 'Rich', 'Warming']
            },
            'gin_tonic': {
                name: 'Gin & Tonic (200ml)',
                type: 'Cocktail',
                alcohol: 'Gin & Tonic',
                abv: '16.0%',
                standardDrinks: '1.6',
                ingredients: ['Gin', 'Tonic water', 'Lime'],
                description: 'A refreshing cocktail with bright, botanical flavors. Features notes of gin, quinine, and subtle citrus character. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly bitter, with lingering notes of juniper and citrus. One 200ml glass contains 1.6 standard drinks.',
                nutrition: {
                    calories: 120,
                    carbs: 8,
                    protein: 0,
                    fat: 0,
                    sugar: 6,
                    servingSize: '200ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Cocktail', 'Gin & Tonic', 'Refreshing', 'Botanical', 'Citrus']
            },

            // Australian Beers (330ml bottles unless specified)
            'carlton_draught': {
                name: 'Carlton Draught (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.6%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A classic Australian lager with a crisp, clean taste. Features notes of pale malt, gentle hop bitterness, and a touch of sweetness. Light-bodied with smooth carbonation and a clean, refreshing finish. The finish is balanced and crisp, making it perfect for any occasion. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 120,
                    carbs: 11.8,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Classic', 'Crisp']
            },
            'victoria_bitter': {
                name: 'Victoria Bitter VB (330ml)',
                type: 'Beer',
                alcohol: 'Australian Bitter',
                abv: '4.9%',
                standardDrinks: '1.3',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A classic Australian bitter with a distinctive taste. Features notes of caramel malt, earthy hops, and a touch of grain character. Medium-bodied with smooth carbonation and a classic, slightly bitter finish. The finish is clean and balanced, making it a nostalgic choice for fans of classic Australian beers. One 330ml bottle contains 1.3 standard drinks.',
                nutrition: {
                    calories: 135,
                    carbs: 11.7,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Bitter', 'Australian', 'Classic', 'Distinctive']
            },
            'x_gold': {
                name: 'XXXX Gold (330ml)',
                type: 'Beer',
                alcohol: 'Australian Mid-Strength Lager',
                abv: '3.5%',
                standardDrinks: '0.9',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A mid-strength Australian lager with a smooth, easy-drinking character. Features notes of pale malt, gentle hop bitterness, and a touch of sweetness. Light-bodied with smooth carbonation and a clean, refreshing finish. The finish is balanced and crisp, perfect for lighter drinking occasions. One 330ml bottle contains 0.9 standard drinks.',
                nutrition: {
                    calories: 100,
                    carbs: 8.0,
                    protein: 0.8,
                    fat: 0,
                    sugar: 0.4,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Mid-strength', 'Smooth']
            },
            'crown_lager': {
                name: 'Crown Lager (330ml)',
                type: 'Beer',
                alcohol: 'Australian Premium Lager',
                abv: '4.9%',
                standardDrinks: '1.1',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A premium Australian lager with a rich, malty character. Features notes of caramel malt, noble hops, and a balanced bitterness. Medium-bodied with smooth carbonation and a smooth, malty mouthfeel. The finish is clean and slightly sweet, with lingering malt notes. One 330ml bottle contains 1.1 standard drinks.',
                nutrition: {
                    calories: 135,
                    carbs: 11.7,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Premium', 'Malty']
            },
            'coopers_pale_ale': {
                name: 'Coopers Pale Ale (375ml)',
                type: 'Beer',
                alcohol: 'Australian Pale Ale',
                abv: '4.5%',
                standardDrinks: '1.4',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A classic Australian pale ale with a distinctive cloudy appearance. Features notes of pale malt, citrus hops, and a balanced bitterness. Medium-bodied with bright carbonation and a smooth, hoppy mouthfeel. The finish is clean and slightly bitter, with lingering citrus hop notes. One 375ml bottle contains 1.4 standard drinks.',
                nutrition: {
                    calories: 142,
                    carbs: 12.3,
                    protein: 1.3,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '375ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Pale Ale', 'Australian', 'Classic', 'Cloudy']
            },
            'coopers_sparkling_ale': {
                name: 'Coopers Sparkling Ale (375ml)',
                type: 'Beer',
                alcohol: 'Australian Sparkling Ale',
                abv: '5.8%',
                standardDrinks: '1.6',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A traditional Australian sparkling ale with a distinctive cloudy appearance and high carbonation. Features notes of pale malt, fruity esters, and a balanced bitterness. Medium-bodied with bright carbonation and a smooth, complex mouthfeel. The finish is clean and slightly sweet, with lingering malt notes. One 375ml bottle contains 1.6 standard drinks.',
                nutrition: {
                    calories: 165,
                    carbs: 15.3,
                    protein: 1.5,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '375ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Sparkling Ale', 'Australian', 'Traditional', 'Complex']
            },
            'coopers_stout': {
                name: 'Coopers Stout (375ml)',
                type: 'Beer',
                alcohol: 'Australian Stout',
                abv: '5.0%',
                standardDrinks: '1.4',
                ingredients: ['Malted barley', 'Roasted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A rich Australian stout with chocolate and coffee notes. Features rich notes of roasted barley, chocolate, coffee, and a touch of sweetness. Medium-bodied with smooth carbonation and a velvety mouthfeel. The finish is dry and slightly bitter, with lingering notes of coffee and dark chocolate. One 375ml bottle contains 1.4 standard drinks.',
                nutrition: {
                    calories: 154,
                    carbs: 14.2,
                    protein: 1.6,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '375ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Stout', 'Australian', 'Rich', 'Coffee']
            },
            'coopers_mild_ale': {
                name: 'Coopers Mild Ale (375ml)',
                type: 'Beer',
                alcohol: 'Australian Mild Ale',
                abv: '3.5%',
                standardDrinks: '1.0',
                ingredients: ['Malted barley', 'Crystal malt', 'Hops', 'Water', 'Yeast'],
                description: 'A mild ale with a smooth, malty character. Features notes of caramel malt, toasty bread, and subtle hop bitterness. Light to medium-bodied with smooth carbonation and a malty, slightly sweet mouthfeel. The finish is clean and balanced, with lingering notes of caramel and toast. One 375ml bottle contains 1.0 standard drinks.',
                nutrition: {
                    calories: 108,
                    carbs: 10.2,
                    protein: 1.0,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '375ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Mild Ale', 'Australian', 'Smooth', 'Malty']
            },
            'coopers_clear': {
                name: 'Coopers Clear (375ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.5%',
                standardDrinks: '1.4',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A clear lager with a crisp, clean taste. Features notes of pale malt, gentle hop bitterness, and a balanced finish. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, with lingering notes of pale malt. One 375ml bottle contains 1.4 standard drinks.',
                nutrition: {
                    calories: 142,
                    carbs: 12.1,
                    protein: 1.3,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '375ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Clear', 'Crisp']
            },
            'coopers_62_pilsner': {
                name: 'Coopers 62 Pilsner (375ml)',
                type: 'Beer',
                alcohol: 'Australian Pilsner',
                abv: '4.9%',
                standardDrinks: '1.5',
                ingredients: ['Malted barley', 'Saaz hops', 'Water', 'Yeast'],
                description: 'A classic pilsner with a crisp, clean taste. Features notes of pale malt, noble Saaz hops, and a touch of sweetness. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, with lingering notes of floral hops and pale malt. One 375ml bottle contains 1.5 standard drinks.',
                nutrition: {
                    calories: 148,
                    carbs: 13.0,
                    protein: 1.3,
                    fat: 0,
                    sugar: 0.6,
                    servingSize: '375ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Pilsner', 'Australian', 'Classic', 'Crisp']
            },
            'coopers_extra_stout': {
                name: 'Coopers Extra Stout (375ml)',
                type: 'Beer',
                alcohol: 'Australian Extra Stout',
                abv: '6.3%',
                standardDrinks: '1.8',
                ingredients: ['Malted barley', 'Roasted barley', 'Chocolate malt', 'Hops', 'Water', 'Yeast'],
                description: 'An extra stout with intense chocolate and coffee notes. Features rich notes of roasted barley, chocolate, coffee, and a touch of sweetness. Full-bodied with smooth carbonation and a velvety mouthfeel. The finish is dry and slightly bitter, with lingering notes of coffee and dark chocolate. One 375ml bottle contains 1.8 standard drinks.',
                nutrition: {
                    calories: 188,
                    carbs: 16.9,
                    protein: 1.8,
                    fat: 0,
                    sugar: 0.8,
                    servingSize: '375ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Extra Stout', 'Australian', 'Intense', 'Chocolate']
            },
            'coopers_best_extra_stout': {
                name: 'Coopers Best Extra Stout (375ml)',
                type: 'Beer',
                alcohol: 'Australian Best Extra Stout',
                abv: '6.3%',
                standardDrinks: '1.8',
                ingredients: ['Malted barley', 'Roasted barley', 'Chocolate malt', 'Hops', 'Water', 'Yeast'],
                description: 'The best extra stout with the most intense chocolate and coffee notes. Features rich notes of roasted barley, chocolate, coffee, and a touch of sweetness. Full-bodied with smooth carbonation and a velvety mouthfeel. The finish is dry and slightly bitter, with lingering notes of coffee and dark chocolate. One 375ml bottle contains 1.8 standard drinks.',
                nutrition: {
                    calories: 188,
                    carbs: 16.9,
                    protein: 1.8,
                    fat: 0,
                    sugar: 0.8,
                    servingSize: '375ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Best Extra Stout', 'Australian', 'Intense', 'Chocolate']
            },
            'coopers_limited_releases': {
                name: 'Coopers Limited Releases (375ml)',
                type: 'Beer',
                alcohol: 'Australian Experimental',
                abv: 'Varies',
                standardDrinks: 'Varies',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast', 'Experimental ingredients'],
                description: 'Limited edition beers with unique and experimental flavor profiles. Features innovative brewing techniques and unusual ingredients, showcasing the brewery\'s creativity and experimentation. Each release offers a different experience, from barrel-aged beers to fruit-infused ales. One 375ml bottle contains varying standard drinks depending on the release.',
                nutrition: {
                    calories: 160,
                    carbs: 15.0,
                    protein: 1.4,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '375ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Experimental', 'Australian', 'Limited Edition', 'Innovative']
            },
            'little_creatures_pale_ale': {
                name: 'Little Creatures Pale Ale (330ml)',
                type: 'Beer',
                alcohol: 'Australian Pale Ale',
                abv: '5.2%',
                standardDrinks: '1.1',
                ingredients: ['Malted barley', 'Cascade hops', 'Citra hops', 'Water', 'Yeast'],
                description: 'A well-balanced pale ale with fruity and citrus notes. Features prominent grapefruit and orange notes from Cascade and Citra hops, balanced by caramel malt sweetness. Medium-bodied with bright carbonation and a crisp, refreshing mouthfeel. The hop bitterness is assertive but well-balanced, creating a complex and satisfying drinking experience. One 330ml bottle contains 1.1 standard drinks.',
                nutrition: {
                    calories: 135,
                    carbs: 12.8,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0.6,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Pale Ale', 'Australian', 'Fruity', 'Citrus']
            },
            'little_creatures_rogers': {
                name: 'Little Creatures Rogers (330ml)',
                type: 'Beer',
                alcohol: 'Australian Amber Ale',
                abv: '3.8%',
                standardDrinks: '0.8',
                ingredients: ['Malted barley', 'Crystal malt', 'Hops', 'Water', 'Yeast'],
                description: 'A malty amber ale with a slightly sweet flavor. Features rich notes of caramel malt, toasty bread, and subtle hop bitterness. Medium-bodied with smooth carbonation and a malty, slightly sweet mouthfeel. The finish is clean and balanced, with lingering notes of caramel and toast. One 330ml bottle contains 0.8 standard drinks.',
                nutrition: {
                    calories: 120,
                    carbs: 11.3,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Amber Ale', 'Australian', 'Malty', 'Sweet']
            },
            'little_creatures_bright_ale': {
                name: 'Little Creatures Bright Ale (330ml)',
                type: 'Beer',
                alcohol: 'Australian Golden Ale',
                abv: '4.5%',
                standardDrinks: '1.0',
                ingredients: ['Malted barley', 'Pale malt', 'Hops', 'Water', 'Yeast'],
                description: 'A smooth and crisp ale with a slightly fruity finish. Features delicate notes of pale malt, gentle hop bitterness, and a touch of honey sweetness. Light to medium-bodied with bright carbonation and a smooth, thirst-quenching mouthfeel. The finish is clean and refreshing, making it perfect for hot weather and casual drinking. One 330ml bottle contains 1.0 standard drinks.',
                nutrition: {
                    calories: 125,
                    carbs: 11.6,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Golden Ale', 'Australian', 'Smooth', 'Crisp']
            },
            'little_creatures_ipa': {
                name: 'Little Creatures IPA (330ml)',
                type: 'Beer',
                alcohol: 'Australian IPA',
                abv: '6.4%',
                standardDrinks: '1.3',
                ingredients: ['Malted barley', 'Citra hops', 'Mosaic hops', 'Simcoe hops', 'Water', 'Yeast'],
                description: 'A hop-forward IPA with tropical fruit and pine flavors. Features explosive notes of passionfruit, mango, and grapefruit from Citra and Mosaic hops, with a smooth, creamy mouthfeel. Medium-bodied with bright carbonation and a smooth, pillowy texture. The finish is juicy and smooth with minimal bitterness, characteristic of the New England IPA style. One 330ml bottle contains 1.3 standard drinks.',
                nutrition: {
                    calories: 165,
                    carbs: 15.7,
                    protein: 1.6,
                    fat: 0,
                    sugar: 0.8,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'IPA', 'Australian', 'Hop-forward', 'Tropical']
            },
            'little_creatures_dog_days': {
                name: 'Little Creatures Dog Days (330ml)',
                type: 'Beer',
                alcohol: 'Australian Summer Ale',
                abv: '4.2%',
                standardDrinks: '0.9',
                ingredients: ['Malted barley', 'Wheat malt', 'Citrus hops', 'Water', 'Yeast'],
                description: 'A summer ale with light, refreshing citrus notes. Features bright notes of lemon, lime, and orange from citrus hops, with a smooth wheat malt backbone. Light-bodied with bright carbonation and a smooth, thirst-quenching mouthfeel. The finish is clean and refreshing, perfect for hot summer days and casual drinking. One 330ml bottle contains 0.9 standard drinks.',
                nutrition: {
                    calories: 115,
                    carbs: 10.7,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.4,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Summer Ale', 'Australian', 'Refreshing', 'Citrus']
            },
            'little_creatures_pilsner': {
                name: 'Little Creatures Pilsner (330ml)',
                type: 'Beer',
                alcohol: 'Australian Pilsner',
                abv: '4.6%',
                standardDrinks: '1.0',
                ingredients: ['Malted barley', 'Saaz hops', 'Water', 'Yeast'],
                description: 'A crisp and clean pilsner with floral hop aroma. Features delicate notes of pale malt, noble Saaz hops, and a touch of sweetness. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, with lingering notes of floral hops and pale malt. One 330ml bottle contains 1.0 standard drinks.',
                nutrition: {
                    calories: 130,
                    carbs: 11.9,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Pilsner', 'Australian', 'Crisp', 'Clean']
            },
            'little_creatures_seasonal': {
                name: 'Little Creatures Seasonal Releases (330ml)',
                type: 'Beer',
                alcohol: 'Australian Seasonal',
                abv: 'Varies',
                standardDrinks: 'Varies',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast', 'Seasonal ingredients'],
                description: 'Limited edition beers that vary seasonally (e.g., Little Creatures Single Batch series). Features unique and experimental flavors that change with the seasons, showcasing the brewery\'s creativity and innovation. Each release offers a different experience, from fruity summer ales to rich winter stouts. One 330ml bottle contains varying standard drinks depending on the release.',
                nutrition: {
                    calories: 130,
                    carbs: 12.3,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.6,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Seasonal', 'Australian', 'Limited Edition', 'Experimental']
            },
            'gage_roads_pale_ale': {
                name: 'Gage Roads Pale Ale (330ml)',
                type: 'Beer',
                alcohol: 'Australian Pale Ale',
                abv: '5.2%',
                standardDrinks: '1.1',
                ingredients: ['Malted barley', 'Cascade hops', 'Citra hops', 'Water', 'Yeast'],
                description: 'A balanced, hoppy pale ale with fruity aromas. Features prominent notes of citrus and tropical fruit from Cascade and Citra hops, balanced by caramel malt sweetness. Medium-bodied with bright carbonation and a smooth, hoppy mouthfeel. The finish is clean and slightly bitter, with lingering citrus hop notes. One 330ml bottle contains 1.1 standard drinks.',
                nutrition: {
                    calories: 135,
                    carbs: 12.8,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0.6,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Pale Ale', 'Australian', 'Balanced', 'Hoppy']
            },
            'gage_roads_ipa': {
                name: 'Gage Roads IPA (330ml)',
                type: 'Beer',
                alcohol: 'Australian IPA',
                abv: '6.2%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Citra hops', 'Mosaic hops', 'Simcoe hops', 'Water', 'Yeast'],
                description: 'A West Coast-style IPA with bold hop bitterness and citrus notes. Features intense notes of grapefruit, pine, and tropical fruit from Citra, Mosaic, and Simcoe hops. Medium to full-bodied with bright carbonation and a smooth, hoppy mouthfeel. The finish is clean and bitter, with lingering citrus and pine hop notes. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 155,
                    carbs: 14.8,
                    protein: 1.5,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'IPA', 'Australian', 'West Coast', 'Bold']
            },
            'gage_roads_little_dove': {
                name: 'Gage Roads Little Dove (330ml)',
                type: 'Beer',
                alcohol: 'Australian Pale Ale',
                abv: '4.5%',
                standardDrinks: '1.0',
                ingredients: ['Malted barley', 'Citra hops', 'Mosaic hops', 'Water', 'Yeast'],
                description: 'A juicy pale ale with tropical fruit flavors and a smooth finish. Features bright notes of passionfruit, mango, and citrus from Citra and Mosaic hops. Light to medium-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly sweet, with lingering tropical fruit notes. One 330ml bottle contains 1.0 standard drinks.',
                nutrition: {
                    calories: 125,
                    carbs: 11.6,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Pale Ale', 'Australian', 'Juicy', 'Tropical']
            },
            'gage_roads_jam_session': {
                name: 'Gage Roads Jam Session (330ml)',
                type: 'Beer',
                alcohol: 'Australian Session IPA',
                abv: '4.2%',
                standardDrinks: '0.9',
                ingredients: ['Malted barley', 'Citra hops', 'Mosaic hops', 'Water', 'Yeast'],
                description: 'A session IPA that is easy-drinking with light bitterness. Features bright notes of tropical fruit and citrus from Citra and Mosaic hops, with a balanced malt backbone. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly bitter, perfect for extended drinking sessions. One 330ml bottle contains 0.9 standard drinks.',
                nutrition: {
                    calories: 115,
                    carbs: 10.7,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.4,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Session IPA', 'Australian', 'Easy-drinking', 'Light']
            },
            'gage_roads_atomic_pale_ale': {
                name: 'Gage Roads Atomic Pale Ale (330ml)',
                type: 'Beer',
                alcohol: 'Australian Pale Ale',
                abv: '5.8%',
                standardDrinks: '1.1',
                ingredients: ['Malted barley', 'Citra hops', 'Mosaic hops', 'Simcoe hops', 'Water', 'Yeast'],
                description: 'A highly hopped pale ale with a clean malt backbone. Features intense notes of tropical fruit, citrus, and pine from Citra, Mosaic, and Simcoe hops. Medium-bodied with bright carbonation and a smooth, hoppy mouthfeel. The finish is clean and bitter, with lingering hop notes and a balanced malt character. One 330ml bottle contains 1.1 standard drinks.',
                nutrition: {
                    calories: 145,
                    carbs: 13.9,
                    protein: 1.4,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Pale Ale', 'Australian', 'Highly Hopped', 'Clean']
            },
            'gage_roads_longboard_lager': {
                name: 'Gage Roads Longboard Lager (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.6%',
                standardDrinks: '1.0',
                ingredients: ['Malted barley', 'Saaz hops', 'Water', 'Yeast'],
                description: 'A refreshing and light lager with subtle hop bitterness. Features delicate notes of pale malt, noble Saaz hops, and a touch of sweetness. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, with lingering notes of floral hops and pale malt. One 330ml bottle contains 1.0 standard drinks.',
                nutrition: {
                    calories: 130,
                    carbs: 11.9,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Refreshing', 'Light']
            },
            'gage_roads_bull_ant': {
                name: 'Gage Roads Bull Ant (330ml)',
                type: 'Beer',
                alcohol: 'Australian Stout',
                abv: '5.5%',
                standardDrinks: '1.1',
                ingredients: ['Malted barley', 'Roasted barley', 'Chocolate malt', 'Hops', 'Water', 'Yeast'],
                description: 'A limited release stout or dark beer with rich, complex flavors. Features notes of roasted barley, chocolate, coffee, and a touch of sweetness. Medium to full-bodied with smooth carbonation and a velvety mouthfeel. The finish is dry and slightly bitter, with lingering notes of coffee and dark chocolate. One 330ml bottle contains 1.1 standard drinks.',
                nutrition: {
                    calories: 155,
                    carbs: 14.3,
                    protein: 1.6,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Stout', 'Australian', 'Limited Release', 'Rich']
            },
            'gage_roads_scratch_series': {
                name: 'Gage Roads Scratch Series (330ml)',
                type: 'Beer',
                alcohol: 'Australian Experimental',
                abv: 'Varies',
                standardDrinks: 'Varies',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast', 'Experimental ingredients'],
                description: 'Experimental beers with varying styles and unique flavor profiles. Features innovative brewing techniques and unusual ingredients, showcasing the brewery\'s creativity and experimentation. Each release offers a different experience, from barrel-aged beers to fruit-infused ales. One 330ml bottle contains varying standard drinks depending on the release.',
                nutrition: {
                    calories: 140,
                    carbs: 13.2,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0.6,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Experimental', 'Australian', 'Innovative', 'Unique']
            },
            'balter_xpa': {
                name: 'Balter XPA (Extra Pale Ale) (330ml)',
                type: 'Beer',
                alcohol: 'Australian Extra Pale Ale',
                abv: '4.2%',
                standardDrinks: '0.9',
                ingredients: ['Malted barley', 'Citra hops', 'Mosaic hops', 'Water', 'Yeast'],
                description: 'A hop-forward beer with tropical fruit flavors and a crisp finish. Features bright notes of passionfruit, mango, and citrus from Citra and Mosaic hops. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly bitter, with lingering tropical fruit notes. One 330ml bottle contains 0.9 standard drinks.',
                nutrition: {
                    calories: 115,
                    carbs: 10.7,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.4,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'XPA', 'Australian', 'Hop-forward', 'Tropical']
            },
            'balter_ipa': {
                name: 'Balter IPA (330ml)',
                type: 'Beer',
                alcohol: 'Australian IPA',
                abv: '6.2%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Citra hops', 'Mosaic hops', 'Simcoe hops', 'Water', 'Yeast'],
                description: 'A juicy IPA with citrus and pine flavors. Features intense notes of grapefruit, pine, and tropical fruit from Citra, Mosaic, and Simcoe hops. Medium to full-bodied with bright carbonation and a smooth, hoppy mouthfeel. The finish is clean and bitter, with lingering citrus and pine hop notes. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 155,
                    carbs: 14.8,
                    protein: 1.5,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'IPA', 'Australian', 'Juicy', 'Citrus']
            },
            'balter_lager': {
                name: 'Balter Lager (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.5%',
                standardDrinks: '1.0',
                ingredients: ['Malted barley', 'Saaz hops', 'Water', 'Yeast'],
                description: 'A clean, crisp lager with a refreshing taste. Features delicate notes of pale malt, noble Saaz hops, and a touch of sweetness. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, with lingering notes of floral hops and pale malt. One 330ml bottle contains 1.0 standard drinks.',
                nutrition: {
                    calories: 125,
                    carbs: 11.6,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Clean', 'Crisp']
            },
            'balter_pale_ale': {
                name: 'Balter Pale Ale (330ml)',
                type: 'Beer',
                alcohol: 'Australian Pale Ale',
                abv: '5.2%',
                standardDrinks: '1.1',
                ingredients: ['Malted barley', 'Cascade hops', 'Citra hops', 'Water', 'Yeast'],
                description: 'A balanced pale ale with a smooth malt backbone and fruity hop character. Features prominent notes of citrus and tropical fruit from Cascade and Citra hops, balanced by caramel malt sweetness. Medium-bodied with bright carbonation and a smooth, hoppy mouthfeel. The finish is clean and slightly bitter, with lingering citrus hop notes. One 330ml bottle contains 1.1 standard drinks.',
                nutrition: {
                    calories: 135,
                    carbs: 12.8,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0.6,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Pale Ale', 'Australian', 'Balanced', 'Fruity']
            },
            'balter_hazy_ipa': {
                name: 'Balter Hazy IPA (330ml)',
                type: 'Beer',
                alcohol: 'Australian Hazy IPA',
                abv: '6.5%',
                standardDrinks: '1.3',
                ingredients: ['Malted barley', 'Wheat malt', 'Oats', 'Citra hops', 'Mosaic hops', 'Water', 'Yeast'],
                description: 'A hazy, juicy IPA with tropical fruit and citrus notes. Features explosive notes of passionfruit, mango, and grapefruit from Citra and Mosaic hops, with a smooth, creamy mouthfeel from the hazy appearance and oat addition. Medium-bodied with bright carbonation and a smooth, pillowy texture. The finish is juicy and smooth with minimal bitterness. One 330ml bottle contains 1.3 standard drinks.',
                nutrition: {
                    calories: 165,
                    carbs: 15.7,
                    protein: 1.6,
                    fat: 0,
                    sugar: 0.8,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Hazy IPA', 'Australian', 'Juicy', 'Tropical']
            },
            'balter_grapefruit_ipa': {
                name: 'Balter Grapefruit IPA (330ml)',
                type: 'Beer',
                alcohol: 'Australian IPA',
                abv: '6.0%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Citra hops', 'Mosaic hops', 'Grapefruit', 'Water', 'Yeast'],
                description: 'A citrusy IPA with a burst of grapefruit flavor. Features intense notes of grapefruit, citrus, and tropical fruit from Citra and Mosaic hops, enhanced by real grapefruit addition. Medium-bodied with bright carbonation and a smooth, hoppy mouthfeel. The finish is clean and bitter, with lingering grapefruit and citrus notes. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 150,
                    carbs: 14.3,
                    protein: 1.4,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'IPA', 'Australian', 'Citrusy', 'Grapefruit']
            },
            'balter_tropical_lager': {
                name: 'Balter Tropical Lager (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.2%',
                standardDrinks: '0.9',
                ingredients: ['Malted barley', 'Tropical fruits', 'Hops', 'Water', 'Yeast'],
                description: 'A tropical fruit-infused lager, refreshing and smooth. Features bright notes of tropical fruits like passionfruit, mango, and pineapple, with a smooth malt backbone. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly sweet, with lingering tropical fruit notes. One 330ml bottle contains 0.9 standard drinks.',
                nutrition: {
                    calories: 120,
                    carbs: 11.3,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Tropical', 'Refreshing']
            },
            'balter_barrel_aged': {
                name: 'Balter Barrel-Aged Beers (330ml)',
                type: 'Beer',
                alcohol: 'Australian Barrel-Aged',
                abv: 'Varies',
                standardDrinks: 'Varies',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast', 'Barrel-aged'],
                description: 'Occasional releases that are aged in barrels for a unique flavor profile. Features complex notes from barrel aging, including vanilla, oak, and spirit character. Medium to full-bodied with smooth carbonation and a rich, velvety mouthfeel. The finish is long and complex, with lingering notes of barrel character and malt. One 330ml bottle contains varying standard drinks depending on the release.',
                nutrition: {
                    calories: 160,
                    carbs: 14.5,
                    protein: 1.4,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Barrel-Aged', 'Australian', 'Complex', 'Unique']
            },
            'beer_farm_pale_ale': {
                name: 'Beer Farm Pale Ale (330ml)',
                type: 'Beer',
                alcohol: 'Australian Pale Ale',
                abv: '5.2%',
                standardDrinks: '1.1',
                ingredients: ['Malted barley', 'Earthy hops', 'Water', 'Yeast'],
                description: 'A balanced pale ale with earthy hops and a smooth finish. Features notes of earthy hops, caramel malt, and a balanced bitterness. Medium-bodied with bright carbonation and a smooth, hoppy mouthfeel. The finish is clean and slightly bitter, with lingering earthy hop notes. One 330ml bottle contains 1.1 standard drinks.',
                nutrition: {
                    calories: 135,
                    carbs: 12.8,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0.6,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Pale Ale', 'Australian', 'Balanced', 'Earthy']
            },
            'beer_farm_ipa': {
                name: 'Beer Farm IPA (330ml)',
                type: 'Beer',
                alcohol: 'Australian IPA',
                abv: '6.2%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Tropical hops', 'Citrus hops', 'Water', 'Yeast'],
                description: 'A hoppy IPA with tropical and citrus aromas and a crisp finish. Features intense notes of tropical fruit, citrus, and pine from a blend of hops. Medium to full-bodied with bright carbonation and a smooth, hoppy mouthfeel. The finish is clean and bitter, with lingering tropical and citrus hop notes. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 155,
                    carbs: 14.8,
                    protein: 1.5,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'IPA', 'Australian', 'Hoppy', 'Tropical']
            },
            'beer_farm_west_coast_ipa': {
                name: 'Beer Farm West Coast IPA (330ml)',
                type: 'Beer',
                alcohol: 'Australian IPA',
                abv: '6.5%',
                standardDrinks: '1.3',
                ingredients: ['Malted barley', 'Pine hops', 'Grapefruit hops', 'Water', 'Yeast'],
                description: 'A clean and bitter IPA with pine and grapefruit flavors. Features intense notes of pine, grapefruit, and citrus from West Coast-style hops. Medium to full-bodied with bright carbonation and a smooth, hoppy mouthfeel. The finish is clean and bitter, with lingering pine and grapefruit hop notes. One 330ml bottle contains 1.3 standard drinks.',
                nutrition: {
                    calories: 165,
                    carbs: 15.7,
                    protein: 1.6,
                    fat: 0,
                    sugar: 0.8,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'IPA', 'Australian', 'West Coast', 'Pine']
            },
            'beer_farm_amber_ale': {
                name: 'Beer Farm Amber Ale (330ml)',
                type: 'Beer',
                alcohol: 'Australian Amber Ale',
                abv: '5.0%',
                standardDrinks: '1.1',
                ingredients: ['Malted barley', 'Crystal malt', 'Caramel malt', 'Hops', 'Water', 'Yeast'],
                description: 'A malt-forward amber ale with caramel and toasty notes. Features rich notes of caramel malt, toasty bread, and subtle hop bitterness. Medium-bodied with smooth carbonation and a malty, slightly sweet mouthfeel. The finish is clean and balanced, with lingering notes of caramel and toast. One 330ml bottle contains 1.1 standard drinks.',
                nutrition: {
                    calories: 130,
                    carbs: 12.5,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0.6,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Amber Ale', 'Australian', 'Malt-forward', 'Caramel']
            },
            'beer_farm_saison': {
                name: 'Beer Farm Saison (330ml)',
                type: 'Beer',
                alcohol: 'Australian Saison',
                abv: '6.0%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Wheat malt', 'Saison yeast', 'Spices', 'Water'],
                description: 'A farmhouse ale with peppery spice and fruity esters. Features notes of peppery spice, fruity esters, and a touch of funk from saison yeast. Medium-bodied with bright carbonation and a smooth, complex mouthfeel. The finish is dry and slightly spicy, with lingering notes of pepper and fruit. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 150,
                    carbs: 14.3,
                    protein: 1.4,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Saison', 'Australian', 'Farmhouse', 'Spicy']
            },
            'beer_farm_lager': {
                name: 'Beer Farm Lager (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.5%',
                standardDrinks: '1.0',
                ingredients: ['Malted barley', 'Saaz hops', 'Water', 'Yeast'],
                description: 'A smooth, light lager with a crisp, clean taste. Features delicate notes of pale malt, noble Saaz hops, and a touch of sweetness. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, with lingering notes of floral hops and pale malt. One 330ml bottle contains 1.0 standard drinks.',
                nutrition: {
                    calories: 125,
                    carbs: 11.6,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Smooth', 'Clean']
            },
            'beer_farm_nitro_milk_stout': {
                name: 'Beer Farm Nitro Milk Stout (330ml)',
                type: 'Beer',
                alcohol: 'Australian Stout',
                abv: '5.5%',
                standardDrinks: '1.1',
                ingredients: ['Malted barley', 'Roasted barley', 'Chocolate malt', 'Lactose', 'Water', 'Yeast'],
                description: 'A creamy, smooth stout with chocolate and coffee flavors. Features rich notes of roasted barley, chocolate, coffee, and a touch of sweetness from lactose. Medium to full-bodied with smooth carbonation and a velvety mouthfeel. The finish is smooth and slightly sweet, with lingering notes of coffee and dark chocolate. One 330ml bottle contains 1.1 standard drinks.',
                nutrition: {
                    calories: 165,
                    carbs: 15.1,
                    protein: 1.6,
                    fat: 0,
                    sugar: 0.8,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Stout', 'Australian', 'Creamy', 'Chocolate']
            },
            'beer_farm_wheat_beer': {
                name: 'Beer Farm Wheat Beer (330ml)',
                type: 'Beer',
                alcohol: 'Australian Wheat Beer',
                abv: '4.8%',
                standardDrinks: '1.0',
                ingredients: ['Wheat malt', 'Malted barley', 'Coriander', 'Orange peel', 'Water', 'Yeast'],
                description: 'A refreshing, cloudy wheat beer with fruity and spicy flavors. Features notes of wheat malt, coriander, orange peel, and a touch of clove. Light to medium-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly spicy, with lingering notes of citrus and spice. One 330ml bottle contains 1.0 standard drinks.',
                nutrition: {
                    calories: 130,
                    carbs: 12.1,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Wheat Beer', 'Australian', 'Refreshing', 'Spicy']
            },
            'beer_farm_barrel_aged': {
                name: 'Beer Farm Barrel-Aged Beers (330ml)',
                type: 'Beer',
                alcohol: 'Australian Barrel-Aged',
                abv: 'Varies',
                standardDrinks: 'Varies',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast', 'Barrel-aged'],
                description: 'Limited edition barrel-aged brews that rotate seasonally. Features complex notes from barrel aging, including vanilla, oak, and spirit character. Medium to full-bodied with smooth carbonation and a rich, velvety mouthfeel. The finish is long and complex, with lingering notes of barrel character and malt. One 330ml bottle contains varying standard drinks depending on the release.',
                nutrition: {
                    calories: 160,
                    carbs: 14.5,
                    protein: 1.4,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Barrel-Aged', 'Australian', 'Limited Edition', 'Complex']
            },
            'eagle_bay_pale_ale': {
                name: 'Eagle Bay Pale Ale (330ml)',
                type: 'Beer',
                alcohol: 'Australian Pale Ale',
                abv: '5.2%',
                standardDrinks: '1.1',
                ingredients: ['Malted barley', 'Citrus hops', 'Water', 'Yeast'],
                description: 'A full-bodied pale ale with a hop-forward, citrusy profile. Features prominent notes of citrus and tropical fruit from a blend of hops, balanced by caramel malt sweetness. Medium-bodied with bright carbonation and a smooth, hoppy mouthfeel. The finish is clean and slightly bitter, with lingering citrus hop notes. One 330ml bottle contains 1.1 standard drinks.',
                nutrition: {
                    calories: 135,
                    carbs: 12.8,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0.6,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Pale Ale', 'Australian', 'Hop-forward', 'Citrusy']
            },
            'eagle_bay_ipa': {
                name: 'Eagle Bay IPA (330ml)',
                type: 'Beer',
                alcohol: 'Australian IPA',
                abv: '6.2%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Tropical hops', 'Citrus hops', 'Water', 'Yeast'],
                description: 'A bold IPA with tropical fruit flavors and a balanced bitterness. Features intense notes of tropical fruit, citrus, and pine from a blend of hops. Medium to full-bodied with bright carbonation and a smooth, hoppy mouthfeel. The finish is clean and bitter, with lingering tropical fruit notes. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 155,
                    carbs: 14.8,
                    protein: 1.5,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'IPA', 'Australian', 'Bold', 'Tropical']
            },
            'eagle_bay_summer_ale': {
                name: 'Eagle Bay Summer Ale (330ml)',
                type: 'Beer',
                alcohol: 'Australian Summer Ale',
                abv: '4.2%',
                standardDrinks: '0.9',
                ingredients: ['Malted barley', 'Citrus hops', 'Water', 'Yeast'],
                description: 'A light, crisp ale with a refreshing, citrusy finish. Features bright notes of lemon, lime, and orange from citrus hops, with a smooth malt backbone. Light-bodied with bright carbonation and a smooth, thirst-quenching mouthfeel. The finish is clean and refreshing, perfect for hot summer days and casual drinking. One 330ml bottle contains 0.9 standard drinks.',
                nutrition: {
                    calories: 115,
                    carbs: 10.7,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.4,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Summer Ale', 'Australian', 'Light', 'Refreshing']
            },
            'eagle_bay_amber_ale': {
                name: 'Eagle Bay Amber Ale (330ml)',
                type: 'Beer',
                alcohol: 'Australian Amber Ale',
                abv: '5.0%',
                standardDrinks: '1.1',
                ingredients: ['Malted barley', 'Crystal malt', 'Caramel malt', 'Hops', 'Water', 'Yeast'],
                description: 'A malt-forward ale with caramel and toasty flavors. Features rich notes of caramel malt, toasty bread, and subtle hop bitterness. Medium-bodied with smooth carbonation and a malty, slightly sweet mouthfeel. The finish is clean and balanced, with lingering notes of caramel and toast. One 330ml bottle contains 1.1 standard drinks.',
                nutrition: {
                    calories: 130,
                    carbs: 12.5,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0.6,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Amber Ale', 'Australian', 'Malt-forward', 'Caramel']
            },
            'eagle_bay_lager': {
                name: 'Eagle Bay Lager (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.5%',
                standardDrinks: '1.0',
                ingredients: ['Malted barley', 'Saaz hops', 'Water', 'Yeast'],
                description: 'A smooth and clean lager, with a subtle hop profile. Features delicate notes of pale malt, noble Saaz hops, and a touch of sweetness. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, with lingering notes of floral hops and pale malt. One 330ml bottle contains 1.0 standard drinks.',
                nutrition: {
                    calories: 125,
                    carbs: 11.6,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Smooth', 'Clean']
            },
            'eagle_bay_porter': {
                name: 'Eagle Bay Porter (330ml)',
                type: 'Beer',
                alcohol: 'Australian Porter',
                abv: '5.5%',
                standardDrinks: '1.1',
                ingredients: ['Malted barley', 'Roasted barley', 'Chocolate malt', 'Hops', 'Water', 'Yeast'],
                description: 'A rich, dark porter with chocolate and coffee notes. Features rich notes of roasted barley, chocolate, coffee, and a touch of sweetness. Medium to full-bodied with smooth carbonation and a velvety mouthfeel. The finish is dry and slightly bitter, with lingering notes of coffee and dark chocolate. One 330ml bottle contains 1.1 standard drinks.',
                nutrition: {
                    calories: 155,
                    carbs: 14.3,
                    protein: 1.6,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Porter', 'Australian', 'Rich', 'Dark']
            },
            'eagle_bay_saison': {
                name: 'Eagle Bay Saison (330ml)',
                type: 'Beer',
                alcohol: 'Australian Saison',
                abv: '6.0%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Wheat malt', 'Saison yeast', 'Spices', 'Water'],
                description: 'A farmhouse ale with hints of spice and fruit. Features notes of peppery spice, fruity esters, and a touch of funk from saison yeast. Medium-bodied with bright carbonation and a smooth, complex mouthfeel. The finish is dry and slightly spicy, with lingering notes of pepper and fruit. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 150,
                    carbs: 14.3,
                    protein: 1.4,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Saison', 'Australian', 'Farmhouse', 'Spicy']
            },
            'eagle_bay_citrus_pale_ale': {
                name: 'Eagle Bay Citrus Pale Ale (330ml)',
                type: 'Beer',
                alcohol: 'Australian Pale Ale',
                abv: '5.0%',
                standardDrinks: '1.1',
                ingredients: ['Malted barley', 'Citrus fruits', 'Citrus hops', 'Water', 'Yeast'],
                description: 'A pale ale brewed with citrus fruits for a zesty twist. Features bright notes of citrus fruits like lemon, lime, and orange, enhanced by citrus hops. Medium-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly bitter, with lingering citrus notes. One 330ml bottle contains 1.1 standard drinks.',
                nutrition: {
                    calories: 130,
                    carbs: 12.5,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0.6,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Pale Ale', 'Australian', 'Citrus', 'Zesty']
            },
            'eagle_bay_barrel_aged': {
                name: 'Eagle Bay Barrel-Aged Beers (330ml)',
                type: 'Beer',
                alcohol: 'Australian Barrel-Aged',
                abv: 'Varies',
                standardDrinks: 'Varies',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast', 'Barrel-aged'],
                description: 'Limited releases in various styles aged in barrels for complex flavors. Features complex notes from barrel aging, including vanilla, oak, and spirit character. Medium to full-bodied with smooth carbonation and a rich, velvety mouthfeel. The finish is long and complex, with lingering notes of barrel character and malt. One 330ml bottle contains varying standard drinks depending on the release.',
                nutrition: {
                    calories: 160,
                    carbs: 14.5,
                    protein: 1.4,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Barrel-Aged', 'Australian', 'Limited Release', 'Complex']
            },
            'carlton_dry': {
                name: 'Carlton Dry (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.5%',
                standardDrinks: '1.0',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A crisp, dry lager with a clean, refreshing taste. Features notes of pale malt, gentle hop bitterness, and a distinctive dry finish. Light-bodied with bright carbonation and a smooth, thirst-quenching mouthfeel. The finish is clean and dry, making it perfect for hot weather and casual drinking. One 330ml bottle contains 1.0 standard drinks.',
                nutrition: {
                    calories: 125,
                    carbs: 11.8,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Crisp', 'Dry']
            },

            'asahi_super_dry': {
                name: 'Asahi Super Dry (330ml)',
                type: 'Beer',
                alcohol: 'Japanese Lager',
                abv: '5.0%',
                standardDrinks: '1.3',
                ingredients: ['Malted barley', 'Rice', 'Hops', 'Water', 'Yeast'],
                description: 'A premium Japanese lager with a distinctive dry, crisp taste. Features notes of rice, pale malt, and a unique dry finish. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and dry, with minimal aftertaste. One 330ml bottle contains 1.3 standard drinks.',
                nutrition: {
                    calories: 145,
                    carbs: 11.8,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Japanese', 'Premium', 'Dry']
            },
            'asahi_super_dry_mid': {
                name: 'Asahi Super Dry Mid (330ml)',
                type: 'Beer',
                alcohol: 'Japanese Mid-Strength Lager',
                abv: '3.5%',
                standardDrinks: '0.9',
                ingredients: ['Malted barley', 'Rice', 'Hops', 'Water', 'Yeast'],
                description: 'A mid-strength version of the iconic Asahi Super Dry. Features the same distinctive dry, crisp taste with reduced alcohol content. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and dry, perfect for extended drinking sessions. One 330ml bottle contains 0.9 standard drinks.',
                nutrition: {
                    calories: 110,
                    carbs: 9.2,
                    protein: 0.9,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Japanese', 'Mid-strength', 'Dry']
            },
            'great_northern_full_strength': {
                name: 'Great Northern Full Strength (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.2%',
                standardDrinks: '0.9',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A full-strength lager with a smooth, easy-drinking character. Features notes of pale malt, gentle hop bitterness, and a balanced finish. Light-bodied with smooth carbonation and a clean, refreshing mouthfeel. The finish is smooth and balanced, making it perfect for any occasion. One 330ml bottle contains 0.9 standard drinks.',
                nutrition: {
                    calories: 115,
                    carbs: 10.7,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.4,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Full-strength', 'Smooth']
            },
            'great_northern_mid': {
                name: 'Great Northern Mid (330ml)',
                type: 'Beer',
                alcohol: 'Australian Mid-Strength Lager',
                abv: '3.5%',
                standardDrinks: '0.9',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A mid-strength lager with a smooth, easy-drinking character. Features notes of pale malt, gentle hop bitterness, and a balanced finish. Light-bodied with smooth carbonation and a clean, refreshing mouthfeel. The finish is smooth and balanced, perfect for lighter drinking occasions. One 330ml bottle contains 0.9 standard drinks.',
                nutrition: {
                    calories: 100,
                    carbs: 8.0,
                    protein: 0.8,
                    fat: 0,
                    sugar: 0.4,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Mid-strength', 'Smooth']
            },
            'pure_blonde': {
                name: 'Pure Blonde (330ml)',
                type: 'Beer',
                alcohol: 'Australian Low-Carb Lager',
                abv: '3.5%',
                standardDrinks: '0.9',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A low-carb mid-strength lager with a light, refreshing taste. Features notes of pale malt, gentle hop bitterness, and a clean finish. Light-bodied with bright carbonation and a smooth, thirst-quenching mouthfeel. The finish is clean and refreshing, perfect for health-conscious drinkers. One 330ml bottle contains 0.9 standard drinks.',
                nutrition: {
                    calories: 90,
                    carbs: 8.5,
                    protein: 0.8,
                    fat: 0,
                    sugar: 0.3,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Low-carb', 'Mid-strength']
            },
            'peroni_nastro_azzurro': {
                name: 'Peroni Nastro Azzurro (330ml)',
                type: 'Beer',
                alcohol: 'Italian Lager',
                abv: '5.1%',
                standardDrinks: '1.3',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A premium Italian lager with a crisp, clean taste. Features notes of pale malt, noble hops, and a touch of sweetness. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, with lingering notes of floral hops. One 330ml bottle contains 1.3 standard drinks.',
                nutrition: {
                    calories: 150,
                    carbs: 12.8,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Italian', 'Premium', 'Crisp']
            },
            'peroni_mid': {
                name: 'Peroni Mid (330ml)',
                type: 'Beer',
                alcohol: 'Italian Mid-Strength Lager',
                abv: '3.5%',
                standardDrinks: '0.9',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A mid-strength version of the iconic Peroni Nastro Azzurro. Features the same crisp, clean taste with reduced alcohol content. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, perfect for extended drinking sessions. One 330ml bottle contains 0.9 standard drinks.',
                nutrition: {
                    calories: 110,
                    carbs: 9.2,
                    protein: 0.9,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Italian', 'Mid-strength', 'Crisp']
            },
            'peroni_rossa': {
                name: 'Peroni Rossa (330ml)',
                type: 'Beer',
                alcohol: 'Italian Red Lager',
                abv: '4.7%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Crystal malt', 'Hops', 'Water', 'Yeast'],
                description: 'A distinctive red lager with rich, malty flavors. Features notes of caramel malt, toasty bread, and subtle hop bitterness. Medium-bodied with smooth carbonation and a malty, slightly sweet mouthfeel. The finish is clean and balanced, with lingering notes of caramel and toast. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 140,
                    carbs: 13.2,
                    protein: 1.3,
                    fat: 0,
                    sugar: 0.6,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Red Lager', 'Italian', 'Malty', 'Rich']
            },
            'crown_lager': {
                name: 'Crown Lager (330ml)',
                type: 'Beer',
                alcohol: 'Australian Premium Lager',
                abv: '4.9%',
                standardDrinks: '1.1',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A premium Australian lager with a rich, malty character. Features notes of caramel malt, noble hops, and a balanced bitterness. Medium-bodied with smooth carbonation and a smooth, malty mouthfeel. The finish is clean and slightly sweet, with lingering malt notes. One 330ml bottle contains 1.1 standard drinks.',
                nutrition: {
                    calories: 135,
                    carbs: 11.7,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Premium', 'Malty']
            },
            'stone_wood_pacific_ale': {
                name: 'Stone & Wood Pacific Ale (330ml)',
                type: 'Beer',
                alcohol: 'Australian Pale Ale',
                abv: '4.4%',
                standardDrinks: '0.9',
                ingredients: ['Malted barley', 'Galaxy hops', 'Water', 'Yeast'],
                description: 'A tropical Australian pale ale with bright, fruity flavors. Features notes of Galaxy hops, tropical fruit, and a balanced bitterness. Light to medium-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly sweet, with lingering tropical hop notes. One 330ml bottle contains 0.9 standard drinks.',
                nutrition: {
                    calories: 120,
                    carbs: 11.0,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.4,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Pale Ale', 'Australian', 'Tropical', 'Galaxy Hops']
            },
            'stone_wood_garden_ale': {
                name: 'Stone & Wood Garden Ale (330ml)',
                type: 'Beer',
                alcohol: 'Australian Session Ale',
                abv: '3.8%',
                standardDrinks: '0.8',
                ingredients: ['Malted barley', 'Citra hops', 'Mosaic hops', 'Water', 'Yeast'],
                description: 'A sessionable ale with bright citrus and tropical fruit flavors. Features notes of Citra and Mosaic hops, with a balanced malt backbone. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly bitter, perfect for extended drinking sessions. One 330ml bottle contains 0.8 standard drinks.',
                nutrition: {
                    calories: 105,
                    carbs: 9.9,
                    protein: 1.0,
                    fat: 0,
                    sugar: 0.4,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Session Ale', 'Australian', 'Citrus', 'Tropical']
            },
            'stone_wood_cloud_catcher': {
                name: 'Stone & Wood Cloud Catcher (330ml)',
                type: 'Beer',
                alcohol: 'Australian Hazy IPA',
                abv: '6.0%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Wheat malt', 'Oats', 'Citra hops', 'Mosaic hops', 'Water', 'Yeast'],
                description: 'A hazy IPA with intense tropical fruit and citrus hop character. Features explosive notes of passionfruit, mango, and grapefruit from Citra and Mosaic hops, with a smooth, creamy mouthfeel from the hazy appearance and oat addition. Medium-bodied with bright carbonation and a smooth, pillowy texture. The finish is juicy and smooth with minimal bitterness. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 155,
                    carbs: 14.8,
                    protein: 1.5,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Hazy IPA', 'Australian', 'Tropical', 'Citrus']
            },
            'stone_wood_zen_ko': {
                name: 'Stone & Wood Zen Ko (330ml)',
                type: 'Beer',
                alcohol: 'Australian Japanese-Style Lager',
                abv: '4.5%',
                standardDrinks: '1.0',
                ingredients: ['Malted barley', 'Rice', 'Saaz hops', 'Water', 'Yeast'],
                description: 'A Japanese-style lager with a clean, crisp taste. Features notes of rice, pale malt, and noble Saaz hops. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, with lingering notes of floral hops and rice. One 330ml bottle contains 1.0 standard drinks.',
                nutrition: {
                    calories: 125,
                    carbs: 11.6,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Japanese-style', 'Clean']
            },
            'stone_wood_forest_for_the_trees': {
                name: 'Stone & Wood Forest For The Trees (330ml)',
                type: 'Beer',
                alcohol: 'Australian IPA',
                abv: '6.0%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Citra hops', 'Mosaic hops', 'Simcoe hops', 'Water', 'Yeast'],
                description: 'A West Coast-style IPA with bold hop bitterness and citrus notes. Features intense notes of grapefruit, pine, and tropical fruit from Citra, Mosaic, and Simcoe hops. Medium to full-bodied with bright carbonation and a smooth, hoppy mouthfeel. The finish is clean and bitter, with lingering citrus and pine hop notes. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 155,
                    carbs: 14.8,
                    protein: 1.5,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'IPA', 'Australian', 'West Coast', 'Bold']
            },
            'stone_wood_limited_releases': {
                name: 'Stone & Wood Limited Releases (330ml)',
                type: 'Beer',
                alcohol: 'Australian Experimental',
                abv: 'Varies',
                standardDrinks: 'Varies',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast', 'Experimental ingredients'],
                description: 'Limited edition beers with unique and experimental flavor profiles. Features innovative brewing techniques and unusual ingredients, showcasing the brewery\'s creativity and experimentation. Each release offers a different experience, from barrel-aged beers to fruit-infused ales. One 330ml bottle contains varying standard drinks depending on the release.',
                nutrition: {
                    calories: 140,
                    carbs: 13.2,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0.6,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Experimental', 'Australian', 'Limited Edition', 'Innovative']
            },

            // Stella Artois (AB InBev)
            'stella_artois': {
                name: 'Stella Artois (330ml)',
                type: 'Beer',
                alcohol: 'Belgian Lager',
                abv: '5.2%',
                standardDrinks: '1.4',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A premium Belgian lager with a rich history dating back to 1366. Features a balanced taste with notes of pale malt, noble hops, and a touch of sweetness. Medium-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, with a subtle hop bitterness. One 330ml bottle contains 1.4 standard drinks.',
                nutrition: {
                    calories: 150,
                    carbs: 12.8,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Belgian', 'Premium', 'Crisp']
            },
            'stella_artois_radler': {
                name: 'Stella Artois Radler (330ml)',
                type: 'Beer',
                alcohol: 'Belgian Radler',
                abv: '2.0%',
                standardDrinks: '0.5',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast', 'Lemon juice'],
                description: 'A refreshing radler combining Stella Artois lager with natural lemon juice. Features a light, citrusy taste with notes of lemon, pale malt, and subtle hop bitterness. Light-bodied with bright carbonation and a smooth, thirst-quenching mouthfeel. Perfect for warm weather and casual drinking. One 330ml bottle contains 0.5 standard drinks.',
                nutrition: {
                    calories: 85,
                    carbs: 8.2,
                    protein: 0.8,
                    fat: 0,
                    sugar: 2.1,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Radler', 'Belgian', 'Citrus', 'Light']
            },

            // Matos Ginger Beer
            'matos_ginger_beer': {
                name: 'Matos Ginger Beer (330ml)',
                type: 'Beer',
                alcohol: 'Non-Alcoholic Ginger Beer',
                abv: '0.0%',
                standardDrinks: '0.0',
                ingredients: ['Water', 'Ginger', 'Sugar', 'Lemon juice', 'Natural flavors'],
                description: 'A traditional ginger beer with a bold, spicy ginger flavor. Features intense notes of fresh ginger, citrus, and natural sweetness. Medium-bodied with bright carbonation and a warming, spicy mouthfeel. The finish is clean and refreshing, with lingering ginger notes. Perfect as a mixer or standalone drink. One 330ml bottle contains 0.0 standard drinks.',
                nutrition: {
                    calories: 120,
                    carbs: 28.5,
                    protein: 0,
                    fat: 0,
                    sugar: 28.5,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Ginger Beer', 'Non-Alcoholic', 'Spicy', 'Traditional']
            },

            // Hahn Brewery (Lion)
            'hahn_full_strength': {
                name: 'Hahn Premium Lager (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.6%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A premium Australian lager with a crisp, clean taste. Features notes of pale malt, noble hops, and a touch of sweetness. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, with lingering notes of floral hops. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 135,
                    carbs: 11.8,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Premium', 'Crisp']
            },
            'hahn_mid_strength': {
                name: 'Hahn Premium Light (330ml)',
                type: 'Beer',
                alcohol: 'Australian Mid-Strength Lager',
                abv: '3.5%',
                standardDrinks: '0.9',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A mid-strength version of Hahn Premium with reduced alcohol content. Features the same crisp, clean taste with notes of pale malt and subtle hop bitterness. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, perfect for extended drinking sessions. One 330ml bottle contains 0.9 standard drinks.',
                nutrition: {
                    calories: 105,
                    carbs: 9.2,
                    protein: 0.9,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Mid-Strength', 'Light']
            },
            'hahn_super_dry': {
                name: 'Hahn Super Dry (330ml)',
                type: 'Beer',
                alcohol: 'Australian Dry Lager',
                abv: '4.6%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A dry lager with a crisp, clean finish and minimal sweetness. Features notes of pale malt, noble hops, and a distinctive dry character. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is exceptionally clean and dry, with lingering hop notes. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 130,
                    carbs: 11.5,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Dry', 'Crisp']
            },

            // Pirate Life Brewing
            'pirate_life_throwback_ipa': {
                name: 'Pirate Life Throwback IPA (330ml)',
                type: 'Beer',
                alcohol: 'Australian IPA',
                abv: '6.8%',
                standardDrinks: '1.8',
                ingredients: ['Malted barley', 'Citra hops', 'Mosaic hops', 'Water', 'Yeast'],
                description: 'A juicy, hop-forward IPA with tropical fruit and citrus flavors. Features intense notes of passionfruit, mango, grapefruit, and pine from Citra and Mosaic hops. Medium to full-bodied with bright carbonation and a smooth, hoppy mouthfeel. The finish is clean and bitter, with lingering tropical fruit notes. One 330ml bottle contains 1.8 standard drinks.',
                nutrition: {
                    calories: 185,
                    carbs: 16.2,
                    protein: 1.8,
                    fat: 0,
                    sugar: 0.8,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'IPA', 'Australian', 'Juicy', 'Tropical']
            },
            'pirate_life_pale_ale': {
                name: 'Pirate Life Pale Ale (330ml)',
                type: 'Beer',
                alcohol: 'Australian Pale Ale',
                abv: '5.4%',
                standardDrinks: '1.4',
                ingredients: ['Malted barley', 'Galaxy hops', 'Water', 'Yeast'],
                description: 'A balanced pale ale with citrus and tropical fruit flavors. Features notes of passionfruit, citrus, and pale malt from Galaxy hops. Medium-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly bitter, with lingering citrus notes. One 330ml bottle contains 1.4 standard drinks.',
                nutrition: {
                    calories: 155,
                    carbs: 13.8,
                    protein: 1.4,
                    fat: 0,
                    sugar: 0.6,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Pale Ale', 'Australian', 'Balanced', 'Citrus']
            },
            'pirate_life_lager': {
                name: 'Pirate Life Lager (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.8%',
                standardDrinks: '1.3',
                ingredients: ['Malted barley', 'Saaz hops', 'Water', 'Yeast'],
                description: 'A clean, crisp lager with a refreshing taste. Features delicate notes of pale malt, noble Saaz hops, and a touch of sweetness. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, with lingering notes of floral hops. One 330ml bottle contains 1.3 standard drinks.',
                nutrition: {
                    calories: 140,
                    carbs: 12.1,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Clean', 'Crisp']
            },
            'pirate_life_port_ale': {
                name: 'Pirate Life Port Ale (330ml)',
                type: 'Beer',
                alcohol: 'Australian Port Ale',
                abv: '6.5%',
                standardDrinks: '1.7',
                ingredients: ['Malted barley', 'Roasted malt', 'Hops', 'Water', 'Yeast'],
                description: 'A rich, dark ale inspired by port wine. Features notes of dark fruit, roasted malt, chocolate, and a touch of sweetness. Medium to full-bodied with smooth carbonation and a velvety mouthfeel. The finish is smooth and slightly sweet, with lingering notes of dark fruit and chocolate. One 330ml bottle contains 1.7 standard drinks.',
                nutrition: {
                    calories: 175,
                    carbs: 15.8,
                    protein: 1.6,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Port Ale', 'Australian', 'Rich', 'Dark']
            },

            // James Boag's (Lion)
            'james_boags_premium': {
                name: 'James Boag\'s Premium Lager (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '5.0%',
                standardDrinks: '1.3',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A premium Tasmanian lager with a crisp, clean taste. Features notes of pale malt, noble hops, and a touch of sweetness. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, with lingering notes of floral hops. One 330ml bottle contains 1.3 standard drinks.',
                nutrition: {
                    calories: 145,
                    carbs: 12.5,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Premium', 'Tasmanian']
            },
            'james_boags_draught': {
                name: 'James Boag\'s Draught (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.6%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A smooth, easy-drinking lager with a balanced taste. Features notes of pale malt, subtle hop bitterness, and a touch of sweetness. Light-bodied with smooth carbonation and a clean, refreshing mouthfeel. The finish is balanced and smooth, making it perfect for any occasion. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 135,
                    carbs: 11.8,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Smooth', 'Balanced']
            },
            'james_boags_light': {
                name: 'James Boag\'s Light (330ml)',
                type: 'Beer',
                alcohol: 'Australian Light Lager',
                abv: '2.7%',
                standardDrinks: '0.6',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A light version of James Boag\'s with reduced alcohol and calories. Features the same crisp, clean taste with notes of pale malt and subtle hop bitterness. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, perfect for extended drinking sessions. One 330ml bottle contains 0.6 standard drinks.',
                nutrition: {
                    calories: 85,
                    carbs: 7.2,
                    protein: 0.7,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Light', 'Low-Calorie']
            },

            // Tooheys (Lion)
            'tooheys_old': {
                name: 'Tooheys Old (330ml)',
                type: 'Beer',
                alcohol: 'Australian Dark Ale',
                abv: '4.4%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Roasted malt', 'Hops', 'Water', 'Yeast'],
                description: 'A classic dark ale with rich, malty flavors. Features notes of roasted malt, caramel, toffee, and a touch of sweetness. Medium-bodied with smooth carbonation and a velvety mouthfeel. The finish is smooth and slightly sweet, with lingering notes of caramel and roasted malt. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 150,
                    carbs: 13.2,
                    protein: 1.3,
                    fat: 0,
                    sugar: 0.6,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Dark Ale', 'Australian', 'Rich', 'Malty']
            },
            'tooheys_extra_dry': {
                name: 'Tooheys Extra Dry (330ml)',
                type: 'Beer',
                alcohol: 'Australian Dry Lager',
                abv: '4.4%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A dry lager with a crisp, clean finish and minimal sweetness. Features notes of pale malt, noble hops, and a distinctive dry character. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is exceptionally clean and dry, with lingering hop notes. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 130,
                    carbs: 11.5,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Dry', 'Crisp']
            },
            'tooheys_new': {
                name: 'Tooheys New (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.6%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A classic Australian lager with a smooth, easy-drinking character. Features notes of pale malt, subtle hop bitterness, and a touch of sweetness. Light-bodied with smooth carbonation and a clean, refreshing mouthfeel. The finish is balanced and smooth, making it perfect for any occasion. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 135,
                    carbs: 11.8,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Classic', 'Smooth']
            },

            // James Squire (Lion)
            'james_squire_fifty_lashes': {
                name: 'James Squire Fifty Lashes (330ml)',
                type: 'Beer',
                alcohol: 'Australian Pale Ale',
                abv: '4.2%',
                standardDrinks: '1.0',
                ingredients: ['Malted barley', 'Galaxy hops', 'Water', 'Yeast'],
                description: 'A refreshing pale ale with citrus and tropical fruit flavors. Features notes of passionfruit, citrus, and pale malt from Galaxy hops. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly bitter, with lingering citrus notes. One 330ml bottle contains 1.0 standard drinks.',
                nutrition: {
                    calories: 125,
                    carbs: 11.2,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Pale Ale', 'Australian', 'Refreshing', 'Citrus']
            },
            'james_squire_ipa': {
                name: 'James Squire IPA (330ml)',
                type: 'Beer',
                alcohol: 'Australian IPA',
                abv: '5.6%',
                standardDrinks: '1.5',
                ingredients: ['Malted barley', 'Citra hops', 'Mosaic hops', 'Water', 'Yeast'],
                description: 'A hop-forward IPA with citrus and tropical fruit flavors. Features intense notes of grapefruit, pine, and tropical fruit from Citra and Mosaic hops. Medium-bodied with bright carbonation and a smooth, hoppy mouthfeel. The finish is clean and bitter, with lingering citrus and pine hop notes. One 330ml bottle contains 1.5 standard drinks.',
                nutrition: {
                    calories: 165,
                    carbs: 15.2,
                    protein: 1.5,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'IPA', 'Australian', 'Hop-forward', 'Citrus']
            },
            'james_squire_porter': {
                name: 'James Squire Porter (330ml)',
                type: 'Beer',
                alcohol: 'Australian Porter',
                abv: '5.0%',
                standardDrinks: '1.3',
                ingredients: ['Malted barley', 'Roasted barley', 'Chocolate malt', 'Hops', 'Water', 'Yeast'],
                description: 'A rich, dark porter with coffee and chocolate flavors. Features notes of roasted barley, coffee, chocolate, and a touch of sweetness. Medium-bodied with smooth carbonation and a velvety mouthfeel. The finish is dry and slightly bitter, with lingering notes of coffee and dark chocolate. One 330ml bottle contains 1.3 standard drinks.',
                nutrition: {
                    calories: 155,
                    carbs: 14.3,
                    protein: 1.6,
                    fat: 0,
                    sugar: 0.7,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Porter', 'Australian', 'Rich', 'Dark']
            },

            // Emu Export (Lion)
            'emu_export': {
                name: 'Emu Export (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.7%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A classic Western Australian lager with a smooth, easy-drinking character. Features notes of pale malt, subtle hop bitterness, and a touch of sweetness. Light-bodied with smooth carbonation and a clean, refreshing mouthfeel. The finish is balanced and smooth, making it perfect for any occasion. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 140,
                    carbs: 12.2,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Classic', 'Smooth']
            },
            'emu_export_gold': {
                name: 'Emu Export Gold (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.5%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A premium version of Emu Export with enhanced flavor and smoothness. Features notes of pale malt, noble hops, and a touch of sweetness. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, with lingering notes of floral hops. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 135,
                    carbs: 11.8,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Premium', 'Smooth']
            },

            // Goat Mountain Brewing
            'goat_mountain_pale_ale': {
                name: 'Goat Mountain Pale Ale (330ml)',
                type: 'Beer',
                alcohol: 'Australian Pale Ale',
                abv: '4.8%',
                standardDrinks: '1.3',
                ingredients: ['Malted barley', 'Galaxy hops', 'Water', 'Yeast'],
                description: 'A balanced pale ale with citrus and tropical fruit flavors. Features notes of passionfruit, citrus, and pale malt from Galaxy hops. Medium-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly bitter, with lingering citrus notes. One 330ml bottle contains 1.3 standard drinks.',
                nutrition: {
                    calories: 145,
                    carbs: 13.1,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0.6,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Pale Ale', 'Australian', 'Balanced', 'Citrus']
            },
            'goat_mountain_ipa': {
                name: 'Goat Mountain IPA (330ml)',
                type: 'Beer',
                alcohol: 'Australian IPA',
                abv: '6.2%',
                standardDrinks: '1.6',
                ingredients: ['Malted barley', 'Citra hops', 'Mosaic hops', 'Water', 'Yeast'],
                description: 'A hop-forward IPA with citrus and tropical fruit flavors. Features intense notes of grapefruit, pine, and tropical fruit from Citra and Mosaic hops. Medium to full-bodied with bright carbonation and a smooth, hoppy mouthfeel. The finish is clean and bitter, with lingering citrus and pine hop notes. One 330ml bottle contains 1.6 standard drinks.',
                nutrition: {
                    calories: 175,
                    carbs: 16.2,
                    protein: 1.7,
                    fat: 0,
                    sugar: 0.8,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'IPA', 'Australian', 'Hop-forward', 'Citrus']
            },
            'goat_mountain_lager': {
                name: 'Goat Mountain Lager (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.6%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Saaz hops', 'Water', 'Yeast'],
                description: 'A clean, crisp lager with a refreshing taste. Features delicate notes of pale malt, noble Saaz hops, and a touch of sweetness. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, with lingering notes of floral hops. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 135,
                    carbs: 11.8,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Clean', 'Crisp']
            },

            // Swan Brewery (Lion)
            'swan_draught': {
                name: 'Swan Draught (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.5%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A classic Western Australian lager with a smooth, easy-drinking character. Features notes of pale malt, subtle hop bitterness, and a touch of sweetness. Light-bodied with smooth carbonation and a clean, refreshing mouthfeel. The finish is balanced and smooth, making it perfect for any occasion. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 135,
                    carbs: 11.8,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Classic', 'Smooth']
            },
            'swan_lager': {
                name: 'Swan Lager (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.8%',
                standardDrinks: '1.3',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A premium lager with a crisp, clean taste. Features notes of pale malt, noble hops, and a touch of sweetness. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, with lingering notes of floral hops. One 330ml bottle contains 1.3 standard drinks.',
                nutrition: {
                    calories: 145,
                    carbs: 12.5,
                    protein: 1.2,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Premium', 'Crisp']
            },
            'swan_gold': {
                name: 'Swan Gold (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.2%',
                standardDrinks: '1.1',
                ingredients: ['Malted barley', 'Hops', 'Water', 'Yeast'],
                description: 'A light lager with a crisp, refreshing taste. Features notes of pale malt, subtle hop bitterness, and a touch of sweetness. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, perfect for extended drinking sessions. One 330ml bottle contains 1.1 standard drinks.',
                nutrition: {
                    calories: 125,
                    carbs: 11.2,
                    protein: 1.0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Light', 'Refreshing']
            },

            // Stone & Wood (Independent)
            'stone_wood_pacific_ale': {
                name: 'Stone & Wood Pacific Ale (330ml)',
                type: 'Beer',
                alcohol: 'Australian Pale Ale',
                abv: '4.4%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Galaxy hops', 'Water', 'Yeast'],
                description: 'A refreshing pale ale with tropical fruit and citrus flavors. Features notes of passionfruit, citrus, and pale malt from Galaxy hops. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly bitter, with lingering citrus notes. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 135,
                    carbs: 12.1,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0.5,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Pale Ale', 'Australian', 'Refreshing', 'Tropical']
            },
            'stone_wood_garden_ale': {
                name: 'Stone & Wood Garden Ale (330ml)',
                type: 'Beer',
                alcohol: 'Australian Session Ale',
                abv: '3.8%',
                standardDrinks: '1.0',
                ingredients: ['Malted barley', 'Galaxy hops', 'Water', 'Yeast'],
                description: 'A sessionable ale with citrus and tropical fruit flavors. Features notes of passionfruit, citrus, and pale malt from Galaxy hops. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly bitter, perfect for extended drinking sessions. One 330ml bottle contains 1.0 standard drinks.',
                nutrition: {
                    calories: 115,
                    carbs: 10.5,
                    protein: 1.0,
                    fat: 0,
                    sugar: 0.4,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Session Ale', 'Australian', 'Sessionable', 'Citrus']
            },
            'stone_wood_lager': {
                name: 'Stone & Wood Lager (330ml)',
                type: 'Beer',
                alcohol: 'Australian Lager',
                abv: '4.7%',
                standardDrinks: '1.2',
                ingredients: ['Malted barley', 'Saaz hops', 'Water', 'Yeast'],
                description: 'A clean, crisp lager with a refreshing taste. Features delicate notes of pale malt, noble Saaz hops, and a touch of sweetness. Light-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly dry, with lingering notes of floral hops. One 330ml bottle contains 1.2 standard drinks.',
                nutrition: {
                    calories: 140,
                    carbs: 12.2,
                    protein: 1.1,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'Lager', 'Australian', 'Clean', 'Crisp']
            },
            'stone_wood_cloud_catcher': {
                name: 'Stone & Wood Cloud Catcher (330ml)',
                type: 'Beer',
                alcohol: 'Australian IPA',
                abv: '6.5%',
                standardDrinks: '1.7',
                ingredients: ['Malted barley', 'Citra hops', 'Mosaic hops', 'Water', 'Yeast'],
                description: 'A hop-forward IPA with citrus and tropical fruit flavors. Features intense notes of grapefruit, pine, and tropical fruit from Citra and Mosaic hops. Medium to full-bodied with bright carbonation and a smooth, hoppy mouthfeel. The finish is clean and bitter, with lingering citrus and pine hop notes. One 330ml bottle contains 1.7 standard drinks.',
                nutrition: {
                    calories: 185,
                    carbs: 16.8,
                    protein: 1.8,
                    fat: 0,
                    sugar: 0.8,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Beer', 'IPA', 'Australian', 'Hop-forward', 'Citrus']
            },

            // Jack Daniels (Brown-Forman)
            'jack_daniels_coke': {
                name: 'Jack Daniels & Cola (330ml)',
                type: 'RTD',
                alcohol: 'Whiskey & Cola',
                abv: '5.0%',
                standardDrinks: '1.3',
                ingredients: ['Jack Daniels Tennessee Whiskey', 'Cola', 'Carbonated water', 'Natural flavors'],
                description: 'A ready-to-drink mix of Jack Daniels Tennessee Whiskey and cola. Features the smooth, charcoal-mellowed taste of Jack Daniels with the refreshing sweetness of cola. Medium-bodied with bright carbonation and a smooth, easy-drinking mouthfeel. The finish is smooth and slightly sweet, with lingering notes of whiskey and caramel. One 330ml can contains 1.3 standard drinks.',
                nutrition: {
                    calories: 145,
                    carbs: 15.2,
                    protein: 0,
                    fat: 0,
                    sugar: 14.8,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['RTD', 'Whiskey', 'Cola', 'Jack Daniels', 'Smooth']
            },
            'jack_daniels_whiskey': {
                name: 'Jack Daniels Tennessee Whiskey (30ml)',
                type: 'Spirit',
                alcohol: 'Tennessee Whiskey',
                abv: '40.0%',
                standardDrinks: '1.0',
                ingredients: ['Corn', 'Rye', 'Malted barley', 'Charcoal filtered'],
                description: 'The world\'s most popular whiskey, charcoal-mellowed for smoothness. Features notes of caramel, vanilla, oak, and a distinctive charcoal finish. Full-bodied with a smooth, warming mouthfeel. The finish is long and smooth, with lingering notes of caramel and oak. One 30ml shot contains 1.0 standard drinks.',
                nutrition: {
                    calories: 70,
                    carbs: 0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '30ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Whiskey', 'Tennessee', 'Jack Daniels', 'Smooth']
            },
            'jack_daniels_honey': {
                name: 'Jack Daniels Tennessee Honey (30ml)',
                type: 'Spirit',
                alcohol: 'Honey Whiskey',
                abv: '35.0%',
                standardDrinks: '0.9',
                ingredients: ['Jack Daniels Tennessee Whiskey', 'Honey liqueur'],
                description: 'A smooth blend of Jack Daniels Tennessee Whiskey and honey liqueur. Features notes of honey, caramel, vanilla, and oak with a sweet, smooth finish. Medium-bodied with a velvety mouthfeel. The finish is sweet and smooth, with lingering notes of honey and caramel. One 30ml shot contains 0.9 standard drinks.',
                nutrition: {
                    calories: 85,
                    carbs: 8.5,
                    protein: 0,
                    fat: 0,
                    sugar: 8.5,
                    servingSize: '30ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Whiskey', 'Honey', 'Jack Daniels', 'Sweet']
            },

            // Canadian Club (Beam Suntory)
            'canadian_club': {
                name: 'Canadian Club Whisky (30ml)',
                type: 'Spirit',
                alcohol: 'Canadian Whisky',
                abv: '40.0%',
                standardDrinks: '1.0',
                ingredients: ['Corn', 'Rye', 'Malted barley', 'Aged in oak'],
                description: 'A smooth Canadian whisky with a rich, complex character. Features notes of vanilla, oak, caramel, and a touch of spice. Medium-bodied with a smooth, warming mouthfeel. The finish is clean and slightly sweet, with lingering notes of vanilla and oak. One 30ml shot contains 1.0 standard drinks.',
                nutrition: {
                    calories: 70,
                    carbs: 0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '30ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Whisky', 'Canadian', 'Smooth', 'Vanilla']
            },
            'canadian_club_dry': {
                name: 'Canadian Club Dry (30ml)',
                type: 'Spirit',
                alcohol: 'Canadian Whisky',
                abv: '40.0%',
                standardDrinks: '1.0',
                ingredients: ['Corn', 'Rye', 'Malted barley', 'Aged in oak'],
                description: 'A drier version of Canadian Club with enhanced oak character. Features notes of oak, vanilla, and a distinctive dry finish. Medium-bodied with a smooth, warming mouthfeel. The finish is dry and clean, with lingering notes of oak and vanilla. One 30ml shot contains 1.0 standard drinks.',
                nutrition: {
                    calories: 70,
                    carbs: 0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '30ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Whisky', 'Canadian', 'Dry', 'Oak']
            },

            // Bundaberg (Diageo)
            'bundaberg_cola': {
                name: 'Bundaberg Rum & Cola (330ml)',
                type: 'RTD',
                alcohol: 'Rum & Cola',
                abv: '5.0%',
                standardDrinks: '1.3',
                ingredients: ['Bundaberg Rum', 'Cola', 'Carbonated water', 'Natural flavors'],
                description: 'A ready-to-drink mix of Bundaberg Rum and cola. Features the distinctive taste of Bundaberg Rum with the refreshing sweetness of cola. Medium-bodied with bright carbonation and a smooth, easy-drinking mouthfeel. The finish is smooth and slightly sweet, with lingering notes of rum and caramel. One 330ml can contains 1.3 standard drinks.',
                nutrition: {
                    calories: 145,
                    carbs: 15.2,
                    protein: 0,
                    fat: 0,
                    sugar: 14.8,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['RTD', 'Rum', 'Cola', 'Bundaberg', 'Australian']
            },
            'bundaberg_rum': {
                name: 'Bundaberg Rum (30ml)',
                type: 'Spirit',
                alcohol: 'Australian Rum',
                abv: '37.0%',
                standardDrinks: '0.9',
                ingredients: ['Molasses', 'Yeast', 'Aged in oak'],
                description: 'Australia\'s most popular rum with a distinctive, full-bodied character. Features notes of molasses, caramel, oak, and a touch of spice. Full-bodied with a smooth, warming mouthfeel. The finish is long and smooth, with lingering notes of molasses and oak. One 30ml shot contains 0.9 standard drinks.',
                nutrition: {
                    calories: 65,
                    carbs: 0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '30ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Rum', 'Australian', 'Bundaberg', 'Full-bodied']
            },

            // Jim Beam (Beam Suntory)
            'jim_beam_cola': {
                name: 'Jim Beam & Cola (330ml)',
                type: 'RTD',
                alcohol: 'Bourbon & Cola',
                abv: '5.0%',
                standardDrinks: '1.3',
                ingredients: ['Jim Beam Bourbon', 'Cola', 'Carbonated water', 'Natural flavors'],
                description: 'A ready-to-drink mix of Jim Beam Bourbon and cola. Features the smooth, oak-aged taste of Jim Beam with the refreshing sweetness of cola. Medium-bodied with bright carbonation and a smooth, easy-drinking mouthfeel. The finish is smooth and slightly sweet, with lingering notes of bourbon and caramel. One 330ml can contains 1.3 standard drinks.',
                nutrition: {
                    calories: 145,
                    carbs: 15.2,
                    protein: 0,
                    fat: 0,
                    sugar: 14.8,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['RTD', 'Bourbon', 'Cola', 'Jim Beam', 'Smooth']
            },
            'jim_beam_bourbon': {
                name: 'Jim Beam Bourbon (30ml)',
                type: 'Spirit',
                alcohol: 'Kentucky Bourbon',
                abv: '40.0%',
                standardDrinks: '1.0',
                ingredients: ['Corn', 'Rye', 'Malted barley', 'Aged in charred oak'],
                description: 'The world\'s number one selling bourbon with a smooth, oak-aged character. Features notes of vanilla, oak, caramel, and a touch of spice. Medium-bodied with a smooth, warming mouthfeel. The finish is clean and slightly sweet, with lingering notes of vanilla and oak. One 30ml shot contains 1.0 standard drinks.',
                nutrition: {
                    calories: 70,
                    carbs: 0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '30ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Bourbon', 'Kentucky', 'Jim Beam', 'Smooth']
            },
            'jim_beam_honey': {
                name: 'Jim Beam Honey (30ml)',
                type: 'Spirit',
                alcohol: 'Honey Bourbon',
                abv: '35.0%',
                standardDrinks: '0.9',
                ingredients: ['Jim Beam Bourbon', 'Honey liqueur'],
                description: 'A smooth blend of Jim Beam Bourbon and honey liqueur. Features notes of honey, caramel, vanilla, and oak with a sweet, smooth finish. Medium-bodied with a velvety mouthfeel. The finish is sweet and smooth, with lingering notes of honey and caramel. One 30ml shot contains 0.9 standard drinks.',
                nutrition: {
                    calories: 85,
                    carbs: 8.5,
                    protein: 0,
                    fat: 0,
                    sugar: 8.5,
                    servingSize: '30ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Bourbon', 'Honey', 'Jim Beam', 'Sweet']
            },

            // Hard Rated (Independent)
            'hard_rated': {
                name: 'Hard Rated (330ml)',
                type: 'RTD',
                alcohol: 'Hard Seltzer',
                abv: '4.5%',
                standardDrinks: '1.2',
                ingredients: ['Vodka', 'Carbonated water', 'Natural flavors', 'Citric acid'],
                description: 'A hard seltzer with a clean, refreshing taste. Features notes of natural fruit flavors with a crisp, bubbly mouthfeel. Light-bodied with bright carbonation and a smooth, refreshing finish. The finish is clean and slightly tart, perfect for warm weather and casual drinking. One 330ml can contains 1.2 standard drinks.',
                nutrition: {
                    calories: 95,
                    carbs: 2.1,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['RTD', 'Hard Seltzer', 'Vodka', 'Refreshing', 'Low-Calorie']
            },

            // Monsuta Apple Chuhai (Japanese)
            'monsuta_apple_chuhai': {
                name: 'Monsuta Apple Chuhai (350ml)',
                type: 'RTD',
                alcohol: 'Japanese Chuhai',
                abv: '7.0%',
                standardDrinks: '1.8',
                ingredients: ['Shochu', 'Apple juice', 'Carbonated water', 'Natural flavors'],
                description: 'A Japanese chuhai (shochu highball) with apple flavor. Features notes of fresh apple, shochu, and a touch of sweetness. Medium-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly sweet, with lingering notes of apple and shochu. One 350ml can contains 1.8 standard drinks.',
                nutrition: {
                    calories: 165,
                    carbs: 18.5,
                    protein: 0,
                    fat: 0,
                    sugar: 16.2,
                    servingSize: '350ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['RTD', 'Chuhai', 'Japanese', 'Apple', 'Shochu']
            },

            // Voso Vodka Soda (Independent)
            'voso_vodka_soda': {
                name: 'Voso Vodka Soda (330ml)',
                type: 'RTD',
                alcohol: 'Vodka Soda',
                abv: '4.5%',
                standardDrinks: '1.2',
                ingredients: ['Vodka', 'Carbonated water', 'Natural flavors', 'Citric acid'],
                description: 'A clean vodka soda with natural fruit flavors. Features notes of fresh fruit with a crisp, bubbly mouthfeel. Light-bodied with bright carbonation and a smooth, refreshing finish. The finish is clean and slightly tart, perfect for those seeking a low-calorie option. One 330ml can contains 1.2 standard drinks.',
                nutrition: {
                    calories: 95,
                    carbs: 2.1,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['RTD', 'Vodka Soda', 'Low-Calorie', 'Refreshing', 'Clean']
            },

            // Pals (Independent)
            'pals': {
                name: 'Pals (330ml)',
                type: 'RTD',
                alcohol: 'Hard Seltzer',
                abv: '4.5%',
                standardDrinks: '1.2',
                ingredients: ['Vodka', 'Carbonated water', 'Natural flavors', 'Citric acid'],
                description: 'A hard seltzer with natural fruit flavors and a clean, refreshing taste. Features notes of fresh fruit with a crisp, bubbly mouthfeel. Light-bodied with bright carbonation and a smooth, refreshing finish. The finish is clean and slightly tart, perfect for warm weather and casual drinking. One 330ml can contains 1.2 standard drinks.',
                nutrition: {
                    calories: 95,
                    carbs: 2.1,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['RTD', 'Hard Seltzer', 'Vodka', 'Refreshing', 'Low-Calorie']
            },

            // -196 (Independent)
            'minus_196': {
                name: '-196 (330ml)',
                type: 'RTD',
                alcohol: 'Hard Seltzer',
                abv: '4.5%',
                standardDrinks: '1.2',
                ingredients: ['Vodka', 'Carbonated water', 'Natural flavors', 'Citric acid'],
                description: 'A hard seltzer with a unique name and clean, refreshing taste. Features notes of natural fruit flavors with a crisp, bubbly mouthfeel. Light-bodied with bright carbonation and a smooth, refreshing finish. The finish is clean and slightly tart, perfect for those seeking a low-calorie option. One 330ml can contains 1.2 standard drinks.',
                nutrition: {
                    calories: 95,
                    carbs: 2.1,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['RTD', 'Hard Seltzer', 'Vodka', 'Refreshing', 'Low-Calorie']
            },

            // Cruisers (Asahi)
            'cruisers': {
                name: 'Cruisers (330ml)',
                type: 'RTD',
                alcohol: 'Flavored Vodka',
                abv: '5.0%',
                standardDrinks: '1.3',
                ingredients: ['Vodka', 'Fruit juice', 'Carbonated water', 'Natural flavors'],
                description: 'A popular flavored vodka drink with various fruit flavors. Features notes of fresh fruit with a sweet, easy-drinking character. Medium-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is sweet and smooth, perfect for casual drinking and parties. One 330ml bottle contains 1.3 standard drinks.',
                nutrition: {
                    calories: 165,
                    carbs: 18.2,
                    protein: 0,
                    fat: 0,
                    sugar: 16.8,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['RTD', 'Flavored Vodka', 'Fruit', 'Sweet', 'Popular']
            },

            // White Claw (Mark Anthony Group)
            'white_claw': {
                name: 'White Claw (330ml)',
                type: 'RTD',
                alcohol: 'Hard Seltzer',
                abv: '5.0%',
                standardDrinks: '1.3',
                ingredients: ['Malt liquor', 'Carbonated water', 'Natural flavors', 'Citric acid'],
                description: 'The original hard seltzer with a clean, refreshing taste. Features notes of natural fruit flavors with a crisp, bubbly mouthfeel. Light-bodied with bright carbonation and a smooth, refreshing finish. The finish is clean and slightly tart, perfect for warm weather and casual drinking. One 330ml can contains 1.3 standard drinks.',
                nutrition: {
                    calories: 100,
                    carbs: 2.0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['RTD', 'Hard Seltzer', 'Original', 'Refreshing', 'Low-Calorie']
            },

            // Johnnie Walker (Diageo)
            'johnnie_walker_red_cola': {
                name: 'Johnnie Walker Red & Cola (330ml)',
                type: 'RTD',
                alcohol: 'Scotch & Cola',
                abv: '5.0%',
                standardDrinks: '1.3',
                ingredients: ['Johnnie Walker Red Label', 'Cola', 'Carbonated water', 'Natural flavors'],
                description: 'A ready-to-drink mix of Johnnie Walker Red Label Scotch and cola. Features the smooth, smoky taste of Johnnie Walker with the refreshing sweetness of cola. Medium-bodied with bright carbonation and a smooth, easy-drinking mouthfeel. The finish is smooth and slightly sweet, with lingering notes of scotch and caramel. One 330ml can contains 1.3 standard drinks.',
                nutrition: {
                    calories: 145,
                    carbs: 15.2,
                    protein: 0,
                    fat: 0,
                    sugar: 14.8,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['RTD', 'Scotch', 'Cola', 'Johnnie Walker', 'Smooth']
            },
            'johnnie_walker_red': {
                name: 'Johnnie Walker Red Label (30ml)',
                type: 'Spirit',
                alcohol: 'Blended Scotch Whisky',
                abv: '40.0%',
                standardDrinks: '1.0',
                ingredients: ['Blended malt and grain whisky', 'Aged in oak'],
                description: 'A bold, full-bodied blended Scotch whisky with a distinctive character. Features notes of smoke, oak, vanilla, and a touch of spice. Full-bodied with a smooth, warming mouthfeel. The finish is long and smoky, with lingering notes of oak and vanilla. One 30ml shot contains 1.0 standard drinks.',
                nutrition: {
                    calories: 70,
                    carbs: 0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '30ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Scotch', 'Blended', 'Johnnie Walker', 'Smoky']
            },

            // Woodstock Bourbon (Independent)
            'woodstock_bourbon_cola': {
                name: 'Woodstock Bourbon & Cola (330ml)',
                type: 'RTD',
                alcohol: 'Bourbon & Cola',
                abv: '5.0%',
                standardDrinks: '1.3',
                ingredients: ['Woodstock Bourbon', 'Cola', 'Carbonated water', 'Natural flavors'],
                description: 'A ready-to-drink mix of Woodstock Bourbon and cola. Features the smooth, oak-aged taste of Woodstock Bourbon with the refreshing sweetness of cola. Medium-bodied with bright carbonation and a smooth, easy-drinking mouthfeel. The finish is smooth and slightly sweet, with lingering notes of bourbon and caramel. One 330ml can contains 1.3 standard drinks.',
                nutrition: {
                    calories: 145,
                    carbs: 15.2,
                    protein: 0,
                    fat: 0,
                    sugar: 14.8,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['RTD', 'Bourbon', 'Cola', 'Woodstock', 'Smooth']
            },
            'woodstock_bourbon': {
                name: 'Woodstock Bourbon (30ml)',
                type: 'Spirit',
                alcohol: 'Kentucky Bourbon',
                abv: '40.0%',
                standardDrinks: '1.0',
                ingredients: ['Corn', 'Rye', 'Malted barley', 'Aged in charred oak'],
                description: 'A smooth Kentucky bourbon with a rich, complex character. Features notes of vanilla, oak, caramel, and a touch of spice. Medium-bodied with a smooth, warming mouthfeel. The finish is clean and slightly sweet, with lingering notes of vanilla and oak. One 30ml shot contains 1.0 standard drinks.',
                nutrition: {
                    calories: 70,
                    carbs: 0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '30ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Bourbon', 'Kentucky', 'Woodstock', 'Smooth']
            },

            // Brookvale Union (Independent)
            'brookvale_union_llb': {
                name: 'Brookvale Union Lemon Lime & Bitters (330ml)',
                type: 'RTD',
                alcohol: 'Lemon Lime & Bitters',
                abv: '4.0%',
                standardDrinks: '1.1',
                ingredients: ['Vodka', 'Lemon juice', 'Lime juice', 'Angostura bitters', 'Carbonated water'],
                description: 'A refreshing take on the classic Lemon Lime & Bitters cocktail. Features notes of fresh lemon, lime, and aromatic bitters with a crisp, bubbly mouthfeel. Light-bodied with bright carbonation and a smooth, refreshing finish. The finish is clean and slightly bitter, perfect for warm weather and casual drinking. One 330ml can contains 1.1 standard drinks.',
                nutrition: {
                    calories: 115,
                    carbs: 12.5,
                    protein: 0,
                    fat: 0,
                    sugar: 10.2,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['RTD', 'Lemon Lime & Bitters', 'Vodka', 'Refreshing', 'Classic']
            },

            // Wild Turkey (Campari Group)
            'wild_turkey': {
                name: 'Wild Turkey Bourbon (30ml)',
                type: 'Spirit',
                alcohol: 'Kentucky Bourbon',
                abv: '40.5%',
                standardDrinks: '1.0',
                ingredients: ['Corn', 'Rye', 'Malted barley', 'Aged in charred oak'],
                description: 'A bold, full-bodied Kentucky bourbon with a distinctive character. Features notes of vanilla, oak, caramel, and a touch of spice. Full-bodied with a smooth, warming mouthfeel. The finish is long and smooth, with lingering notes of vanilla and oak. One 30ml shot contains 1.0 standard drinks.',
                nutrition: {
                    calories: 70,
                    carbs: 0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '30ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Bourbon', 'Kentucky', 'Wild Turkey', 'Bold']
            },
            'wild_turkey_101': {
                name: 'Wild Turkey 101 (30ml)',
                type: 'Spirit',
                alcohol: 'Kentucky Bourbon',
                abv: '50.5%',
                standardDrinks: '1.3',
                ingredients: ['Corn', 'Rye', 'Malted barley', 'Aged in charred oak'],
                description: 'A high-proof Kentucky bourbon with intense flavor and character. Features bold notes of vanilla, oak, caramel, and spice. Full-bodied with a powerful, warming mouthfeel. The finish is long and intense, with lingering notes of vanilla and oak. One 30ml shot contains 1.3 standard drinks.',
                nutrition: {
                    calories: 90,
                    carbs: 0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '30ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Bourbon', 'Kentucky', 'Wild Turkey', 'High-Proof']
            },

            // Smirnoff (Diageo)
            'smirnoff_ice_doubles': {
                name: 'Smirnoff Ice Doubles (330ml)',
                type: 'RTD',
                alcohol: 'Flavored Vodka',
                abv: '7.0%',
                standardDrinks: '1.8',
                ingredients: ['Vodka', 'Fruit juice', 'Carbonated water', 'Natural flavors'],
                description: 'A higher alcohol version of Smirnoff Ice with enhanced flavor and strength. Features notes of fresh fruit with a sweet, easy-drinking character. Medium-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is sweet and smooth, perfect for those seeking a stronger option. One 330ml bottle contains 1.8 standard drinks.',
                nutrition: {
                    calories: 185,
                    carbs: 22.5,
                    protein: 0,
                    fat: 0,
                    sugar: 20.8,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['RTD', 'Flavored Vodka', 'Smirnoff', 'Strong', 'Sweet']
            },
            'smirnoff_ice': {
                name: 'Smirnoff Ice (330ml)',
                type: 'RTD',
                alcohol: 'Flavored Vodka',
                abv: '5.0%',
                standardDrinks: '1.3',
                ingredients: ['Vodka', 'Fruit juice', 'Carbonated water', 'Natural flavors'],
                description: 'A popular flavored vodka drink with various fruit flavors. Features notes of fresh fruit with a sweet, easy-drinking character. Medium-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is sweet and smooth, perfect for casual drinking and parties. One 330ml bottle contains 1.3 standard drinks.',
                nutrition: {
                    calories: 165,
                    carbs: 18.2,
                    protein: 0,
                    fat: 0,
                    sugar: 16.8,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['RTD', 'Flavored Vodka', 'Smirnoff', 'Sweet', 'Popular']
            },
            'smirnoff_seltzer': {
                name: 'Smirnoff Seltzer (330ml)',
                type: 'RTD',
                alcohol: 'Hard Seltzer',
                abv: '4.5%',
                standardDrinks: '1.2',
                ingredients: ['Vodka', 'Carbonated water', 'Natural flavors', 'Citric acid'],
                description: 'A hard seltzer with natural fruit flavors and a clean, refreshing taste. Features notes of fresh fruit with a crisp, bubbly mouthfeel. Light-bodied with bright carbonation and a smooth, refreshing finish. The finish is clean and slightly tart, perfect for warm weather and casual drinking. One 330ml can contains 1.2 standard drinks.',
                nutrition: {
                    calories: 95,
                    carbs: 2.1,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['RTD', 'Hard Seltzer', 'Smirnoff', 'Refreshing', 'Low-Calorie']
            },
            'smirnoff_vodka': {
                name: 'Smirnoff Vodka (30ml)',
                type: 'Spirit',
                alcohol: 'Vodka',
                abv: '40.0%',
                standardDrinks: '1.0',
                ingredients: ['Grain', 'Triple distilled', 'Charcoal filtered'],
                description: 'The world\'s number one selling vodka with a clean, smooth character. Features notes of grain with a crisp, clean finish. Light-bodied with a smooth, neutral mouthfeel. The finish is clean and slightly dry, perfect for mixing in cocktails. One 30ml shot contains 1.0 standard drinks.',
                nutrition: {
                    calories: 70,
                    carbs: 0,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '30ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['Spirit', 'Vodka', 'Smirnoff', 'Clean', 'Neutral']
            },

            // Good Tides (Independent)
            'good_tides': {
                name: 'Good Tides (330ml)',
                type: 'RTD',
                alcohol: 'Hard Seltzer',
                abv: '4.5%',
                standardDrinks: '1.2',
                ingredients: ['Vodka', 'Carbonated water', 'Natural flavors', 'Citric acid'],
                description: 'A hard seltzer with natural fruit flavors and a clean, refreshing taste. Features notes of fresh fruit with a crisp, bubbly mouthfeel. Light-bodied with bright carbonation and a smooth, refreshing finish. The finish is clean and slightly tart, perfect for warm weather and casual drinking. One 330ml can contains 1.2 standard drinks.',
                nutrition: {
                    calories: 95,
                    carbs: 2.1,
                    protein: 0,
                    fat: 0,
                    sugar: 0,
                    servingSize: '330ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['RTD', 'Hard Seltzer', 'Vodka', 'Refreshing', 'Low-Calorie']
            },

            // Hoyketsu Lemon (Japanese)
            'hoyketsu_lemon': {
                name: 'Hoyketsu Lemon Chuhai (350ml)',
                type: 'RTD',
                alcohol: 'Japanese Chuhai',
                abv: '7.0%',
                standardDrinks: '1.8',
                ingredients: ['Shochu', 'Lemon juice', 'Carbonated water', 'Natural flavors'],
                description: 'A Japanese chuhai (shochu highball) with lemon flavor. Features notes of fresh lemon, shochu, and a touch of sweetness. Medium-bodied with bright carbonation and a smooth, refreshing mouthfeel. The finish is clean and slightly tart, with lingering notes of lemon and shochu. One 350ml can contains 1.8 standard drinks.',
                nutrition: {
                    calories: 165,
                    carbs: 18.5,
                    protein: 0,
                    fat: 0,
                    sugar: 16.2,
                    servingSize: '350ml'
                },
                image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop',
                tags: ['RTD', 'Chuhai', 'Japanese', 'Lemon', 'Shochu']
            }
        };

        // Consent Modal Functions
        let consentAccepted = false;

        // Check if user has already accepted consent
        function checkConsent() {
            // If user is signed in, skip consent
            if (isLoggedIn()) {
                consentAccepted = true;
                hideConsentModal();
                return true;
            }
            
            const hasConsented = localStorage.getItem('bevyfinder_consent');
            if (hasConsented === 'true') {
                consentAccepted = true;
                hideConsentModal();
                return true;
            } else {
                showConsentModal();
                return false;
            }
        }

        // Show consent modal
        function showConsentModal() {
            const modal = document.getElementById('consent-modal');
            if (modal) {
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden'; // Prevent scrolling
                console.log('Consent modal shown');
            }
        }

        // Hide consent modal
        function hideConsentModal() {
            const modal = document.getElementById('consent-modal');
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto'; // Restore scrolling
                console.log('Consent modal hidden');
            }
        }

        // Handle consent checkbox change
        function handleConsentCheckbox() {
            const checkbox = document.getElementById('consent-checkbox');
            const acceptBtn = document.getElementById('accept-consent-btn');
            
            if (checkbox && acceptBtn) {
                acceptBtn.disabled = !checkbox.checked;
            }
        }

        // Accept consent
        function acceptConsent() {
            const checkbox = document.getElementById('consent-checkbox');
            if (checkbox && checkbox.checked) {
                consentAccepted = true;
                localStorage.setItem('bevyfinder_consent', 'true');
                hideConsentModal();
                showNotification('Thank you for accepting the terms. Welcome to BevyFinder!', 'success');
                console.log('Consent accepted');
            } else {
                showNotification('Please check the consent checkbox to continue.', 'error');
            }
        }

        // Decline consent
        function declineConsent() {
            showNotification('You must accept the terms to use BevyFinder.', 'error');
            // Optionally redirect to a different page or show a message
            console.log('Consent declined');
        }

        // Initialize consent check when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Add event listener to checkbox
            const checkbox = document.getElementById('consent-checkbox');
            if (checkbox) {
                checkbox.addEventListener('change', handleConsentCheckbox);
            }
            
            // Check for existing login
            checkExistingLogin();
            
            // Check consent status
            checkConsent();
        });

        // Check for existing login on page load
        function checkExistingLogin() {
            const rememberMe = localStorage.getItem('bevyfinder_remember_me');
            const token = localStorage.getItem('token') || sessionStorage.getItem('token');
            const userData = localStorage.getItem('currentUser') || sessionStorage.getItem('currentUser');
            
            if (rememberMe === 'true' && token && userData) {
                try {
                    currentUser = JSON.parse(userData);
                    updateProfileButton();
                    console.log('User auto-logged in:', currentUser.email);
                } catch (error) {
                    console.error('Error parsing user data:', error);
                    // Clear invalid data
                    logout();
                }
            }
        }

        async function startSession() {
            if (!consentAccepted) {
                showNotification('Please accept the terms and conditions first.', 'error');
                showConsentModal();
                return;
            }
            
            sessionActive = true;
            sessionStartTime = new Date();
            document.getElementById('session-status').textContent = 'Session active - Started at ' + sessionStartTime.toLocaleTimeString();
            document.getElementById('session-timer').style.display = 'block';
            document.getElementById('start-session-btn').style.display = 'none';
            document.getElementById('end-session-btn').style.display = 'inline-flex';
            
            // Start the timer
            startSessionTimer();
            
            console.log('Session started');
            
            // Track session start
            if (isLoggedIn()) {
                await trackSession('start');
            }
        }

        async function endSession() {
            sessionActive = false;
            const sessionDuration = sessionStartTime ? (Date.now() - sessionStartTime.getTime()) / 1000 / 60 : 0; // in minutes
            
            document.getElementById('session-status').textContent = 'Session ended';
            document.getElementById('session-timer').style.display = 'none';
            document.getElementById('start-session-btn').style.display = 'inline-flex';
            document.getElementById('end-session-btn').style.display = 'none';
            
            // Stop the timer
            stopSessionTimer();
            
            // Show session summary popup
            showSessionSummary();
            
            console.log('Session ended');
            
            // Track session end
            if (isLoggedIn()) {
                await trackSession('end', sessionDuration, drinks.map(drink => ({
                    beverageKey: drink.name,
                    quantity: 1,
                    timestamp: drink.time
                })));
            }
        }

        function resetSession() {
            sessionActive = false;
            sessionStartTime = null;
            drinks = [];
            totalAlcohol = 0;
            totalCalories = 0;
            totalStandards = 0;
            totalCarbs = 0;
            totalSugar = 0;
            totalProtein = 0;
            
            document.getElementById('session-status').textContent = 'No active session';
            document.getElementById('session-timer').style.display = 'none';
            document.getElementById('start-session-btn').style.display = 'inline-flex';
            document.getElementById('end-session-btn').style.display = 'none';
            document.getElementById('total-alcohol').textContent = '0';
            document.getElementById('total-calories').textContent = '0';
            document.getElementById('total-standards').textContent = '0';
            document.getElementById('total-carbs').textContent = '0g';
            document.getElementById('total-sugar').textContent = '0g';
            document.getElementById('total-protein').textContent = '0g';
            document.getElementById('estimated-bac').textContent = '0.000';
            
            // Reset driving status
            updateDrivingStatus(0);
            
            // Stop the timer
            stopSessionTimer();
            
            updateDrinkList();
            console.log('Session reset');
        }

        function addDrink(drinkType) {
            if (!consentAccepted) {
                showNotification('Please accept the terms and conditions first.', 'error');
                showConsentModal();
                return;
            }
            
            if (!sessionActive) {
                alert('Please start a session first!');
                return;
            }

            const drink = drinkDatabase[drinkType];
            if (drink) {
                const drinkEntry = {
                    ...drink,
                    time: new Date(),
                    id: Date.now()
                };
                
                drinks.push(drinkEntry);
                totalAlcohol += parseFloat(drink.standardDrinks) * 10; // Convert to grams of alcohol
                totalCalories += drink.nutrition.calories;
                totalStandards += parseFloat(drink.standardDrinks);
                totalCarbs += drink.nutrition.carbs;
                totalSugar += drink.nutrition.sugar;
                totalProtein += drink.nutrition.protein;
                
                updateDisplay();
                updateDrinkList();
                console.log('Drink added:', drink.name);
            }
        }

        function removeDrink(drinkId) {
            const drinkIndex = drinks.findIndex(d => d.id === drinkId);
            if (drinkIndex !== -1) {
                const drink = drinks[drinkIndex];
                totalAlcohol -= parseFloat(drink.standardDrinks) * 10; // Convert to grams of alcohol
                totalCalories -= drink.nutrition.calories;
                totalStandards -= parseFloat(drink.standardDrinks);
                totalCarbs -= drink.nutrition.carbs;
                totalSugar -= drink.nutrition.sugar;
                totalProtein -= drink.nutrition.protein;
                
                drinks.splice(drinkIndex, 1);
                updateDisplay();
                updateDrinkList();
                console.log('Drink removed');
            }
        }

        function updateDisplay() {
            document.getElementById('total-alcohol').textContent = totalAlcohol.toFixed(1);
            document.getElementById('total-calories').textContent = totalCalories.toFixed(0);
            document.getElementById('total-standards').textContent = totalStandards.toFixed(1);
            document.getElementById('total-carbs').textContent = totalCarbs.toFixed(1) + 'g';
            document.getElementById('total-sugar').textContent = totalSugar.toFixed(1) + 'g';
            document.getElementById('total-protein').textContent = totalProtein.toFixed(1) + 'g';
            
            // Calculate estimated BAC using the accurate calculator
            const estimatedBAC = calculateBAC();
            document.getElementById('estimated-bac').textContent = estimatedBAC.toFixed(3);
            
            // Update driving status
            updateDrivingStatus(estimatedBAC);
        }

        function calculateBAC() {
            if (!sessionActive || drinks.length === 0) return 0;
            
            // Get current user data
            const userData = getUserData();
            const timeElapsed = (new Date() - sessionStartTime) / (1000 * 60 * 60); // hours
            
            // Use the more accurate BAC calculator
            return parseFloat(estimateBAC(totalStandards, userData.weight, userData.gender, timeElapsed));
        }

        function estimateBAC(drinks, weightKg, sex, timeElapsed) {
            // Set alcohol distribution ratio based on biological sex
            let r = (sex.toLowerCase() === 'male') ? 0.68 : 0.55;

            // Convert weight to grams
            let bodyWeightGrams = weightKg * 1000;

            // Each Australian standard drink = 10g of alcohol
            let gramsAlcohol = drinks * 10;

            // Convert time to hours (handles minutes properly)
            let hours = timeElapsed;

            // Widmark formula
            let bac = ((gramsAlcohol * 100) / (bodyWeightGrams * r)) - (hours * 0.015);

            // BAC can't be negative
            return Math.max(bac, 0).toFixed(4);  // returns BAC as a string like "0.0412"
        }

        function updateDrinkList() {
            const drinkList = document.getElementById('drink-list');
            
            if (drinks.length === 0) {
                drinkList.innerHTML = `
                    <div class="empty-drinks">
                        <i class="fas fa-glass-whiskey"></i>
                        <h4>No drinks added yet</h4>
                        <p>Start your session and add your first drink!</p>
                    </div>
                `;
            } else {
                drinkList.innerHTML = drinks.map(drink => `
                    <div class="drink-item">
                        <div class="drink-info">
                            <div class="drink-name">${drink.name}</div>
                            <div class="drink-details">
                                ${drink.abv} ABV • ${drink.nutrition.calories} kcal • ${drink.standardDrinks} standards
                            </div>
                            <div class="drink-time">${drink.time.toLocaleTimeString()}</div>
                        </div>
                        <button class="drink-remove" onclick="removeDrink(${drink.id})">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                `).join('');
            }
        }

        function showDrinkSuggestions(query) {
            const suggestions = document.getElementById('drink-suggestions');
            const addDrinkBtn = document.getElementById('add-drink-btn');
            
            if (query.length < 2) {
                suggestions.innerHTML = '';
                addDrinkBtn.disabled = true;
                return;
            }
            
            const matchingDrinks = Object.keys(drinkDatabase).filter(key => 
                drinkDatabase[key].name.toLowerCase().includes(query.toLowerCase())
            );
            
            if (matchingDrinks.length > 0) {
                suggestions.innerHTML = matchingDrinks.slice(0, 8).map(key => `
                    <div class="drink-suggestion" onclick="selectDrink('${key}')">
                        <div class="drink-suggestion-icon">
                            <i class="fas fa-glass-whiskey"></i>
                        </div>
                        <div class="drink-suggestion-content">
                            <div class="drink-suggestion-name">${drinkDatabase[key].name}</div>
                            <div class="drink-suggestion-details">${drinkDatabase[key].abv} • ${drinkDatabase[key].standardDrinks} standards</div>
                        </div>
                    </div>
                `).join('');
                addDrinkBtn.disabled = false;
            } else {
                suggestions.innerHTML = '<div class="no-suggestions">No drinks found. Try a different search term.</div>';
                addDrinkBtn.disabled = true;
            }
        }

        function selectDrink(drinkKey) {
            const drinkSearch = document.getElementById('drink-search');
            const suggestions = document.getElementById('drink-suggestions');
            const addDrinkBtn = document.getElementById('add-drink-btn');
            
            drinkSearch.value = drinkDatabase[drinkKey].name;
            suggestions.innerHTML = '';
            addDrinkBtn.disabled = false;
            
            // Store the selected drink key for the add button
            addDrinkBtn.dataset.selectedDrink = drinkKey;
        }

        // Session Timer Functions
        let sessionTimerInterval = null;

        function startSessionTimer() {
            if (sessionTimerInterval) {
                clearInterval(sessionTimerInterval);
            }
            
            sessionTimerInterval = setInterval(() => {
                if (sessionStartTime) {
                    const elapsed = Date.now() - sessionStartTime.getTime();
                    const hours = Math.floor(elapsed / (1000 * 60 * 60));
                    const minutes = Math.floor((elapsed % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((elapsed % (1000 * 60)) / 1000);
                    
                    const timerDisplay = document.getElementById('timer-display');
                    if (timerDisplay) {
                        timerDisplay.textContent = 
                            `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    }
                }
            }, 1000);
        }

        function stopSessionTimer() {
            if (sessionTimerInterval) {
                clearInterval(sessionTimerInterval);
                sessionTimerInterval = null;
            }
            
            const timerDisplay = document.getElementById('timer-display');
            if (timerDisplay) {
                timerDisplay.textContent = '00:00:00';
            }
        }

        function showSessionSummary() {
            const sessionDuration = sessionStartTime ? Math.round((new Date() - sessionStartTime) / (1000 * 60)) : 0; // minutes
            const finalBAC = calculateBAC();
            const drinkCount = drinks.length;
            
            // Ensure BAC is calculated correctly for the summary
            const userWeight = 70; // kg (from TEMP_USER)
            const userGender = 'male'; // from TEMP_USER
            const timeElapsed = sessionStartTime ? (new Date() - sessionStartTime) / (1000 * 60 * 60) : 0; // hours
            const summaryBAC = parseFloat(estimateBAC(totalStandards, userWeight, userGender, timeElapsed));
            
            // Calculate total liquid consumed
            const totalLiquid = drinks.reduce((total, drink) => {
                const volume = drink.name.match(/(\d+)ml/);
                return total + (volume ? parseInt(volume[1]) : 0);
            }, 0);
            
            // Create summary HTML
            const summaryHTML = `
                <div class="session-summary-overlay" id="session-summary-overlay">
                    <div class="session-summary-popup">
                        <div class="summary-header">
                            <h2><i class="fas fa-chart-line"></i> Session Summary</h2>
                            <button class="close-summary-btn" onclick="closeSessionSummary()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        
                        <div class="summary-stats">
                            <div class="summary-stat">
                                <div class="stat-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div class="stat-content">
                                    <h3>Session Duration</h3>
                                    <p>${formatSessionDuration(sessionDuration)}</p>
                                </div>
                            </div>
                            
                            <div class="summary-stat">
                                <div class="stat-icon">
                                    <i class="fas fa-glass-whiskey"></i>
                                </div>
                                <div class="stat-content">
                                    <h3>Total Drinks</h3>
                                    <p>${drinkCount} drinks</p>
                                </div>
                            </div>
                            
                            <div class="summary-stat">
                                <div class="stat-icon">
                                    <i class="fas fa-tint"></i>
                                </div>
                                <div class="stat-content">
                                    <h3>Total Liquid</h3>
                                    <p>${totalLiquid}ml</p>
                                </div>
                            </div>
                            
                            <div class="summary-stat">
                                <div class="stat-icon">
                                    <i class="fas fa-chart-bar"></i>
                                </div>
                                <div class="stat-content">
                                    <h3>Standard Drinks</h3>
                                    <p>${totalStandards.toFixed(1)} standards</p>
                                </div>
                            </div>
                            
                            <div class="summary-stat">
                                <div class="stat-icon">
                                    <i class="fas fa-fire"></i>
                                </div>
                                <div class="stat-content">
                                    <h3>Total Calories</h3>
                                    <p>${totalCalories.toFixed(0)} kcal</p>
                                </div>
                            </div>
                            
                            <div class="summary-stat">
                                <div class="stat-icon">
                                    <i class="fas fa-bread-slice"></i>
                                </div>
                                <div class="stat-content">
                                    <h3>Total Carbs</h3>
                                    <p>${totalCarbs.toFixed(1)}g</p>
                                </div>
                            </div>
                            
                            <div class="summary-stat">
                                <div class="stat-icon">
                                    <i class="fas fa-brain"></i>
                                </div>
                                <div class="stat-content">
                                    <h3>Final BAC</h3>
                                    <p>${summaryBAC.toFixed(3)}%</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="summary-drinks">
                            <h3><i class="fas fa-list"></i> Drinks Consumed</h3>
                            <div class="drinks-list">
                                ${drinks.map(drink => `
                                    <div class="summary-drink-item">
                                        <div class="drink-info">
                                            <span class="drink-name">${drink.name}</span>
                                            <span class="drink-time">${drink.time.toLocaleTimeString()}</span>
                                        </div>
                                        <div class="drink-stats">
                                            <span class="drink-alcohol">${drink.alcohol}g</span>
                                            <span class="drink-calories">${drink.calories} kcal</span>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        
                        <div class="summary-safety">
                            <h3><i class="fas fa-shield-alt"></i> Safety Assessment</h3>
                            ${summaryBAC > 0.05 ? 
                                '<p class="safety-warning">⚠️ Your BAC is above the legal driving limit (0.05%). Please do not drive.</p>' :
                                summaryBAC > 0.03 ? 
                                '<p class="safety-caution">⚠️ Your BAC is approaching the legal limit. Consider waiting before driving.</p>' :
                                '<p class="safety-ok">✅ Your BAC is within safe limits for driving.</p>'
                            }
                            <p class="safety-tip">Australian legal driving limit: 0.05% BAC. It takes approximately 1 hour to metabolize 1 standard drink.</p>
                        </div>
                        
                        <div class="summary-actions">
                            <button class="btn secondary-btn" onclick="closeSessionSummary()">
                                <i class="fas fa-check"></i> Got it
                            </button>
                            <button class="btn save-btn" onclick="saveNightSession()">
                                <i class="fas fa-save"></i> Save Night
                            </button>
                            <button class="btn primary-btn" onclick="resetSession(); closeSessionSummary()">
                                <i class="fas fa-redo"></i> Start New Session
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            // Add to page and show
            document.body.insertAdjacentHTML('beforeend', summaryHTML);
            
            // Add fade-in animation
            setTimeout(() => {
                document.getElementById('session-summary-overlay').classList.add('show');
            }, 10);
        }

        function closeSessionSummary() {
            const overlay = document.getElementById('session-summary-overlay');
            if (overlay) {
                overlay.classList.remove('show');
                setTimeout(() => {
                    overlay.remove();
                }, 300);
            }
        }

        function updateDrivingStatus(bac) {
            const drivingStatus = document.getElementById('driving-status');
            const statusText = drivingStatus.querySelector('.status-text');
            
            if (bac > 0.05) {
                drivingStatus.className = 'driving-status unsafe';
                statusText.textContent = 'Do not drive';
            } else if (bac > 0.03) {
                drivingStatus.className = 'driving-status caution';
                statusText.textContent = 'Approaching limit';
            } else {
                drivingStatus.className = 'driving-status safe';
                statusText.textContent = 'Safe to drive';
            }
        }

        function formatSessionDuration(minutes) {
            if (minutes < 60) {
                return `${minutes} minute${minutes !== 1 ? 's' : ''}`;
            } else {
                const hours = Math.floor(minutes / 60);
                const remainingMinutes = minutes % 60;
                if (remainingMinutes === 0) {
                    return `${hours} hour${hours !== 1 ? 's' : ''}`;
                } else {
                    return `${hours} hour${hours !== 1 ? 's' : ''} ${remainingMinutes} minute${remainingMinutes !== 1 ? 's' : ''}`;
                }
            }
        }

        // Saved Nights Functions
        function saveNightSession() {
            // Get current session data
            const sessionDuration = sessionStartTime ? Math.round((new Date() - sessionStartTime) / (1000 * 60)) : 0;
            
            // Get current user data
            const userData = getUserData();
            const timeElapsed = sessionStartTime ? (new Date() - sessionStartTime) / (1000 * 60 * 60) : 0; // hours
            const finalBAC = parseFloat(estimateBAC(totalStandards, userData.weight, userData.gender, timeElapsed));
            
            // Calculate total liquid consumed
            const totalLiquid = drinks.reduce((total, drink) => {
                const volume = drink.name.match(/(\d+)ml/);
                return total + (volume ? parseInt(volume[1]) : 0);
            }, 0);
            
            // Calculate total calories and carbs
            const totalCalories = drinks.reduce((total, drink) => total + drink.nutrition.calories, 0);
            const totalCarbs = drinks.reduce((total, drink) => total + drink.nutrition.carbs, 0);
            
            const savedNight = {
                id: Date.now().toString(),
                date: new Date().toISOString(),
                sessionData: {
                    sessionStart: sessionStartTime,
                    sessionEnd: new Date(),
                    sessionDuration: sessionDuration,
                    drinks: [...drinks],
                    totalStandards: totalStandards,
                    totalCalories: totalCalories,
                    totalCarbs: totalCarbs,
                    totalLiquid: totalLiquid,
                    finalBAC: finalBAC
                }
            };

            // Get existing saved nights
            let savedNights = JSON.parse(localStorage.getItem('savedNights') || '[]');
            
            // Add new saved night
            savedNights.unshift(savedNight);
            
            // Keep only last 50 saved nights
            if (savedNights.length > 50) {
                savedNights = savedNights.slice(0, 50);
            }
            
            // Save to localStorage
            localStorage.setItem('savedNights', JSON.stringify(savedNights));
            
            // Show success message
            showSaveSuccess();
            
            // Close summary
            closeSessionSummary();
        }

        function showSaveSuccess() {
            const successMessage = document.createElement('div');
            successMessage.className = 'save-success-message';
            successMessage.innerHTML = `
                <div class="save-success-content">
                    <i class="fas fa-check-circle"></i>
                    <p>Night session saved successfully!</p>
                </div>
            `;
            
            document.body.appendChild(successMessage);
            
            // Remove after 3 seconds
            setTimeout(() => {
                successMessage.remove();
            }, 3000);
        }

        function loadSavedNights() {
            const savedNights = JSON.parse(localStorage.getItem('savedNights') || '[]');
            const savedNightsList = document.getElementById('saved-nights-list');
            const noSavedNights = document.getElementById('no-saved-nights');
            
            if (savedNights.length === 0) {
                savedNightsList.style.display = 'none';
                noSavedNights.style.display = 'block';
                return;
            }
            
            savedNightsList.style.display = 'grid';
            noSavedNights.style.display = 'none';
            
            savedNightsList.innerHTML = savedNights.map(night => {
                const date = new Date(night.date);
                const formattedDate = date.toLocaleDateString('en-AU', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                const sessionData = night.sessionData;
                const duration = formatSessionDuration(sessionData.sessionDuration);
                
                return `
                    <div class="saved-night-card">
                        <div class="saved-night-header">
                            <h3 class="saved-night-title">Night Session</h3>
                            <span class="saved-night-date">${formattedDate}</span>
                        </div>
                        
                        <div class="saved-night-stats">
                            <div class="saved-night-stat">
                                <h4>Duration</h4>
                                <p>${duration}</p>
                            </div>
                            <div class="saved-night-stat">
                                <h4>Drinks</h4>
                                <p>${sessionData.drinks.length}</p>
                            </div>
                            <div class="saved-night-stat">
                                <h4>Standards</h4>
                                <p>${sessionData.totalStandards.toFixed(1)}</p>
                            </div>
                            <div class="saved-night-stat">
                                <h4>Final BAC</h4>
                                <p>${sessionData.finalBAC.toFixed(3)}%</p>
                            </div>
                        </div>
                        
                        <div class="saved-night-drinks">
                            <h4>Drinks Consumed</h4>
                            <div class="saved-drinks-list">
                                ${sessionData.drinks.map(drink => `
                                    <div class="saved-drink-item">
                                        <span class="saved-drink-name">${drink.name}</span>
                                        <span class="saved-drink-time">${new Date(drink.time).toLocaleTimeString()}</span>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        
                        <div class="saved-night-actions">
                            <button class="share-night-btn" onclick="showShareNightModal('${night.id}')">
                                <i class="fas fa-share"></i> Share
                            </button>
                            <button class="delete-night-btn" onclick="deleteSavedNight('${night.id}')">
                                <i class="fas fa-trash"></i> Delete
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function deleteSavedNight(nightId) {
            if (confirm('Are you sure you want to delete this saved night?')) {
                let savedNights = JSON.parse(localStorage.getItem('savedNights') || '[]');
                savedNights = savedNights.filter(night => night.id !== nightId);
                localStorage.setItem('savedNights', JSON.stringify(savedNights));
                loadSavedNights();
            }
        }

        // Share Night Functions
        let currentSharingNight = null;

        function showShareNightModal(nightId) {
            // Check if user is logged in
            if (!isLoggedIn()) {
                showNotification('Please log in to share your nights', 'error');
                return;
            }

            // Find the night data
            const savedNights = JSON.parse(localStorage.getItem('savedNights') || '[]');
            const night = savedNights.find(n => n.id === nightId);
            
            if (!night) {
                showNotification('Night session not found', 'error');
                return;
            }

            currentSharingNight = night;
            
            // Load night preview
            loadNightPreview(night);
            
            // Show modal
            const modal = document.getElementById('share-night-modal');
            modal.classList.add('show');
            
            // Reset form
            document.getElementById('share-message').value = '';
            document.getElementById('share-message-count').textContent = '0';
            document.querySelector('input[name="share-privacy"][value="friends"]').checked = true;
            
            // Add event listeners
            document.getElementById('share-message').addEventListener('input', updateCharCount);
            document.getElementById('share-night-form').addEventListener('submit', handleShareNightSubmit);
        }

        function closeShareNightModal() {
            const modal = document.getElementById('share-night-modal');
            modal.classList.remove('show');
            currentSharingNight = null;
            
            // Remove event listeners
            const messageInput = document.getElementById('share-message');
            const form = document.getElementById('share-night-form');
            if (messageInput) {
                messageInput.removeEventListener('input', updateCharCount);
            }
            if (form) {
                form.removeEventListener('submit', handleShareNightSubmit);
            }
        }

        function loadNightPreview(night) {
            const preview = document.getElementById('share-night-preview');
            const sessionData = night.sessionData;
            const date = new Date(night.date);
            const formattedDate = date.toLocaleDateString('en-AU', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            const duration = formatSessionDuration(sessionData.sessionDuration);
            
            preview.innerHTML = `
                <h3>Night Session Preview</h3>
                <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: 15px;">${formattedDate}</p>
                
                <div class="share-night-preview-stats">
                    <div class="share-night-preview-stat">
                        <h4>Duration</h4>
                        <p>${duration}</p>
                    </div>
                    <div class="share-night-preview-stat">
                        <h4>Drinks</h4>
                        <p>${sessionData.drinks.length}</p>
                    </div>
                    <div class="share-night-preview-stat">
                        <h4>Standards</h4>
                        <p>${sessionData.totalStandards.toFixed(1)}</p>
                    </div>
                    <div class="share-night-preview-stat">
                        <h4>Final BAC</h4>
                        <p>${sessionData.finalBAC.toFixed(3)}%</p>
                    </div>
                </div>
                
                <div class="share-night-preview-drinks">
                    <h4>Drinks Consumed</h4>
                    <div class="share-night-preview-drinks-list">
                        ${sessionData.drinks.map(drink => `
                            <span class="share-night-preview-drink">${drink.name}</span>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function updateCharCount() {
            const textarea = document.getElementById('share-message');
            const count = document.getElementById('share-message-count');
            const currentLength = textarea.value.length;
            count.textContent = currentLength;
            
            if (currentLength > 450) {
                count.style.color = '#ff6b6b';
            } else if (currentLength > 400) {
                count.style.color = '#ffd700';
            } else {
                count.style.color = 'rgba(255, 255, 255, 0.6)';
            }
        }

        async function handleShareNightSubmit(event) {
            event.preventDefault();
            
            console.log('🔄 === SHARING NIGHT SESSION ===');
            console.log('📊 Current sharing night:', currentSharingNight);
            
            if (!currentSharingNight) {
                showNotification('No night session to share', 'error');
                return;
            }

            const message = document.getElementById('share-message').value.trim();
            const privacy = document.querySelector('input[name="share-privacy"]:checked').value;
            
            // Get button and original text before try block
            const submitBtn = event.target.querySelector('.share-night-btn-primary');
            const originalText = submitBtn.innerHTML;
            
            try {
                // Show loading state
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sharing...';
                submitBtn.disabled = true;

                // Create the post data
                const postData = {
                    type: 'night_share',
                    content: message,
                    privacy: privacy,
                    nightData: {
                        sessionDuration: currentSharingNight.sessionData.sessionDuration,
                        totalDrinks: currentSharingNight.sessionData.drinks.length,
                        totalStandards: currentSharingNight.sessionData.totalStandards,
                        finalBAC: currentSharingNight.sessionData.finalBAC,
                        totalCalories: currentSharingNight.sessionData.totalCalories,
                        totalCarbs: currentSharingNight.sessionData.totalCarbs,
                        totalLiquid: currentSharingNight.sessionData.totalLiquid,
                        drinks: currentSharingNight.sessionData.drinks.map(drink => ({
                            name: drink.name,
                            time: drink.time,
                            standardDrinks: drink.standardDrinks
                        })),
                        sessionStart: currentSharingNight.sessionData.sessionStart,
                        sessionEnd: currentSharingNight.sessionData.sessionEnd
                    }
                };

                // Send to backend
                const token = localStorage.getItem('token');
                console.log('📤 Sending post data to backend:', postData);
                console.log('🌐 API URL:', `${API_BASE_URL}/social/posts`);
                
                const response = await fetch(`${API_BASE_URL}/social/posts`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(postData)
                });

                console.log('📡 Response status:', response.status);
                
                if (response.ok) {
                    const result = await response.json();
                    console.log('✅ Night shared successfully!', result);
                    showNotification('Night shared successfully!', 'success');
                    closeShareNightModal();
                    
                    // Refresh social feed if it's currently open
                    if (document.getElementById('social-feed-page').classList.contains('active')) {
                        console.log('🔄 Refreshing social feed...');
                        loadSocialFeed();
                    }
                } else {
                    const error = await response.json();
                    console.error('❌ Error sharing night:', error);
                    showNotification(error.message || 'Error sharing night', 'error');
                }
            } catch (error) {
                console.error('Error sharing night:', error);
                showNotification('Error sharing night', 'error');
            } finally {
                // Reset button state
                if (submitBtn && originalText) {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                }
            }
        }

        // Profile Functions
        let isSignUpMode = true;
        let currentUser = null;
        // Dynamic API URL detection
        let API_BASE_URL;
        if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
            API_BASE_URL = 'http://localhost:3000/api'; // Local development
        } else {
            API_BASE_URL = 'https://bevyfinder.up.railway.app/api'; // Production
        }
        console.log('🌐 Using API URL:', API_BASE_URL);
        
        // Initialize currentUser with TEMP_USER if bypass is enabled
        if (TEMP_AUTH_BYPASS) {
            currentUser = TEMP_USER;
            console.log('🚀 TEMP_AUTH_BYPASS enabled, setting currentUser to:', currentUser);
            // Also store in localStorage to ensure consistency
            localStorage.setItem('currentUser', JSON.stringify(TEMP_USER));
            console.log('💾 Stored TEMP_USER in localStorage');
        }

        function toggleProfileDropdown() {
            console.log('🔍 toggleProfileDropdown called');
            console.log('🔍 currentUser variable:', currentUser);
            console.log('🔍 TEMP_AUTH_BYPASS:', TEMP_AUTH_BYPASS);
            
            // Debug: Check if user is authenticated
            const token = localStorage.getItem('token');
            const savedUser = localStorage.getItem('currentUser');
            console.log('🔍 Token in localStorage:', token ? 'Present' : 'Missing');
            console.log('🔍 Saved user in localStorage:', savedUser ? 'Present' : 'Missing');
            
            // Test if dropdown element exists
            const dropdown = document.getElementById('profile-dropdown');
            console.log('🔍 Dropdown element found:', dropdown);
            if (dropdown) {
                console.log('🔍 Dropdown HTML:', dropdown.outerHTML);
                console.log('🔍 Dropdown position:', dropdown.getBoundingClientRect());
            } else {
                console.error('❌ Dropdown element not found!');
                // Create a test element to see if positioning works
                const testDiv = document.createElement('div');
                testDiv.style.cssText = 'position: fixed; top: 100px; right: 100px; width: 200px; height: 200px; background: lime; border: 5px solid blue; z-index: 10000;';
                testDiv.textContent = 'TEST DROPDOWN';
                document.body.appendChild(testDiv);
                console.log('🔧 Created test element for debugging');
            }
            
            const user = getCurrentUser();
            console.log('👤 getCurrentUser() returned:', user);
            console.log('👤 User properties:', user ? Object.keys(user) : 'null');
            
            // Check if user is logged in (has any form of ID and name/email)
            if (user && (user._id || user.id) && user.name && user.email) {
                console.log('✅ User is logged in, toggling dropdown');
                // User is logged in - toggle dropdown
                const btn = document.getElementById('profile-btn');
                const chevron = document.getElementById('profile-chevron');
                
                console.log('🔍 Found elements:', { dropdown, btn, chevron });
                
                if (dropdown && dropdown.classList.contains('show')) {
                    console.log('📥 Hiding dropdown');
                    hideProfileDropdown();
                } else {
                    console.log('📤 Showing dropdown');
                    showProfileDropdown(user);
                }
            } else {
                console.log('❌ User not logged in, opening modal');
                console.log('❌ User check failed:', {
                    hasUser: !!user,
                    hasId: !!(user && (user._id || user.id)),
                    hasName: !!(user && user.name),
                    hasEmail: !!(user && user.email)
                });
                
                // User is not logged in - open modal
                openProfileModal();
            }
        }

        function showProfileDropdown(user) {
            console.log('🎯 showProfileDropdown called with user:', user);
            const dropdown = document.getElementById('profile-dropdown');
            const btn = document.getElementById('profile-btn');
            const chevron = document.getElementById('profile-chevron');
            
            console.log('🔍 Found elements:', { dropdown, btn, chevron });
            
            // Check if all required elements exist
            if (!dropdown || !btn || !chevron) {
                console.error('❌ Missing required elements for dropdown');
                return;
            }
            
            // Update dropdown content
            const avatar = document.getElementById('dropdown-avatar');
            const username = document.getElementById('dropdown-username');
            const email = document.getElementById('dropdown-email');
            
            if (avatar) avatar.textContent = user.name.charAt(0).toUpperCase();
            if (username) username.textContent = user.name;
            if (email) email.textContent = user.email;
            
            console.log('📝 Updated dropdown content');
            console.log('📝 Avatar text:', avatar ? avatar.textContent : 'not found');
            console.log('📝 Username text:', username ? username.textContent : 'not found');
            console.log('📝 Email text:', email ? email.textContent : 'not found');
            
            // Show dropdown
            dropdown.classList.add('show');
            btn.classList.add('active');
            
            // Position dropdown relative to the profile button
            const btnRect = btn.getBoundingClientRect();
            dropdown.style.position = 'fixed';
            dropdown.style.top = (btnRect.bottom + 10) + 'px';
            dropdown.style.right = (window.innerWidth - btnRect.right) + 'px';
            dropdown.style.width = '300px';
            dropdown.style.background = 'linear-gradient(135deg, #1a1a2e, #16213e)';
            dropdown.style.backdropFilter = 'blur(20px)';
            dropdown.style.border = '1px solid rgba(255, 255, 255, 0.1)';
            dropdown.style.borderRadius = '15px';
            dropdown.style.boxShadow = '0 20px 40px rgba(0, 0, 0, 0.3)';
            dropdown.style.zIndex = '9999';
            dropdown.style.opacity = '1';
            dropdown.style.visibility = 'visible';
            dropdown.style.display = 'block';
            dropdown.style.transform = 'translateY(0)';
            console.log('🔧 POSITIONED DROPDOWN RELATIVE TO BUTTON');
            
            console.log('✨ Added show and active classes');
            console.log('🔍 Dropdown classes after show:', dropdown.className);
            console.log('🔍 Dropdown computed styles:', window.getComputedStyle(dropdown));
            
            // Debug: Check if dropdown is actually visible
            const rect = dropdown.getBoundingClientRect();
            console.log('🔍 Dropdown position:', {
                top: rect.top,
                left: rect.left,
                width: rect.width,
                height: rect.height,
                visible: rect.width > 0 && rect.height > 0
            });
            
            // Debug: Check computed styles
            const computed = window.getComputedStyle(dropdown);
            console.log('🔍 Key computed styles:', {
                opacity: computed.opacity,
                visibility: computed.visibility,
                display: computed.display,
                zIndex: computed.zIndex,
                position: computed.position
            });
            
            // Force a repaint to ensure visibility
            dropdown.offsetHeight;
            
            // Add click outside listener
            setTimeout(() => {
                document.addEventListener('click', handleClickOutside);
                console.log('👆 Added click outside listener');
            }, 100);
        }

        function hideProfileDropdown() {
            const dropdown = document.getElementById('profile-dropdown');
            const btn = document.getElementById('profile-btn');
            
            // Remove CSS classes
            dropdown.classList.remove('show');
            btn.classList.remove('active');
            
            // Clear inline styles that were added to make dropdown visible
            dropdown.style.position = '';
            dropdown.style.top = '';
            dropdown.style.right = '';
            dropdown.style.width = '';
            dropdown.style.background = '';
            dropdown.style.backdropFilter = '';
            dropdown.style.border = '';
            dropdown.style.borderRadius = '';
            dropdown.style.boxShadow = '';
            dropdown.style.zIndex = '';
            dropdown.style.opacity = '';
            dropdown.style.visibility = '';
            dropdown.style.display = '';
            dropdown.style.transform = '';
            
            // Remove click outside listener
            document.removeEventListener('click', handleClickOutside);
            
            console.log('📥 Dropdown hidden and styles cleared');
        }

        function handleClickOutside(event) {
            const container = document.getElementById('profile-container');
            if (!container.contains(event.target)) {
                hideProfileDropdown();
            }
        }

        function openProfileModal() {
            console.log('🔍 openProfileModal called');
            const modal = document.getElementById('profile-modal');
            console.log('🔍 Modal element found:', modal);
            
            if (modal) {
            modal.classList.add('show');
                console.log('🔍 Added show class to modal');
                
                // Force modal to be visible
                modal.style.display = 'flex';
                modal.style.opacity = '1';
                modal.style.visibility = 'visible';
                modal.style.zIndex = '9999';
                console.log('🔧 FORCED MODAL TO BE VISIBLE');
            
            // Check if user is logged in
            const user = getCurrentUser();
            if (user && (user._id || user.id) && user.name && user.email) {
                showUserInfo(user);
            } else {
                // Show sign-in form by default for better UX
                showSignInForm();
                }
            } else {
                console.error('❌ Modal element not found!');
            }
        }

        function closeProfileModal() {
            const modal = document.getElementById('profile-modal');
            if (modal) {
            modal.classList.remove('show');
                modal.style.display = 'none';
            resetProfileForm();
                console.log('Modal closed successfully');
            } else {
                console.error('Modal element not found');
            }
        }

        function toggleProfileMode() {
            isSignUpMode = !isSignUpMode;
            if (isSignUpMode) {
                showSignUpForm();
            } else {
                showSignInForm();
            }
        }

        function showSignUpForm() {
            isSignUpMode = true;
            document.getElementById('profile-modal-title').textContent = 'Sign Up';
            document.getElementById('profile-modal-subtitle').textContent = 'Create your account to save your data';
            document.getElementById('profile-submit-btn').innerHTML = '<i class="fas fa-user-plus"></i> Sign Up';
            document.getElementById('profile-toggle-btn').textContent = 'Already have an account? Sign In';
            
            // Update tab button states
            document.getElementById('signup-tab-btn').classList.add('active');
            document.getElementById('signin-tab-btn').classList.remove('active');
            
            // Show signup fields and make them required
            document.getElementById('signup-fields').style.display = 'block';
            document.getElementById('username').required = true;
            document.getElementById('age').required = true;
            document.getElementById('weight').required = true;
            document.getElementById('gender').required = true;
            
            document.getElementById('user-info').classList.remove('show');
            document.getElementById('profile-form').style.display = 'flex';
        }

        function showSignInForm() {
            isSignUpMode = false;
            document.getElementById('profile-modal-title').textContent = 'Sign In';
            document.getElementById('profile-modal-subtitle').textContent = 'Welcome back! Sign in to your account';
            document.getElementById('profile-submit-btn').innerHTML = '<i class="fas fa-sign-in-alt"></i> Sign In';
            document.getElementById('profile-toggle-btn').textContent = 'Don\'t have an account? Sign Up';
            
            // Update tab button states
            document.getElementById('signin-tab-btn').classList.add('active');
            document.getElementById('signup-tab-btn').classList.remove('active');
            
            // Hide signup fields and remove required attribute
            document.getElementById('signup-fields').style.display = 'none';
            document.getElementById('username').required = false;
            document.getElementById('age').required = false;
            document.getElementById('weight').required = false;
            document.getElementById('gender').required = false;
            
            document.getElementById('user-info').classList.remove('show');
            document.getElementById('profile-form').style.display = 'flex';
        }

        function showUserInfo(user) {
            document.getElementById('profile-modal-title').textContent = 'Profile';
            document.getElementById('profile-modal-subtitle').textContent = 'Your account information';
            document.getElementById('user-info').classList.add('show');
            document.getElementById('profile-form').style.display = 'none';
            
            // Update user info
            document.getElementById('user-avatar').textContent = user.name.charAt(0).toUpperCase();
            document.getElementById('user-name').textContent = user.name;
            document.getElementById('user-email').textContent = user.email;
        }

        function resetProfileForm() {
            document.getElementById('profile-form').reset();
            document.getElementById('profile-form').style.display = 'flex';
            document.getElementById('user-info').classList.remove('show');
            
            // Reset required attributes based on current mode
            if (isSignUpMode) {
                document.getElementById('username').required = true;
                document.getElementById('age').required = true;
                document.getElementById('weight').required = true;
                document.getElementById('gender').required = true;
            } else {
                document.getElementById('username').required = false;
                document.getElementById('age').required = false;
                document.getElementById('weight').required = false;
                document.getElementById('gender').required = false;
            }
        }

        async function signUp(userData) {
            try {
                const response = await fetch(`${API_BASE_URL}/auth/register`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        name: userData.username,
                        email: userData.email,
                        password: userData.password,
                        personalDetails: {
                            age: userData.age,
                            weight: userData.weight,
                            gender: userData.gender
                        }
                    })
                });

                const result = await response.json();

                if (result.success) {
                    // Store token and user data
                    localStorage.setItem('token', result.data.token);
                    currentUser = result.data.user;
                    localStorage.setItem('currentUser', JSON.stringify(result.data.user));
                    
                    // Update UI
                    updateProfileButton();
                    showUserInfo(result.data.user);
                    
                    alert('Account created successfully!');
                    return true;
                } else {
                    alert(result.message || 'Registration failed');
                    return false;
                }
            } catch (error) {
                console.error('Registration error:', error);
                alert('Network error. Please try again.');
                return false;
            }
        }

        async function signIn(email, password, rememberMe = true) {
            try {
                console.log('Attempting to sign in with:', { email, password: '***', rememberMe });
                
                const response = await fetch(`${API_BASE_URL}/auth/login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        email: email,
                        password: password
                    })
                });

                const result = await response.json();
                console.log('Sign-in response:', result);

                if (result.success) {
                    // Store token and user data
                    localStorage.setItem('token', result.data.token);
                    currentUser = result.data.user;
                    localStorage.setItem('currentUser', JSON.stringify(result.data.user));
                    
                    // Handle "Remember Me"
                    if (rememberMe) {
                        localStorage.setItem('bevyfinder_remember_me', 'true');
                        localStorage.setItem('bevyfinder_user_email', email);
                    } else {
                        // For session storage (clears when browser closes)
                        sessionStorage.setItem('token', result.data.token);
                        sessionStorage.setItem('currentUser', JSON.stringify(result.data.user));
                        localStorage.removeItem('bevyfinder_remember_me');
                        localStorage.removeItem('bevyfinder_user_email');
                    }
                    
                    // Update UI
                    updateProfileButton();
                    showUserInfo(result.data.user);
                    
                    alert('Signed in successfully!');
                    return true;
                } else {
                    console.error('Sign-in failed:', result.message);
                    alert(result.message || 'Invalid credentials');
                    return false;
                }
            } catch (error) {
                console.error('Login error:', error);
                alert('Network error. Please try again.');
                return false;
            }
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            localStorage.removeItem('token');
            localStorage.removeItem('bevyfinder_remember_me');
            localStorage.removeItem('bevyfinder_user_email');
            sessionStorage.removeItem('token');
            sessionStorage.removeItem('currentUser');
            hideProfileDropdown();
            updateProfileButton();
            closeProfileModal();
            alert('Logged out successfully!');
        }

        function updateProfileButton() {
            console.log('🔄 updateProfileButton called');
            console.log('👤 currentUser:', currentUser);
            console.log('🔍 currentUser type:', typeof currentUser);
            console.log('🔍 currentUser keys:', currentUser ? Object.keys(currentUser) : 'null');
            
            const btnText = document.getElementById('profile-btn-text');
            const profileBtn = document.getElementById('profile-btn');
            
            if (currentUser && currentUser.name && currentUser.email) {
                console.log('✅ User logged in, updating button to show account details');
                btnText.textContent = 'Account Details';
                
                // Change button style to indicate logged in state
                profileBtn.style.background = 'linear-gradient(135deg, #10b981, #059669)';
                profileBtn.style.color = 'white';
                profileBtn.style.boxShadow = '0 4px 15px rgba(16, 185, 129, 0.3)';
                
                // Update dropdown content if it exists
                const dropdownAvatar = document.getElementById('dropdown-avatar');
                const dropdownUsername = document.getElementById('dropdown-username');
                const dropdownEmail = document.getElementById('dropdown-email');
                const dropdownStatus = document.getElementById('dropdown-status');
                const accountDetailsSection = document.getElementById('account-details-section');
                
                if (dropdownAvatar) dropdownAvatar.textContent = currentUser.name.charAt(0).toUpperCase();
                if (dropdownUsername) dropdownUsername.textContent = currentUser.name;
                if (dropdownEmail) dropdownEmail.textContent = currentUser.email;
                if (dropdownStatus) dropdownStatus.textContent = 'Member';
                
                // Show account details section
                if (accountDetailsSection) {
                    accountDetailsSection.style.display = 'block';
                    updateAccountDetails();
                }
                
                console.log('📝 Updated dropdown content and showed account details');
            } else {
                console.log('❌ No user or invalid user data, setting button to Profile');
                btnText.textContent = 'Profile';
                
                // Reset button style to default
                profileBtn.style.background = 'linear-gradient(135deg, #ffd700, #f59e0b)';
                profileBtn.style.color = '#333';
                profileBtn.style.boxShadow = '0 4px 15px rgba(255, 215, 0, 0.3)';
                
                // Hide account details section
                const accountDetailsSection = document.getElementById('account-details-section');
                if (accountDetailsSection) {
                    accountDetailsSection.style.display = 'none';
                }
                
                // Update dropdown status
                const dropdownStatus = document.getElementById('dropdown-status');
                if (dropdownStatus) dropdownStatus.textContent = 'Guest';
                
                // Hide dropdown if it's open
                hideProfileDropdown();
            }
        }
        
        function updateAccountDetails() {
            if (!currentUser) return;
            
            // Calculate member since date
            const memberSince = currentUser.createdAt ? new Date(currentUser.createdAt).toLocaleDateString() : 'Today';
            
            // Get user stats
            const totalSearches = currentUser.stats ? currentUser.stats.searches || 0 : 0;
            const totalFavorites = currentUser.stats ? currentUser.stats.favorites || 0 : 0;
            
            // Determine member level based on activity
            let memberLevel = 'Guest';
            if (totalSearches >= 50) memberLevel = 'Expert';
            else if (totalSearches >= 20) memberLevel = 'Regular';
            else if (totalSearches >= 5) memberLevel = 'Member';
            else if (currentUser.name) memberLevel = 'New Member';
            
            // Update the account details display
            const memberSinceEl = document.getElementById('member-since');
            const totalSearchesEl = document.getElementById('total-searches');
            const totalFavoritesEl = document.getElementById('total-favorites');
            const memberLevelEl = document.getElementById('member-level');
            
            if (memberSinceEl) memberSinceEl.textContent = memberSince;
            if (totalSearchesEl) totalSearchesEl.textContent = totalSearches;
            if (totalFavoritesEl) totalFavoritesEl.textContent = totalFavorites;
            if (memberLevelEl) memberLevelEl.textContent = memberLevel;
        }

        // Edit Profile Functions
        async function editProfile() {
            const user = getCurrentUser();
            console.log('🔍 editProfile called with user:', user);
            console.log('🔍 User personalDetails:', user?.personalDetails);
            
            if (!user) {
                showNotification('Please sign in to edit your profile', 'error');
                return;
            }
            
            // Refresh user data from server to get latest personalDetails
            try {
                const response = await fetch(`${API_BASE_URL}/auth/me`, {
                    headers: {
                        'Authorization': `Bearer ${localStorage.getItem('token')}`
                    }
                });
                
                if (response.ok) {
                    const result = await response.json();
                    if (result.success) {
                        // Update current user with fresh data
                        currentUser = result.data.user;
                        localStorage.setItem('currentUser', JSON.stringify(currentUser));
                        console.log('🔄 Refreshed user data:', currentUser);
                    }
                }
            } catch (error) {
                console.log('⚠️ Could not refresh user data, using cached data');
            }
            
            // Get the latest user data (either refreshed or current)
            const latestUser = currentUser || user;
            console.log('🔍 Latest user data for form:', latestUser);
            console.log('🔍 Personal details:', latestUser.personalDetails);
            console.log('🔍 Age:', latestUser.personalDetails?.age);
            console.log('🔍 Weight:', latestUser.personalDetails?.weight);
            console.log('🔍 Gender:', latestUser.personalDetails?.gender);
            
            // TEMPORARY: Force some default values for testing
            const formData = {
                name: latestUser.name || 'Test User',
                email: latestUser.email || 'testlogin@example.com',
                age: latestUser.personalDetails?.age || 25,
                weight: latestUser.personalDetails?.weight || 70,
                height: latestUser.personalDetails?.height || 175,
                gender: latestUser.personalDetails?.gender || 'male'
            };
            console.log('🔧 Form data to be used:', formData);
            
            // Create edit profile form
            const editForm = document.createElement('div');
            editForm.className = 'edit-profile-modal';
            editForm.innerHTML = `
                <div class="edit-profile-overlay">
                    <div class="edit-profile-container">
                        <div class="edit-profile-header">
                            <h3><i class="fas fa-edit"></i> Edit Profile</h3>
                            <button class="close-edit-btn" onclick="closeEditProfile()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        
                        <form class="edit-profile-form" id="edit-profile-form">
                            <div class="form-section">
                                <h4><i class="fas fa-user"></i> Account Information</h4>
                                <div class="form-group">
                                    <label for="edit-name">Full Name</label>
                                    <input type="text" id="edit-name" value="${formData.name}" required>
                                </div>
                                <div class="form-group">
                                    <label for="edit-email">Email Address</label>
                                    <input type="email" id="edit-email" value="${formData.email}" required>
                                </div>
                            </div>
                            
                            <div class="form-section">
                                <h4><i class="fas fa-lock"></i> Security</h4>
                                <div class="form-group">
                                    <label for="edit-password">New Password (leave blank to keep current)</label>
                                    <input type="password" id="edit-password" placeholder="Enter new password">
                                </div>
                                <div class="form-group">
                                    <label for="edit-confirm-password">Confirm New Password</label>
                                    <input type="password" id="edit-confirm-password" placeholder="Confirm new password">
                                </div>
                            </div>
                            
                            <div class="form-section">
                                <h4><i class="fas fa-user-cog"></i> Personal Details</h4>
                                <div class="form-group">
                                    <label for="edit-age">Age</label>
                                    <input type="number" id="edit-age" value="${formData.age}" min="18" max="120" required>
                                </div>
                                <div class="form-group">
                                    <label for="edit-weight">Weight (kg)</label>
                                    <input type="number" id="edit-weight" value="${formData.weight}" min="30" max="300" step="0.1" required>
                                </div>
                                <div class="form-group">
                                    <label for="edit-height">Height (cm)</label>
                                    <input type="number" id="edit-height" value="${formData.height}" min="100" max="250" required>
                                </div>
                                <div class="form-group">
                                    <label for="edit-gender">Gender</label>
                                    <select id="edit-gender" required>
                                        <option value="">Select gender</option>
                                        <option value="male" ${formData.gender === 'male' ? 'selected' : ''}>Male</option>
                                        <option value="female" ${formData.gender === 'female' ? 'selected' : ''}>Female</option>
                                        <option value="other" ${formData.gender === 'other' ? 'selected' : ''}>Other</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="edit-profile-actions">
                                <button type="button" class="cancel-btn" onclick="closeEditProfile()">
                                    <i class="fas fa-times"></i> Cancel
                                </button>
                                <button type="submit" class="save-btn">
                                    <i class="fas fa-save"></i> Save Changes
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            `;
            
            document.body.appendChild(editForm);
            
            // DEBUG: Check if form elements exist and have values
            setTimeout(() => {
                const nameInput = document.getElementById('edit-name');
                const emailInput = document.getElementById('edit-email');
                const ageInput = document.getElementById('edit-age');
                const weightInput = document.getElementById('edit-weight');
                const heightInput = document.getElementById('edit-height');
                const genderSelect = document.getElementById('edit-gender');
                
                console.log('🔍 Form elements found:', {
                    nameInput: nameInput,
                    emailInput: emailInput,
                    ageInput: ageInput,
                    weightInput: weightInput,
                    heightInput: heightInput,
                    genderSelect: genderSelect
                });
                
                console.log('🔍 Form values:', {
                    name: nameInput?.value,
                    email: emailInput?.value,
                    age: ageInput?.value,
                    weight: weightInput?.value,
                    height: heightInput?.value,
                    gender: genderSelect?.value
                });
                
                // Force set values if they're empty
                if (nameInput && !nameInput.value) {
                    nameInput.value = formData.name;
                    console.log('🔧 Forced name value:', formData.name);
                }
                if (emailInput && !emailInput.value) {
                    emailInput.value = formData.email;
                    console.log('🔧 Forced email value:', formData.email);
                }
                if (ageInput && !ageInput.value) {
                    ageInput.value = formData.age;
                    console.log('🔧 Forced age value:', formData.age);
                }
                if (weightInput && !weightInput.value) {
                    weightInput.value = formData.weight;
                    console.log('🔧 Forced weight value:', formData.weight);
                }
                if (heightInput && !heightInput.value) {
                    heightInput.value = formData.height;
                    console.log('🔧 Forced height value:', formData.height);
                }
                if (genderSelect && !genderSelect.value) {
                    genderSelect.value = formData.gender;
                    console.log('🔧 Forced gender value:', formData.gender);
                }
            }, 100);
            
            // Add form submission handler
            document.getElementById('edit-profile-form').addEventListener('submit', handleProfileUpdate);
        }

        function closeEditProfile() {
            const modal = document.querySelector('.edit-profile-modal');
            if (modal) {
                modal.remove();
            }
        }

        async function handleProfileUpdate(event) {
            event.preventDefault();
            
            const user = getCurrentUser();
            if (!user) {
                showNotification('Please sign in to update your profile', 'error');
                return;
            }
            
            // Get form values
            const name = document.getElementById('edit-name').value.trim();
            const email = document.getElementById('edit-email').value.trim();
            const password = document.getElementById('edit-password').value;
            const confirmPassword = document.getElementById('edit-confirm-password').value;
            const age = parseInt(document.getElementById('edit-age').value);
            const weight = parseFloat(document.getElementById('edit-weight').value);
            const height = parseInt(document.getElementById('edit-height').value);
            const gender = document.getElementById('edit-gender').value;
            
            // Validation
            if (!name || !email) {
                showNotification('Name and email are required', 'error');
                return;
            }
            
            if (password && password !== confirmPassword) {
                showNotification('Passwords do not match', 'error');
                return;
            }
            
            if (age < 18 || age > 120) {
                showNotification('Age must be between 18 and 120', 'error');
                return;
            }
            
            if (weight < 30 || weight > 300) {
                showNotification('Weight must be between 30 and 300 kg', 'error');
                return;
            }
            
            if (height < 100 || height > 250) {
                showNotification('Height must be between 100 and 250 cm', 'error');
                return;
            }
            
            if (!gender) {
                showNotification('Please select your gender', 'error');
                return;
            }
            
            try {
                // Prepare update data
                const updateData = {
                    name,
                    email,
                    personalDetails: {
                        age,
                        weight,
                        height,
                        gender
                    }
                };
                
                // Add password if provided
                if (password) {
                    updateData.password = password;
                }
                
                // Update profile using the API
                const response = await fetch(`${API_BASE_URL}/auth/profile`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${localStorage.getItem('token')}`
                    },
                    body: JSON.stringify(updateData)
                });
                
                if (!response.ok) {
                    throw new Error('Failed to update profile');
                }
                
                const result = await response.json();
                
                if (result.success) {
                    // Update local user data
                    currentUser = { ...currentUser, ...updateData };
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                    
                    showNotification('Profile updated successfully!', 'success');
                    closeEditProfile();
                    
                    // Refresh profile display
                    updateProfileButton();
                    updateAccountDetails();
                } else {
                    throw new Error(result.message || 'Failed to update profile');
                }
                
            } catch (error) {
                showNotification('Failed to update profile: ' + error.message, 'error');
            }
        }

        // Notification function
        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <div class="notification-content">
                    <i class="fas ${type === 'success' ? 'fa-check-circle' : type === 'error' ? 'fa-exclamation-circle' : 'fa-info-circle'}"></i>
                    <span>${message}</span>
                </div>
            `;
            
            // Add to body
            document.body.appendChild(notification);
            
            // Show notification
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            // Remove after 5 seconds
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 5000);
        }

        function getCurrentUser() {
            if (currentUser) {
                return currentUser;
            }
            
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                return currentUser;
            }
            
            // Only return TEMP_USER if bypass is enabled
            if (TEMP_AUTH_BYPASS) {
                return TEMP_USER;
            }
            
            return null; // No user logged in
        }

        // Helper function to get user data for BAC calculations
        function getUserData() {
            const user = getCurrentUser();
            if (user && user.personalDetails) {
                return {
                    weight: user.personalDetails.weight || 70,
                    gender: user.personalDetails.gender || 'male',
                    age: user.personalDetails.age || 25
                };
            }
            return {
                weight: 70,
                gender: 'male',
                age: 25
            };
        }

        // Check authentication status on page load
        async function checkAuthStatus() {
            const token = localStorage.getItem('token');
            if (token) {
                try {
                    const response = await fetch(`${API_BASE_URL}/auth/me`, {
                        method: 'GET',
                        headers: {
                            'Authorization': `Bearer ${token}`,
                            'Content-Type': 'application/json',
                        }
                    });

                    const result = await response.json();

                    if (result.success) {
                        currentUser = result.data.user;
                        localStorage.setItem('currentUser', JSON.stringify(result.data.user));
                        updateProfileButton();
                    } else {
                        // Token is invalid, clear it
                        localStorage.removeItem('token');
                        localStorage.removeItem('currentUser');
                        currentUser = null;
                        updateProfileButton();
                    }
                } catch (error) {
                    console.error('Auth check error:', error);
                    // Clear invalid token
                    localStorage.removeItem('token');
                    localStorage.removeItem('currentUser');
                    currentUser = null;
                    updateProfileButton();
                }
            }
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 Page loaded - initializing...');
            
            // Test if toggleProfileDropdown function exists
            if (typeof toggleProfileDropdown === 'function') {
                console.log('✅ toggleProfileDropdown function exists');
            } else {
                console.error('❌ toggleProfileDropdown function not found!');
            }
            
            // Initialize profile button
            updateProfileButton();
            
            // Start button
            const startBtn = document.getElementById('start-btn');
            if (startBtn) {
                startBtn.addEventListener('click', function() {
                    console.log('🚀 Start button clicked!');
                    showPage('tracking-page');
                });
            }
            
            // Menu button
            const menuBtn = document.getElementById('menu-btn');
            if (menuBtn) {
                menuBtn.addEventListener('click', openMenu);
            }
            
            // Close menu button
            const closeMenuBtn = document.getElementById('close-menu-btn');
            if (closeMenuBtn) {
                closeMenuBtn.addEventListener('click', closeMenu);
            }
            
            // Sidebar overlay
            const sidebarOverlay = document.getElementById('sidebar-overlay');
            if (sidebarOverlay) {
                sidebarOverlay.addEventListener('click', closeMenu);
            }
            
            // Sidebar buttons
            const sidebarBtns = document.querySelectorAll('.sidebar-btn');
            sidebarBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    handleSidebarClick(btn.id);
                });
            });
            
            // Tab buttons
            const tabBtns = document.querySelectorAll('.tab-btn');
            tabBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const tab = btn.getAttribute('data-tab');
                    switchTab(tab);
                });
            });
            
            // Search button
            const searchBtn = document.getElementById('search-btn');
            if (searchBtn) {
                searchBtn.addEventListener('click', searchBeverage);
            }
            
            // Search input
            const searchInput = document.getElementById('beverage-name');
            if (searchInput) {
                searchInput.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter') {
                        searchBeverage();
                    }
                });
                
                // Show popular drinks when input is focused
                searchInput.addEventListener('focus', function() {
                    const popularDrinks = [
                        'carlton_draught', 'victoria_bitter', 'x_gold', 'crown_lager',
                        'coopers_pale_ale', 'little_creatures_pale_ale', 'balter_ipa',
                        'vodka', 'whiskey', 'gin', 'rum', 'tequila',
                        'margarita', 'mojito', 'martini', 'cosmopolitan'
                    ];
                    
                    const suggestions = popularDrinks.map(key => drinkDatabase[key].name).join(', ');
                    searchInput.placeholder = `Try: ${suggestions}`;
                });
                
                searchInput.addEventListener('blur', function() {
                    searchInput.placeholder = 'Enter beverage name...';
                });
            }
            
            // Night Tracker Event Listeners
            const startSessionBtn = document.getElementById('start-session-btn');
            if (startSessionBtn) {
                startSessionBtn.addEventListener('click', startSession);
            }
            
            const endSessionBtn = document.getElementById('end-session-btn');
            if (endSessionBtn) {
                endSessionBtn.addEventListener('click', endSession);
            }
            
            const resetSessionBtn = document.getElementById('reset-session-btn');
            if (resetSessionBtn) {
                resetSessionBtn.addEventListener('click', resetSession);
            }
            
            const drinkSearch = document.getElementById('drink-search');
            if (drinkSearch) {
                drinkSearch.addEventListener('input', function(e) {
                    showDrinkSuggestions(e.target.value);
                });
                
                drinkSearch.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter') {
                        const addDrinkBtn = document.getElementById('add-drink-btn');
                        if (!addDrinkBtn.disabled && addDrinkBtn.dataset.selectedDrink) {
                            addDrink(addDrinkBtn.dataset.selectedDrink);
                            drinkSearch.value = '';
                            document.getElementById('drink-suggestions').innerHTML = '';
                            addDrinkBtn.dataset.selectedDrink = '';
                            addDrinkBtn.disabled = true;
                        }
                    }
                });
            }
            
            const addDrinkBtn = document.getElementById('add-drink-btn');
            if (addDrinkBtn) {
                addDrinkBtn.addEventListener('click', function() {
                    if (this.dataset.selectedDrink) {
                        addDrink(this.dataset.selectedDrink);
                        drinkSearch.value = '';
                        document.getElementById('drink-suggestions').innerHTML = '';
                        this.dataset.selectedDrink = '';
                        this.disabled = true;
                    }
                });
            }
            
            // Profile Form Event Listener
            const profileForm = document.getElementById('profile-form');
            if (profileForm) {
                profileForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const email = document.getElementById('email').value.trim();
                    const password = document.getElementById('password').value;
                    
                    // Basic validation
                    if (!email || !password) {
                        alert('Please enter both email and password');
                        return;
                    }
                    
                    if (isSignUpMode) {
                        // Validate sign-up fields
                        const username = document.getElementById('username').value.trim();
                        const age = document.getElementById('age').value;
                        const weight = document.getElementById('weight').value;
                        const gender = document.getElementById('gender').value;
                        
                        if (!username || !age || !weight || !gender) {
                            alert('Please fill in all required fields');
                            return;
                        }
                        
                        const formData = {
                            username: username,
                            email: email,
                            password: password,
                            age: parseInt(age),
                            weight: parseFloat(weight),
                            gender: gender
                        };
                        signUp(formData);
                    } else {
                        const rememberMe = document.getElementById('remember-me').checked;
                        signIn(email, password, rememberMe);
                    }
                });
            }
            
            // Initialize profile button
            updateProfileButton();
            
            // Check if user is already logged in
            checkAuthStatus();
            
            // Photo upload event listener
            const uploadArea = document.getElementById('upload-area');
            if (uploadArea) {
                uploadArea.addEventListener('click', handlePhotoUpload);
                uploadArea.addEventListener('touchstart', handlePhotoUpload, { passive: true });
            }
            
            console.log('✅ All event listeners set up successfully!');
            console.log('Current page:', document.querySelector('.page.active').id);
        });

        // Smart Search Functionality
        let searchTimeout;
        let selectedIndex = -1;
        let searchResults = [];

        // Initialize search functionality
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('beverage-name');
            const searchDropdown = document.getElementById('search-dropdown');
            const dropdownContent = document.getElementById('dropdown-content');

            // Add event listeners for smart search
            searchInput.addEventListener('input', handleSearchInput);
            searchInput.addEventListener('keydown', handleSearchKeydown);
            searchInput.addEventListener('focus', handleSearchFocus);
            searchInput.addEventListener('blur', handleSearchBlur);

            // Close dropdown when clicking outside
            document.addEventListener('click', function(e) {
                if (!searchInput.contains(e.target) && !searchDropdown.contains(e.target)) {
                    hideSearchDropdown();
                }
            });
        });

        function handleSearchInput(e) {
            const query = e.target.value.trim();
            
            // Clear previous timeout
            clearTimeout(searchTimeout);
            
            if (query.length < 2) {
                hideSearchDropdown();
                return;
            }

            // Debounce search
            searchTimeout = setTimeout(() => {
                performSearch(query);
            }, 300);
        }

        function handleSearchKeydown(e) {
            const dropdown = document.getElementById('search-dropdown');
            const items = dropdown.querySelectorAll('.dropdown-item');
            
            if (!dropdown.style.display || dropdown.style.display === 'none') {
                return;
            }

            switch(e.key) {
                case 'ArrowDown':
                    e.preventDefault();
                    selectedIndex = Math.min(selectedIndex + 1, items.length - 1);
                    updateSelectedItem(items);
                    break;
                case 'ArrowUp':
                    e.preventDefault();
                    selectedIndex = Math.max(selectedIndex - 1, -1);
                    updateSelectedItem(items);
                    break;
                case 'Enter':
                    e.preventDefault();
                    if (selectedIndex >= 0 && searchResults[selectedIndex]) {
                        selectDrink(searchResults[selectedIndex]);
                    }
                    break;
                case 'Escape':
                    hideSearchDropdown();
                    break;
            }
        }

        function handleSearchFocus() {
            const query = document.getElementById('beverage-name').value.trim();
            if (query.length >= 2) {
                performSearch(query);
            }
        }

        function handleSearchBlur() {
            // Delay hiding to allow for clicks on dropdown items
            setTimeout(() => {
                hideSearchDropdown();
            }, 200);
        }

        function performSearch(query) {
            const results = Object.keys(drinkDatabase).filter(key => {
                const drink = drinkDatabase[key];
                const searchText = `${drink.name} ${drink.type} ${drink.alcohol} ${drink.tags.join(' ')}`.toLowerCase();
                return searchText.includes(query.toLowerCase());
            }).slice(0, 8); // Limit to 8 results

            searchResults = results;
            displaySearchResults(results, query);
            
            // Track search if user is logged in
            if (isLoggedIn()) {
                trackSearch(query, results.length);
            }
        }

        function displaySearchResults(results, query) {
            const dropdown = document.getElementById('search-dropdown');
            const dropdownContent = document.getElementById('dropdown-content');
            
            if (results.length === 0) {
                dropdownContent.innerHTML = `
                    <div class="dropdown-item">
                        <div class="dropdown-item-content">
                            <div class="dropdown-item-name">No drinks found</div>
                            <div class="dropdown-item-details">Try a different search term</div>
                        </div>
                    </div>
                `;
            } else {
                dropdownContent.innerHTML = results.map((key, index) => {
                    const drink = drinkDatabase[key];
                    const icon = getDrinkIcon(drink.type);
                    return `
                        <div class="dropdown-item ${index === selectedIndex ? 'selected' : ''}" 
                             onclick="selectDrink('${key}')" 
                             onmouseenter="selectedIndex = ${index}; updateSelectedItem(this.parentElement.children)">
                            <div class="dropdown-item-icon">
                                <i class="${icon}"></i>
                            </div>
                            <div class="dropdown-item-content">
                                <div class="dropdown-item-name">${drink.name}</div>
                                <div class="dropdown-item-details">${drink.abv} ABV • ${drink.nutrition.calories} kcal • ${drink.standardDrinks} standards</div>
                            </div>
                        </div>
                    `;
                }).join('');
            }
            
            dropdown.style.display = 'block';
        }

        function updateSelectedItem(items) {
            Array.from(items).forEach((item, index) => {
                item.classList.toggle('selected', index === selectedIndex);
            });
        }

        function selectDrink(drinkKey) {
            const drink = drinkDatabase[drinkKey];
            if (drink) {
                showDrinkDetail(drinkKey);
                hideSearchDropdown();
                document.getElementById('beverage-name').value = drink.name;
            }
        }

        function hideSearchDropdown() {
            const dropdown = document.getElementById('search-dropdown');
            dropdown.style.display = 'none';
            selectedIndex = -1;
        }

        function getDrinkIcon(type) {
            const icons = {
                'Beer': 'fas fa-beer',
                'Wine': 'fas fa-wine-glass',
                'Spirit': 'fas fa-glass-whiskey',
                'Cocktail': 'fas fa-cocktail'
            };
            return icons[type] || 'fas fa-glass-whiskey';
        }

        function showDrinkDetail(drinkKey) {
            const drink = drinkDatabase[drinkKey];
            if (!drink) return;

            // Update page title
            document.getElementById('drink-detail-title').innerHTML = `<i class="fas fa-glass-whiskey"></i> ${drink.name}`;

            // Create drink detail content
            const detailContent = document.getElementById('drink-detail-content');
            detailContent.innerHTML = `
                <div class="drink-detail-header">
                    <div class="drink-detail-image">
                        <i class="${getDrinkIcon(drink.type)}"></i>
                    </div>
                    <div class="drink-detail-info">
                        <h2>${drink.name}</h2>
                        <div class="drink-type">${drink.type} • ${drink.alcohol}</div>
                        <div class="drink-abv">${drink.abv} ABV • ${drink.standardDrinks} standard drinks</div>
                    </div>
                </div>

                <div class="drink-detail-sections">
                    <div class="drink-detail-section">
                        <h3><i class="fas fa-info-circle"></i> Description</h3>
                        <div class="drink-description">${drink.description}</div>
                    </div>

                    <div class="drink-detail-section">
                        <h3><i class="fas fa-list"></i> Ingredients</h3>
                        <div class="drink-ingredients">
                            ${drink.ingredients.map(ingredient => 
                                `<span class="ingredient-tag">${ingredient}</span>`
                            ).join('')}
                        </div>
                    </div>



                    <div class="drink-detail-section">
                        <h3><i class="fas fa-glass-whiskey"></i> ${drink.type === 'Wine' ? 'Wine ABV Options' : 'Drink Measurements'}</h3>
                        ${drink.type === 'Wine' ? `
                        <div class="abv-tabs">
                            <button class="abv-tab active" data-abv="12" onclick="showWineABVDetails('${drinkKey}', '12')">
                                <i class="fas fa-percentage"></i>
                                <span>12%</span>
                                <small>1.4 standards</small>
                            </button>
                            <button class="abv-tab" data-abv="12.5" onclick="showWineABVDetails('${drinkKey}', '12.5')">
                                <i class="fas fa-percentage"></i>
                                <span>12.5%</span>
                                <small>1.5 standards</small>
                            </button>
                            <button class="abv-tab" data-abv="13" onclick="showWineABVDetails('${drinkKey}', '13')">
                                <i class="fas fa-percentage"></i>
                                <span>13%</span>
                                <small>1.6 standards</small>
                            </button>
                            <button class="abv-tab" data-abv="13.5" onclick="showWineABVDetails('${drinkKey}', '13.5')">
                                <i class="fas fa-percentage"></i>
                                <span>13.5%</span>
                                <small>1.6 standards</small>
                            </button>
                            <button class="abv-tab" data-abv="14" onclick="showWineABVDetails('${drinkKey}', '14')">
                                <i class="fas fa-percentage"></i>
                                <span>14%</span>
                                <small>1.7 standards</small>
                            </button>
                            <button class="abv-tab" data-abv="14.5" onclick="showWineABVDetails('${drinkKey}', '14.5')">
                                <i class="fas fa-percentage"></i>
                                <span>14.5%</span>
                                <small>1.7 standards</small>
                            </button>
                            <button class="abv-tab" data-abv="15" onclick="showWineABVDetails('${drinkKey}', '15')">
                                <i class="fas fa-percentage"></i>
                                <span>15%</span>
                                <small>1.8 standards</small>
                            </button>
                        </div>
                        <div class="abv-details" id="abv-details">
                            <!-- ABV details will be populated here -->
                        </div>
                        ` : `
                        <div class="measurement-tabs">
                            <button class="measurement-tab active" data-measurement="cans-bottles" onclick="showMeasurementDetails('${drinkKey}', 'cans-bottles')">
                                <i class="fas fa-wine-bottle"></i>
                                <span>Cans/Bottles</span>
                                <small>${drink.nutrition.servingSize}</small>
                            </button>
                            <button class="measurement-tab" data-measurement="schooner" onclick="showMeasurementDetails('${drinkKey}', 'schooner')">
                                <i class="fas fa-beer"></i>
                                <span>Schooner</span>
                                <small>425ml</small>
                            </button>
                            <button class="measurement-tab" data-measurement="pint" onclick="showMeasurementDetails('${drinkKey}', 'pint')">
                                <i class="fas fa-pint-glass"></i>
                                <span>Pint</span>
                                <small>570ml</small>
                            </button>
                            <button class="measurement-tab" data-measurement="jug" onclick="showMeasurementDetails('${drinkKey}', 'jug')">
                                <i class="fas fa-jug"></i>
                                <span>Jug</span>
                                <small>1.14L</small>
                            </button>
                        </div>
                        <div class="measurement-details" id="measurement-details">
                            <!-- Measurement details will be populated here -->
                        </div>
                        `}
                    </div>
                </div>

                <div class="drink-actions">
                    <button class="action-btn primary" onclick="addDrinkToNightTracker('${drinkKey}')">
                        <i class="fas fa-plus"></i> Add to Night Tracker
                    </button>
                    <button class="action-btn secondary" onclick="addToFavorites('${drinkKey}')">
                        <i class="fas fa-star"></i> Add to Favorites
                    </button>
                </div>
            `;

            // Show the drink detail page
            showPage('drink-detail-page');
            
            // Initialize with appropriate details based on drink type
            if (drink.type === 'Wine') {
                showWineABVDetails(drinkKey, '13.5');
            } else {
                showMeasurementDetails(drinkKey, 'cans-bottles');
            }
        }

        function showWineABVDetails(drinkKey, abv) {
            const drink = drinkDatabase[drinkKey];
            if (!drink) return;

            // Update active tab
            document.querySelectorAll('.abv-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`[data-abv="${abv}"]`).classList.add('active');

            // Get the wine variant based on ABV
            const wineType = drinkKey.includes('red') ? 'red' : 'white';
            const wineVariant = `${wineType}_wine_${abv.replace('.', '_')}`;
            const wineData = drinkDatabase[wineVariant] || drink;

            // Update the drink info display
            const drinkInfo = document.querySelector('.drink-detail-info');
            if (drinkInfo) {
                const abvElement = drinkInfo.querySelector('.drink-abv');
                if (abvElement) {
                    abvElement.textContent = `${wineData.abv} ABV • ${wineData.standardDrinks} standard drinks`;
                }
            }

            // Show ABV details
            const abvDetails = document.getElementById('abv-details');
            if (abvDetails) {
                abvDetails.innerHTML = `
                    <div class="abv-info">
                        <div class="abv-info-grid">
                            <div class="abv-info-item">
                                <div class="abv-info-value">${wineData.abv}</div>
                                <div class="abv-info-label">Alcohol by Volume</div>
                            </div>
                            <div class="abv-info-item">
                                <div class="abv-info-value">${wineData.standardDrinks}</div>
                                <div class="abv-info-label">Standard Drinks</div>
                            </div>
                            <div class="abv-info-item">
                                <div class="abv-info-value">150ml</div>
                                <div class="abv-info-label">Serving Size</div>
                            </div>
                            <div class="abv-info-item">
                                <div class="abv-info-value">${wineData.nutrition.calories}</div>
                                <div class="abv-info-label">Calories</div>
                            </div>
                        </div>
                        <div class="abv-nutrition">
                            <h4>Nutrition Information (150ml)</h4>
                            <div class="abv-nutrition-grid">
                                <div class="abv-nutrition-item">
                                    <div class="abv-nutrition-value">${wineData.nutrition.carbs}g</div>
                                    <div class="abv-nutrition-label">Carbohydrates</div>
                                </div>
                                <div class="abv-nutrition-item">
                                    <div class="abv-nutrition-value">${wineData.nutrition.sugar}g</div>
                                    <div class="abv-nutrition-label">Sugar</div>
                                </div>
                                <div class="abv-nutrition-item">
                                    <div class="abv-nutrition-value">${wineData.nutrition.protein}g</div>
                                    <div class="abv-nutrition-label">Protein</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
        }

        function showMeasurementDetails(drinkKey, measurement) {
            const drink = drinkDatabase[drinkKey];
            if (!drink) return;

            // Update active tab
            document.querySelectorAll('.measurement-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`[data-measurement="${measurement}"]`).classList.add('active');

            // Define measurement sizes in ml
            const measurementSizes = {
                'cans-bottles': parseInt(drink.nutrition.servingSize),
                schooner: 425,
                pint: 570,
                jug: 1140
            };

            const originalSize = parseInt(drink.nutrition.servingSize);
            const newSize = measurementSizes[measurement];
            const ratio = newSize / originalSize;

            // Calculate new standard drinks
            const originalStandardDrinks = parseFloat(drink.standardDrinks);
            const newStandardDrinks = (originalStandardDrinks * ratio).toFixed(1);

            // Calculate new nutrition values
            const newNutrition = {
                calories: Math.round(drink.nutrition.calories * ratio),
                carbs: (drink.nutrition.carbs * ratio).toFixed(1),
                protein: (drink.nutrition.protein * ratio).toFixed(1),
                fat: (drink.nutrition.fat * ratio).toFixed(1),
                sugar: (drink.nutrition.sugar * ratio).toFixed(1)
            };

            // Update measurement details
            const detailsContainer = document.getElementById('measurement-details');
            detailsContainer.innerHTML = `
                <div class="measurement-info">
                    <div class="measurement-info-item">
                        <div class="measurement-info-value">${newSize}ml</div>
                        <div class="measurement-info-label">Serving Size</div>
                    </div>
                    <div class="measurement-info-item">
                        <div class="measurement-info-value">${newStandardDrinks}</div>
                        <div class="measurement-info-label">Standard Drinks</div>
                    </div>
                </div>
                <div class="measurement-nutrition">
                    <h4><i class="fas fa-chart-bar"></i> Nutrition (per ${newSize}ml)</h4>
                    <div class="measurement-nutrition-grid">
                        <div class="measurement-nutrition-item">
                            <div class="measurement-nutrition-value">${newNutrition.calories}</div>
                            <div class="measurement-nutrition-label">Calories</div>
                        </div>
                        <div class="measurement-nutrition-item">
                            <div class="measurement-nutrition-value">${newNutrition.carbs}g</div>
                            <div class="measurement-nutrition-label">Carbs</div>
                        </div>
                        <div class="measurement-nutrition-item">
                            <div class="measurement-nutrition-value">${newNutrition.protein}g</div>
                            <div class="measurement-nutrition-label">Protein</div>
                        </div>
                        <div class="measurement-nutrition-item">
                            <div class="measurement-nutrition-value">${newNutrition.sugar}g</div>
                            <div class="measurement-nutrition-label">Sugar</div>
                        </div>
                    </div>
                </div>
            `;
        }

        function addDrinkToNightTracker(drinkKey) {
            // Check if Night Tracker session is active
            if (!sessionActive) {
                alert('Please start a Night Tracker session first!');
                showPage('tracking-page');
                return;
            }

            addDrink(drinkKey);
            alert('Drink added to Night Tracker!');
            showPage('tracking-page');
        }

        async function addToFavorites(drinkKey) {
            const drink = drinkDatabase[drinkKey];
            if (drink) {
                try {
                    const token = localStorage.getItem('token');
                    if (!token) {
                        showNotification('Please log in to add favorites', 'error');
                        return;
                    }

                    const response = await fetch(`${API_BASE_URL}/favorites/add`, {
                        method: 'POST',
                        headers: {
                            'Authorization': `Bearer ${token}`,
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            beverageKey: drinkKey
                        })
                    });

                    if (response.ok) {
                        showNotification(`${drink.name} added to favorites!`, 'success');
                        // Track the favorite action
                        trackFavorite(drinkKey, 'add');
                    } else {
                        const error = await response.json();
                        showNotification(error.message || 'Error adding to favorites', 'error');
                    }
                } catch (error) {
                    console.error('Error adding to favorites:', error);
                    showNotification('Error adding to favorites', 'error');
                }
            }
        }

        async function removeFromFavorites(drinkKey) {
            const drink = drinkDatabase[drinkKey];
            if (drink) {
                try {
                    const token = localStorage.getItem('token');
                    if (!token) {
                        showNotification('Please log in to remove favorites', 'error');
                        return;
                    }

                    const response = await fetch(`${API_BASE_URL}/favorites/remove`, {
                        method: 'DELETE',
                        headers: {
                            'Authorization': `Bearer ${token}`,
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            beverageKey: drinkKey
                        })
                    });

                    if (response.ok) {
                        showNotification(`${drink.name} removed from favorites!`, 'success');
                        // Track the favorite removal
                        trackFavorite(drinkKey, 'remove');
                    } else {
                        const error = await response.json();
                        showNotification(error.message || 'Error removing from favorites', 'error');
                    }
                } catch (error) {
                    console.error('Error removing from favorites:', error);
                    showNotification('Error removing from favorites', 'error');
                }
            }
        }

        // Social Features JavaScript
        let friends = [];
        let friendRequests = [];
        let feedPosts = [];
        let leaderboardData = {};

        // Initialize social features
        async function initializeSocial() {
            if (!consentAccepted) {
                showNotification('Please accept the terms and conditions first.', 'error');
                showConsentModal();
                return;
            }

            const token = localStorage.getItem('token');
            if (!token) {
                showNotification('Please log in to access social features.', 'error');
                return;
            }

            try {
                // Get current user
                const userResponse = await fetch(`${API_BASE_URL}/auth/me`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                
                if (userResponse.ok) {
                    const userData = await userResponse.json();
                    currentUser = userData.user;
                }
            } catch (error) {
                console.error('Error initializing social features:', error);
            }
        }

        // Social Feed Functions
        async function loadSocialFeed() {
            console.log('🚀 Loading social feed - Version 2.0 (Drink Session Display)');
            try {
                // Check if user is logged in
                if (!isLoggedIn()) {
                    showNotification('Please log in to view the social feed', 'error');
                    return;
                }

                // Initialize social if needed
                if (!currentUser) {
                    await initializeSocial();
                }

                const token = localStorage.getItem('token');
                if (!token) {
                    showNotification('Authentication required', 'error');
                    return;
                }

                // Show loading state
                const container = document.getElementById('feed-container');
                if (container) {
                    container.innerHTML = `
                        <div class="loading-spinner">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>Loading social feed...</p>
                        </div>
                    `;
                }

                console.log('🌐 Loading social feed from:', `${API_BASE_URL}/social/feed`);

                const response = await fetch(`${API_BASE_URL}/social/feed`, {
                    headers: { 
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });

                console.log('📡 Response status:', response.status);

                if (response.ok) {
                    const data = await response.json();
                    console.log('📊 Feed data received:', data);
                    
                    if (data.posts && Array.isArray(data.posts)) {
                        console.log('🔍 Raw posts data:', data.posts);
                        
                        // Debug: Log all post types
                        console.log('🔍 === POST TYPE ANALYSIS ===');
                        data.posts.forEach((post, index) => {
                            console.log(`📝 Post ${index}:`, {
                                type: post.type,
                                hasContent: !!post.content,
                                hasSessionStats: !!post.sessionStats,
                                hasUserId: !!post.userId,
                                hasNightData: !!post.nightData,
                                id: post._id || post.id,
                                content: post.content ? post.content.substring(0, 50) + '...' : 'No content'
                            });
                        });
                        
                        // Check if the posts are actually valid post objects
                        const validPosts = data.posts.filter(post => 
                            post && (post.content || post.type === 'night_share' || post.type === 'regular')
                        );
                        
                        // Separate night share posts from regular posts
                        const nightSharePosts = validPosts.filter(post => 
                            post.type === 'night_share' || (post.sessionStats && post.content && post.content.includes('Shared my night out'))
                        );
                        const regularPosts = validPosts.filter(post => 
                            !nightSharePosts.includes(post)
                        );
                        
                        console.log('🌙 Night share posts found:', nightSharePosts.length);
                        console.log('📝 Regular posts found:', regularPosts.length);
                        
                        console.log('✅ Valid posts found:', validPosts.length);
                        
                        // Always check for drink data, even if we have valid posts
                        const drinkData = data.posts.filter(item => 
                            item && item.sessionStats && item.userId
                        );
                        
                        console.log('🍺 Drink data found:', drinkData.length, 'items');
                        
                        if (drinkData.length > 0) {
                            console.log('🍺 Converting drink data to display format:', drinkData);
                            // Convert drink data to posts
                            const convertedDrinkPosts = await convertDrinkDataToPosts(drinkData);
                            console.log('🔄 Converted drink posts:', convertedDrinkPosts);
                            
                            // Combine all posts: night shares, regular posts, and drink sessions
                            feedPosts = [...nightSharePosts, ...regularPosts, ...convertedDrinkPosts];
                            console.log('📝 Combined posts to render:', feedPosts);
                            renderFeed();
                        } else if (validPosts.length > 0) {
                            // Combine night shares and regular posts
                            feedPosts = [...nightSharePosts, ...regularPosts];
                            console.log('📝 Valid posts to render:', feedPosts);
                            renderFeed();
                        } else {
                            console.log('❌ No valid posts or drink data found, showing empty state');
                            showEmptyFeedWithCreateButton();
                        }
                    } else {
                        console.warn('⚠️ No posts array in response:', data);
                        showEmptyFeedWithCreateButton();
                    }
                } else {
                    const errorText = await response.text();
                    console.error('❌ API Error:', response.status, errorText);
                    
                    if (response.status === 401) {
                        showNotification('Please log in again', 'error');
                    } else if (response.status === 404) {
                        showNotification('Social feed not available', 'error');
                    } else {
                        showNotification(`Error loading feed (${response.status})`, 'error');
                    }
                    
                    // Show empty state
                    feedPosts = [];
                    renderFeed();
                }
            } catch (error) {
                console.error('❌ Error loading feed:', error);
                showNotification('Network error loading social feed', 'error');
                
                // Show empty state with retry button
                const container = document.getElementById('feed-container');
                if (container) {
                    container.innerHTML = `
                        <div class="empty-state">
                            <i class="fas fa-exclamation-triangle"></i>
                            <h3>Connection Error</h3>
                            <p>Unable to load social feed. Please check your connection.</p>
                            <button class="btn primary-btn" onclick="loadSocialFeed()">
                                <i class="fas fa-sync-alt"></i> Try Again
                            </button>
                        </div>
                    `;
                }
            }
        }

        function renderFeed() {
            const container = document.getElementById('feed-container');
            if (!container) {
                console.error('❌ Feed container not found');
                return;
            }

            console.log('🎨 === RENDERING FEED ===');
            console.log('📊 Total posts to render:', feedPosts.length);
            console.log('📝 Post types:', feedPosts.map(post => post.type));

            try {
                if (!feedPosts || feedPosts.length === 0) {
                    container.innerHTML = `
                        <div class="empty-state">
                            <i class="fas fa-users"></i>
                            <h3>No posts yet</h3>
                            <p>Be the first to share your drink experiences!</p>
                            <button class="btn primary-btn" onclick="showCreatePostModal()">
                                <i class="fas fa-plus"></i> Create First Post
                            </button>
                        </div>
                    `;
                    return;
                }

                container.innerHTML = feedPosts.map(post => {
                    try {
                        console.log('🎨 Rendering post:', {
                            type: post.type,
                            hasSessionStats: !!post.sessionStats,
                            content: post.content ? post.content.substring(0, 30) + '...' : 'No content'
                        });
                        
                        if (post.type === 'night_share' || (post.sessionStats && post.content && post.content.includes('Shared my night out'))) {
                            console.log('🌙 Rendering as night share post');
                            return renderNightSharePost(post);
                        } else if (post.type === 'drink_session') {
                            console.log('🍺 Rendering as drink session post');
                            return renderDrinkSessionPost(post);
                        } else {
                            console.log('📝 Rendering as regular post');
                            return renderRegularPost(post);
                        }
                    } catch (postError) {
                        console.error('❌ Error rendering post:', postError, post);
                        return `
                            <div class="post error-post">
                                <div class="post-content">
                                    <p><i class="fas fa-exclamation-triangle"></i> Error loading post</p>
                                </div>
                            </div>
                        `;
                    }
                }).join('');
            } catch (error) {
                console.error('❌ Error rendering feed:', error);
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-exclamation-triangle"></i>
                        <h3>Error Loading Feed</h3>
                        <p>Something went wrong while loading the social feed.</p>
                        <button class="btn primary-btn" onclick="loadSocialFeed()">
                            <i class="fas fa-sync-alt"></i> Try Again
                        </button>
                    </div>
                `;
            }
        }

        async function refreshFeed() {
            await loadSocialFeed();
            showNotification('Feed refreshed!', 'success');
        }

        function renderRegularPost(post) {
            // Debug: Log the actual post structure
            console.log('🔍 Rendering post:', post);
            
            // More flexible validation - check for different possible user structures
            let userName = 'Unknown User';
            let userInitial = 'U';
            
            if (post && post.user) {
                if (post.user.name) {
                    userName = post.user.name;
                    userInitial = userName.charAt(0).toUpperCase();
                } else if (post.user.username) {
                    userName = post.user.username;
                    userInitial = userName.charAt(0).toUpperCase();
                } else if (post.user.email) {
                    userName = post.user.email.split('@')[0]; // Use email prefix as name
                    userInitial = userName.charAt(0).toUpperCase();
                }
            } else if (post && post.author) {
                // Alternative structure with 'author' instead of 'user'
                if (post.author.name) {
                    userName = post.author.name;
                    userInitial = userName.charAt(0).toUpperCase();
                } else if (post.author.username) {
                    userName = post.author.username;
                    userInitial = userName.charAt(0).toUpperCase();
                }
            }
            
            // If we still don't have a valid user, show debug info
            if (userName === 'Unknown User') {
                console.warn('⚠️ Could not extract user name from post:', post);
                return `
                    <div class="post error-post">
                        <div class="post-content">
                            <p><i class="fas fa-exclamation-triangle"></i> Invalid post data</p>
                            <small style="color: rgba(255,255,255,0.6);">Debug: ${JSON.stringify(post).substring(0, 200)}...</small>
                        </div>
                    </div>
                `;
            }

            // Use the already extracted userName and userInitial
            const postDate = post.createdAt ? formatDate(post.createdAt) : 'Unknown date';
            const postContent = post.content || '';
            const likes = post.likes || [];
            const comments = post.comments || [];
            const drinks = post.drinks || [];
            const isLiked = likes.includes(currentUser?.id || currentUser?._id);

            return `
                <div class="post">
                    <div class="post-header">
                        <div class="post-avatar">${userInitial}</div>
                        <div class="post-user-info">
                            <h4>${userName}</h4>
                            <span>${postDate}</span>
                        </div>
                    </div>
                    <div class="post-content">
                        <p>${postContent}</p>
                        ${drinks.length > 0 ? `
                            <div class="post-drinks">
                                ${drinks.map(drink => `
                                    <span class="drink-tag">${drink.drinkName || drink.name || 'Unknown Drink'}</span>
                                `).join('')}
                            </div>
                        ` : ''}
                    </div>
                    <div class="post-actions">
                        <button class="action-btn ${isLiked ? 'liked' : ''}" 
                                onclick="toggleLike('${post._id}')">
                            <i class="fas fa-heart"></i> ${likes.length}
                        </button>
                        <button class="action-btn" onclick="showComments('${post._id}')">
                            <i class="fas fa-comment"></i> ${comments.length}
                        </button>
                    </div>
                </div>
            `;
        }

        function renderNightSharePost(post) {
            // Debug: Log the actual post structure
            console.log('🌙 === RENDERING NIGHT SHARE POST ===');
            console.log('📊 Post data:', post);
            console.log('🌙 Night data (nightData):', post.nightData);
            console.log('🌙 Session stats (sessionStats):', post.sessionStats);
            
            // More flexible validation - check for different possible user structures
            let userName = 'Unknown User';
            let userInitial = 'U';
            
            if (post && post.user) {
                if (post.user.name) {
                    userName = post.user.name;
                    userInitial = userName.charAt(0).toUpperCase();
                } else if (post.user.username) {
                    userName = post.user.username;
                    userInitial = userName.charAt(0).toUpperCase();
                } else if (post.user.email) {
                    userName = post.user.email.split('@')[0];
                    userInitial = userName.charAt(0).toUpperCase();
                }
            } else if (post && post.author) {
                if (post.author.name) {
                    userName = post.author.name;
                    userInitial = userName.charAt(0).toUpperCase();
                } else if (post.author.username) {
                    userName = post.author.username;
                    userInitial = userName.charAt(0).toUpperCase();
                }
            }
            
            // Check for night data (either nightData or sessionStats)
            const nightData = post.nightData || post.sessionStats;
            console.log('🌙 Using night data:', nightData);
            
            if (!nightData) {
                console.warn('⚠️ No night data in post:', post);
                console.log('📊 Available post properties:', Object.keys(post));
                return `
                    <div class="post error-post">
                        <div class="post-content">
                            <p><i class="fas fa-exclamation-triangle"></i> Missing night session data</p>
                            <small style="color: rgba(255,255,255,0.6);">Debug: ${JSON.stringify(post).substring(0, 200)}...</small>
                        </div>
                    </div>
                `;
            }
            // Use the already extracted userName
            const postDate = post.createdAt ? formatDate(post.createdAt) : 'Unknown date';
            const postContent = post.content || '';
            const likes = post.likes || [];
            const comments = post.comments || [];
            const isLiked = likes.includes(currentUser?.id || currentUser?._id);

            // Validate night data - be more flexible
            console.log('🌙 Night data validation:', {
                hasSessionDuration: !!nightData.sessionDuration,
                hasSessionStart: !!nightData.sessionStart,
                hasTotalDrinks: !!nightData.totalDrinks,
                hasFinalBAC: !!nightData.finalBAC,
                hasTotalStandards: !!nightData.totalStandards,
                sessionDuration: nightData.sessionDuration,
                totalDrinks: nightData.totalDrinks,
                finalBAC: nightData.finalBAC
            });
            
            if (!nightData.sessionDuration && !nightData.totalDrinks) {
                console.warn('⚠️ Invalid night data - missing both sessionDuration and totalDrinks:', nightData);
                return `
                    <div class="post error-post">
                        <div class="post-content">
                            <p><i class="fas fa-exclamation-triangle"></i> Invalid night session data</p>
                            <small style="color: rgba(255,255,255,0.6);">Debug: ${JSON.stringify(nightData).substring(0, 200)}...</small>
                        </div>
                    </div>
                `;
            }

            console.log('🔍 Duration calculation debug:', {
            sessionDuration: nightData.sessionDuration,
            type: typeof nightData.sessionDuration,
            isZero: nightData.sessionDuration === 0,
            isFalsy: !nightData.sessionDuration
        });
        
        const duration = nightData.sessionDuration ? 
            (nightData.sessionDuration < 60000 ? 
                `${Math.round(nightData.sessionDuration / 1000)} seconds` : 
                formatSessionDuration(Math.round(nightData.sessionDuration / (1000 * 60)))
            ) : 'Unknown duration';
            const sessionDate = nightData.sessionStart ? new Date(nightData.sessionStart).toLocaleDateString('en-AU', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            }) : 'Unknown date';
            
            return `
                <div class="post night-share-post">
                    <div class="post-header">
                        <div class="post-avatar night-share-avatar">
                            <i class="fas fa-moon"></i>
                        </div>
                        <div class="post-user-info">
                            <h4>${userName}</h4>
                            <span>${postDate}</span>
                            <div class="night-share-badge">
                                <i class="fas fa-share"></i> Shared Night Session
                            </div>
                        </div>
                    </div>
                    
                    <div class="post-content">
                        ${postContent ? `<p class="night-share-message">${postContent}</p>` : ''}
                        
                        <div class="night-share-card">
                            <div class="night-share-header">
                                <h3><i class="fas fa-moon"></i> Night Session</h3>
                                <span class="night-share-date">${sessionDate}</span>
                            </div>
                            
                            <div class="night-share-stats">
                                <div class="night-share-stat">
                                    <i class="fas fa-clock"></i>
                                    <div>
                                        <span class="stat-label">Duration</span>
                                        <span class="stat-value">${duration}</span>
                                    </div>
                                </div>
                                <div class="night-share-stat">
                                    <i class="fas fa-wine-glass-alt"></i>
                                    <div>
                                        <span class="stat-label">Drinks</span>
                                        <span class="stat-value">${nightData.totalDrinks || 0}</span>
                                    </div>
                                </div>
                                <div class="night-share-stat">
                                    <i class="fas fa-chart-line"></i>
                                    <div>
                                        <span class="stat-label">Standards</span>
                                        <span class="stat-value">${(nightData.totalStandards || 0).toFixed(1)}</span>
                                    </div>
                                </div>
                                <div class="night-share-stat">
                                    <i class="fas fa-tint"></i>
                                    <div>
                                        <span class="stat-label">Final BAC</span>
                                        <span class="stat-value">${(nightData.finalBAC || 0).toFixed(3)}%</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="night-share-drinks">
                                <h4>Drinks Consumed</h4>
                                <div class="night-share-drinks-list">
                                    ${(nightData.drinks || []).map(drink => `
                                        <span class="night-share-drink">
                                            <i class="fas fa-wine-glass-alt"></i>
                                            ${drink.name}
                                        </span>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="post-actions">
                        <button class="action-btn ${isLiked ? 'liked' : ''}" 
                                onclick="toggleLike('${post._id}')">
                            <i class="fas fa-heart"></i> ${likes.length}
                        </button>
                        <button class="action-btn" onclick="showComments('${post._id}')">
                            <i class="fas fa-comment"></i> ${comments.length}
                        </button>
                        <button class="action-btn" onclick="showNightDetails('${post._id}')">
                            <i class="fas fa-info-circle"></i> Details
                        </button>
                    </div>
                </div>
            `;
        }

        function showNightDetails(postId) {
            const post = feedPosts.find(p => p._id === postId);
            if (!post || post.type !== 'night_share') {
                showNotification('Night details not found', 'error');
                return;
            }

            const nightData = post.nightData;
            const sessionStart = new Date(nightData.sessionStart);
            const sessionEnd = new Date(nightData.sessionEnd);
            
            const detailsHTML = `
                <div class="night-details-modal">
                    <div class="night-details-content">
                        <h2><i class="fas fa-moon"></i> Night Session Details</h2>
                        <p class="night-details-date">${sessionStart.toLocaleDateString('en-AU', {
                            weekday: 'long',
                            year: 'numeric',
                            month: 'long',
                            day: 'numeric'
                        })}</p>
                        
                        <div class="night-details-grid">
                            <div class="night-detail-item">
                                <i class="fas fa-clock"></i>
                                <div>
                                    <span class="detail-label">Start Time</span>
                                    <span class="detail-value">${sessionStart.toLocaleTimeString()}</span>
                                </div>
                            </div>
                            <div class="night-detail-item">
                                <i class="fas fa-clock"></i>
                                <div>
                                    <span class="detail-label">End Time</span>
                                    <span class="detail-value">${sessionEnd.toLocaleTimeString()}</span>
                                </div>
                            </div>
                            <div class="night-detail-item">
                                <i class="fas fa-hourglass-half"></i>
                                <div>
                                    <span class="detail-label">Duration</span>
                                    <span class="detail-value">${nightData.sessionDuration < 60000 ? 
                            `${Math.round(nightData.sessionDuration / 1000)} seconds` : 
                            formatSessionDuration(Math.round(nightData.sessionDuration / (1000 * 60)))
                        }</span>
                                </div>
                            </div>
                            <div class="night-detail-item">
                                <i class="fas fa-wine-glass-alt"></i>
                                <div>
                                    <span class="detail-label">Total Drinks</span>
                                    <span class="detail-value">${nightData.totalDrinks}</span>
                                </div>
                            </div>
                            <div class="night-detail-item">
                                <i class="fas fa-chart-line"></i>
                                <div>
                                    <span class="detail-label">Standard Drinks</span>
                                    <span class="detail-value">${nightData.totalStandards.toFixed(1)}</span>
                                </div>
                            </div>
                            <div class="night-detail-item">
                                <i class="fas fa-tint"></i>
                                <div>
                                    <span class="detail-label">Final BAC</span>
                                    <span class="detail-value">${nightData.finalBAC.toFixed(3)}%</span>
                                </div>
                            </div>
                            <div class="night-detail-item">
                                <i class="fas fa-fire"></i>
                                <div>
                                    <span class="detail-label">Calories</span>
                                    <span class="detail-value">${nightData.totalCalories}</span>
                                </div>
                            </div>
                            <div class="night-detail-item">
                                <i class="fas fa-bread-slice"></i>
                                <div>
                                    <span class="detail-label">Carbs</span>
                                    <span class="detail-value">${nightData.totalCarbs}g</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="night-details-drinks">
                            <h3>Drink Timeline</h3>
                            <div class="drink-timeline">
                                ${(nightData.drinks || []).map((drink, index) => {
                                    const drinkTime = new Date(drink.time);
                                    return `
                                        <div class="drink-timeline-item">
                                            <div class="drink-timeline-time">${drinkTime.toLocaleTimeString()}</div>
                                            <div class="drink-timeline-content">
                                                <span class="drink-name">${drink.name}</span>
                                                <span class="drink-standards">${drink.standardDrinks} standards</span>
                                            </div>
                                        </div>
                                    `;
                                }).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // Create modal
            const modal = document.createElement('div');
            modal.className = 'night-details-overlay';
            modal.innerHTML = detailsHTML;
            modal.onclick = () => modal.remove();
            
            const content = modal.querySelector('.night-details-content');
            content.onclick = (e) => e.stopPropagation();
            
            document.body.appendChild(modal);
        }

        // Convert drink tracking data to displayable posts
        async function convertDrinkDataToPosts(drinkData) {
            console.log('🔄 Starting drink data conversion...');
            console.log('📊 Input drink data:', drinkData);
            try {
                const posts = [];
                const currentUserId = getCurrentUser()?.id || getCurrentUser()?._id;
                console.log('👤 Current user ID:', currentUserId);
                
                for (const drink of drinkData) {
                    console.log('🍺 Processing drink:', drink);
                    console.log('🍺 Drink user ID:', drink.userId);
                    console.log('🍺 Is this my drink?', drink.userId === currentUserId);
                    
                    // Get user info for this drink
                    const user = await getUserInfo(drink.userId);
                    
                    const post = {
                        _id: drink._id,
                        type: 'drink_session',
                        user: {
                            name: user ? user.name : 'Unknown User',
                            email: user ? user.email : 'unknown@example.com'
                        },
                        createdAt: drink.createdAt || drink.date || new Date(),
                        content: `Had a drink session with ${drink.sessionStats.totalDrinks} drinks`,
                        sessionStats: drink.sessionStats,
                        drinkId: drink.drinkId,
                        image: drink.image,
                        likes: [],
                        comments: [],
                        isMyPost: drink.userId === currentUserId
                    };
                    
                    posts.push(post);
                }
                
                console.log('📝 Final converted posts:', posts);
                return posts;
            } catch (error) {
                console.error('Error converting drink data:', error);
                return [];
            }
        }

        // Get user info by ID
        async function getUserInfo(userId) {
            try {
                const token = localStorage.getItem('token');
                const response = await fetch(`${API_BASE_URL}/users/${userId}`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    return data.user;
                }
            } catch (error) {
                console.error('Error getting user info:', error);
            }
            return null;
        }

        // Helper function to show empty feed with create button
        function showEmptyFeedWithCreateButton() {
            const container = document.getElementById('feed-container');
            if (container) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-users"></i>
                        <h3>No Posts Yet</h3>
                        <p>Be the first to share your drink experiences with friends!</p>
                        <div class="empty-state-actions">
                            <button class="btn primary-btn" onclick="showCreatePostModal()">
                                <i class="fas fa-plus"></i> Create First Post
                            </button>
                            <button class="btn secondary-btn" onclick="showPage('dashboard-page')">
                                <i class="fas fa-chart-line"></i> Track Your Night
                            </button>
                            <button class="btn secondary-btn" onclick="showPage('history-page')">
                                <i class="fas fa-history"></i> Share Saved Nights
                            </button>
                        </div>
                        <div class="empty-state-tips">
                            <h4>💡 Tips to get started:</h4>
                            <ul>
                                <li>Use the Night Tracker to record your drinking sessions</li>
                                <li>Share your saved nights to the social feed</li>
                                <li>Add friends to see their posts</li>
                                <li>Like and comment on posts from your friends</li>
                            </ul>
                        </div>
                    </div>
                `;
            }
        }

        function renderDrinkSessionPost(post) {
            // Debug: Log the actual post structure
            console.log('🔍 Rendering drink session post:', post);
            
            const userName = post.user.name || 'Unknown User';
            const userInitial = userName.charAt(0).toUpperCase();
            const postDate = post.createdAt ? formatDate(post.createdAt) : 'Unknown date';
            const sessionStats = post.sessionStats || {};
            
            return `
                <div class="post drink-session-post">
                    <div class="post-header">
                        <div class="post-avatar drink-session-avatar">
                            <i class="fas fa-wine-glass-alt"></i>
                        </div>
                        <div class="post-user-info">
                            <h4>${userName}</h4>
                            <span>${postDate}</span>
                            <div class="drink-session-badge">
                                <i class="fas fa-chart-line"></i> Drink Session
                            </div>
                        </div>
                    </div>
                    
                    <div class="post-content">
                        <p class="drink-session-message">${post.content}</p>
                        
                        <div class="drink-session-card">
                            <div class="drink-session-header">
                                <h3><i class="fas fa-wine-glass-alt"></i> Session Stats</h3>
                            </div>
                            
                            <div class="drink-session-stats">
                                <div class="drink-session-stat">
                                    <i class="fas fa-wine-glass-alt"></i>
                                    <div>
                                        <span class="stat-label">Total Drinks</span>
                                        <span class="stat-value">${sessionStats.totalDrinks || 0}</span>
                                    </div>
                                </div>
                                <div class="drink-session-stat">
                                    <i class="fas fa-tint"></i>
                                    <div>
                                        <span class="stat-label">BAC</span>
                                        <span class="stat-value">${(sessionStats.totalBAC || 0).toFixed(3)}%</span>
                                    </div>
                                </div>
                                <div class="drink-session-stat">
                                    <i class="fas fa-clock"></i>
                                    <div>
                                        <span class="stat-label">Duration</span>
                                        <span class="stat-value">${(sessionStats.sessionDuration || 0) < 60000 ? 
                            `${Math.round((sessionStats.sessionDuration || 0) / 1000)} seconds` : 
                            formatSessionDuration(Math.round((sessionStats.sessionDuration || 0) / (1000 * 60)))
                        }</span>
                                    </div>
                                </div>
                            </div>
                            
                            ${post.image && post.image.url ? `
                                <div class="drink-session-image">
                                    <img src="${post.image.url}" alt="Drink" style="max-width: 100%; border-radius: 10px;">
                                </div>
                            ` : ''}
                        </div>
                    </div>
                    
                    <div class="post-actions">
                        <button class="action-btn" onclick="showDrinkDetails('${post._id}')">
                            <i class="fas fa-info-circle"></i> Details
                        </button>
                        <button class="action-btn" onclick="shareDrinkSession('${post._id}')">
                            <i class="fas fa-share"></i> Share
                        </button>
                    </div>
                </div>
            `;
        }

        function showDrinkDetails(postId) {
            const post = feedPosts.find(p => p._id === postId);
            if (!post || post.type !== 'drink_session') {
                showNotification('Drink details not found', 'error');
                return;
            }

            const sessionStats = post.sessionStats || {};
            
            const detailsHTML = `
                <div class="drink-details-modal">
                    <div class="drink-details-content">
                        <h2><i class="fas fa-wine-glass-alt"></i> Drink Session Details</h2>
                        <p class="drink-details-date">${formatDate(post.createdAt)}</p>
                        
                        <div class="drink-details-grid">
                            <div class="drink-detail-item">
                                <i class="fas fa-wine-glass-alt"></i>
                                <div>
                                    <span class="detail-label">Total Drinks</span>
                                    <span class="detail-value">${sessionStats.totalDrinks || 0}</span>
                                </div>
                            </div>
                            <div class="drink-detail-item">
                                <i class="fas fa-tint"></i>
                                <div>
                                    <span class="detail-label">BAC Level</span>
                                    <span class="detail-value">${(sessionStats.totalBAC || 0).toFixed(3)}%</span>
                                </div>
                            </div>
                            <div class="drink-detail-item">
                                <i class="fas fa-clock"></i>
                                <div>
                                    <span class="detail-label">Session Duration</span>
                                    <span class="detail-value">${(sessionStats.sessionDuration || 0) < 60000 ? 
                            `${Math.round((sessionStats.sessionDuration || 0) / 1000)} seconds` : 
                            formatSessionDuration(Math.round((sessionStats.sessionDuration || 0) / (1000 * 60)))
                        }</span>
                                </div>
                            </div>
                        </div>
                        
                        ${post.image && post.image.url ? `
                            <div class="drink-details-image">
                                <h3>Drink Image</h3>
                                <img src="${post.image.url}" alt="Drink" style="max-width: 100%; border-radius: 10px;">
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;

            // Create modal
            const modal = document.createElement('div');
            modal.className = 'drink-details-overlay';
            modal.innerHTML = detailsHTML;
            modal.onclick = () => modal.remove();
            
            const content = modal.querySelector('.drink-details-content');
            content.onclick = (e) => e.stopPropagation();
            
            document.body.appendChild(modal);
        }

        function shareDrinkSession(postId) {
            showNotification('Sharing drink sessions coming soon!', 'info');
        }

        // Function to share your saved nights
        function shareMySavedNights() {
            const savedNights = JSON.parse(localStorage.getItem('savedNights') || '[]');
            
            console.log('🔍 Saved nights in localStorage:', savedNights);
            console.log('🔍 Number of saved nights:', savedNights.length);
            
            if (savedNights.length === 0) {
                showNotification('No saved nights found. Use the Night Tracker first!', 'error');
                return;
            }

            // Show a modal to select which night to share
            const modal = document.createElement('div');
            modal.className = 'share-nights-modal';
            modal.innerHTML = `
                <div class="share-nights-content">
                    <h2><i class="fas fa-share"></i> Share Your Nights</h2>
                    <p>Select a saved night to share to the social feed:</p>
                    
                    <div class="saved-nights-list">
                        ${savedNights.map((night, index) => {
                            const date = new Date(night.date);
                            const formattedDate = date.toLocaleDateString('en-AU', {
                                weekday: 'long',
                                year: 'numeric',
                                month: 'long',
                                day: 'numeric'
                            });
                            
                            return `
                                <div class="saved-night-item" onclick="shareSavedNight('${night.id}')">
                                    <div class="night-info">
                                        <h4>Night Session ${index + 1}</h4>
                                        <p>${formattedDate}</p>
                                        <small>${night.sessionData.drinks.length} drinks • ${night.sessionData.totalStandards.toFixed(1)} standards</small>
                                    </div>
                                    <button class="share-night-btn">
                                        <i class="fas fa-share"></i> Share
                                    </button>
                                </div>
                            `;
                        }).join('')}
                    </div>
                    
                    <button class="btn secondary-btn" onclick="this.closest('.share-nights-modal').remove()">
                        Cancel
                    </button>
                </div>
            `;
            
            modal.onclick = (e) => {
                if (e.target === modal) modal.remove();
            };
            
            document.body.appendChild(modal);
        }

        function shareSavedNight(nightId) {
            // Find the saved night
            const savedNights = JSON.parse(localStorage.getItem('savedNights') || '[]');
            const night = savedNights.find(n => n.id === nightId);
            
            if (!night) {
                showNotification('Night session not found', 'error');
                return;
            }

            // Show the share night modal
            showShareNightModal(nightId);
            
            // Remove the selection modal
            const modal = document.querySelector('.share-nights-modal');
            if (modal) modal.remove();
        }

        // Function to clear old posts
        async function clearOldPosts() {
            const token = localStorage.getItem('token');
            if (!token) {
                showNotification('Please sign in first', 'error');
                return;
            }
            
            try {
                // Get all posts
                const response = await fetch(`${API_BASE_URL}/social/feed`, {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    const posts = data.posts || [];
                    
                    // Delete all posts
                    for (const post of posts) {
                        await fetch(`${API_BASE_URL}/social/posts/${post._id}`, {
                            method: 'DELETE',
                            headers: {
                                'Authorization': `Bearer ${token}`
                            }
                        });
                    }
                    
                    showNotification(`Cleared ${posts.length} old posts`, 'success');
                    setTimeout(() => {
                        loadSocialFeed();
                    }, 1000);
                }
            } catch (error) {
                console.error('Error clearing posts:', error);
                showNotification('Error clearing posts', 'error');
            }
        }

        // Debug function to check your data
        function debugMyData() {
            console.log('🔍 === DEBUGGING YOUR DATA ===');
            console.log('🐛 Debug button clicked! Function is working.');
            
            // Check current user
            const currentUser = getCurrentUser();
            console.log('👤 Current user:', currentUser);
            
            // Check saved nights
            const savedNights = JSON.parse(localStorage.getItem('savedNights') || '[]');
            console.log('🌙 Saved nights:', savedNights);
            console.log('🌙 Number of saved nights:', savedNights.length);
            
            // Check if you're logged in
            const token = localStorage.getItem('token');
            console.log('🔑 Token exists:', !!token);
            
            // Check API URL
            console.log('🌐 API URL:', API_BASE_URL);
            
            // Add test share button if you have saved nights
            if (savedNights.length > 0) {
                const debugInfo = `
                    <div class="debug-modal">
                        <div class="debug-content">
                            <h2><i class="fas fa-bug"></i> Debug Information</h2>
                            
                            <div class="debug-section">
                                <h3>👤 Current User</h3>
                                <pre>${JSON.stringify(currentUser, null, 2)}</pre>
                            </div>
                            
                            <div class="debug-section">
                                <h3>🌙 Saved Nights (${savedNights.length})</h3>
                                <pre>${JSON.stringify(savedNights, null, 2)}</pre>
                            </div>
                            
                            <div class="debug-section">
                                <h3>🔑 Authentication</h3>
                                <p>Token exists: ${!!token}</p>
                                <p>API URL: ${API_BASE_URL}</p>
                            </div>
                            
                            <div class="debug-section">
                                <h3>🧪 Test Actions</h3>
                                <button class="btn primary-btn" onclick="testShareNight()">
                                    <i class="fas fa-share"></i> Test Share First Night
                                </button>
                                <button class="btn primary-btn" onclick="shareAllSavedNights()">
                                    <i class="fas fa-upload"></i> Share ALL Saved Nights
                                </button>
                                <button class="btn secondary-btn" onclick="forceRefreshFeed()">
                                    <i class="fas fa-sync-alt"></i> Force Refresh Feed
                                </button>
                                <button class="btn danger-btn" onclick="clearOldPosts()">
                                    <i class="fas fa-trash"></i> Clear Old Posts
                                </button>
                                <button class="btn primary-btn" onclick="createTestPost()">
                                    <i class="fas fa-flask"></i> Create Test Post (30s)
                                </button>
                            </div>
                            
                            <button class="btn primary-btn" onclick="this.closest('.debug-modal').remove()">
                                Close
                            </button>
                        </div>
                    </div>
                `;
                
                const modal = document.createElement('div');
                modal.innerHTML = debugInfo;
                modal.onclick = (e) => {
                    if (e.target === modal) modal.remove();
                };
                
                document.body.appendChild(modal);
            } else {
                showNotification('No saved nights found. Use the Night Tracker first!', 'info');
            }
        }

        // Test function to create a post with known duration
        async function createTestPost() {
            const token = localStorage.getItem('token');
            if (!token) {
                showNotification('Please sign in first', 'error');
                return;
            }
            
            try {
                // Create a test post with a known duration (30 seconds)
                const postData = {
                    type: 'night_share',
                    content: 'Test post with 30 second duration',
                    privacy: 'friends',
                    sessionStats: {
                        sessionDuration: 30000, // 30 seconds in milliseconds
                        totalDrinks: 2,
                        totalStandards: 2.5,
                        finalBAC: 0.045,
                        totalCalories: 300,
                        totalCarbs: 25,
                        totalLiquid: 750,
                        sessionStart: new Date(Date.now() - 30000).toISOString(),
                        sessionEnd: new Date().toISOString(),
                        totalBAC: 0.045,
                        totalStandards: 2.5,
                        drinks: [
                            { name: 'Test Beer', time: new Date().toISOString(), standardDrinks: 1.2 },
                            { name: 'Test Wine', time: new Date().toISOString(), standardDrinks: 1.3 }
                        ]
                    }
                };
                
                console.log('🧪 Creating test post with data:', postData);
                console.log('🧪 Post type:', postData.type);
                console.log('🧪 Session stats:', postData.sessionStats);
                
                console.log('🧪 Creating test post with data:', postData);
                
                const response = await fetch(`${API_BASE_URL}/social/posts`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(postData)
                });
                
                if (response.ok) {
                    showNotification('Test post created successfully!', 'success');
                    setTimeout(() => {
                        loadSocialFeed();
                    }, 1000);
                } else {
                    const error = await response.json();
                    console.error('❌ Error creating test post:', error);
                    showNotification('Error creating test post', 'error');
                }
            } catch (error) {
                console.error('❌ Error creating test post:', error);
                showNotification('Error creating test post', 'error');
            }
        }

        // Test function to share a night programmatically
        async function testShareNight() {
            const savedNights = JSON.parse(localStorage.getItem('savedNights') || '[]');
            if (savedNights.length === 0) {
                showNotification('No saved nights to share', 'error');
                return;
            }

            const night = savedNights[0]; // Use the first saved night
            console.log('🧪 Testing night share with:', night);

                            try {
                    // Create a simple post with all the night data
                    // Calculate session duration from start and end times
                    const sessionStart = new Date(night.sessionData.sessionStart);
                    const sessionEnd = new Date(night.sessionData.sessionEnd);
                    const calculatedDuration = sessionEnd - sessionStart;
                    
                    const postData = {
                        type: 'night_share',
                        content: `Shared my night out from ${new Date(night.date).toLocaleDateString()}`,
                        privacy: 'friends',
                        sessionStats: {
                            sessionDuration: calculatedDuration,
                            totalDrinks: night.sessionData.drinks.length,
                            totalStandards: night.sessionData.totalStandards,
                            finalBAC: night.sessionData.finalBAC,
                            totalCalories: night.sessionData.totalCalories,
                            totalCarbs: night.sessionData.totalCarbs,
                            totalLiquid: night.sessionData.totalLiquid,
                            drinks: night.sessionData.drinks.map(drink => ({
                                name: drink.name,
                                time: drink.time,
                                standardDrinks: drink.standardDrinks
                            })),
                            sessionStart: night.sessionData.sessionStart,
                            sessionEnd: night.sessionData.sessionEnd,
                            // Add these fields that the renderer expects
                            totalBAC: night.sessionData.finalBAC,
                            totalStandards: night.sessionData.totalStandards
                        }
                    };
                    
                    console.log(`🔍 Field mapping debug for night ${i + 1}:`);
                    console.log(`  - sessionDuration: ${night.sessionData.sessionDuration}`);
                    console.log(`  - totalStandards: ${night.sessionData.totalStandards}`);
                    console.log(`  - finalBAC: ${night.sessionData.finalBAC}`);
                    console.log(`  - drinks.length: ${night.sessionData.drinks.length}`);
                    console.log(`  - sessionStart: ${night.sessionData.sessionStart}`);
                    console.log(`  - sessionEnd: ${night.sessionData.sessionEnd}`);

                    const token = localStorage.getItem('token');
                    console.log(`📤 Post data for night ${i + 1}:`, postData);

                const response = await fetch(`${API_BASE_URL}/social/posts`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(postData)
                });

                console.log('🧪 Test response status:', response.status);

                if (response.ok) {
                    const result = await response.json();
                    console.log('✅ Test share successful:', result);
                    showNotification('Test night shared successfully!', 'success');
                    
                    // Close debug modal and refresh feed
                    const modal = document.querySelector('.debug-modal');
                    if (modal) modal.remove();
                    
                    // Force refresh the feed
                    setTimeout(() => {
                        loadSocialFeed();
                    }, 1000);
                } else {
                    const error = await response.json();
                    console.error('❌ Test share failed:', error);
                    showNotification('Test share failed: ' + (error.message || 'Unknown error'), 'error');
                }
            } catch (error) {
                console.error('❌ Test share error:', error);
                showNotification('Test share error: ' + error.message, 'error');
            }
        }

        // Force refresh feed function
        async function forceRefreshFeed() {
            console.log('🔄 Force refreshing social feed...');
            feedPosts = []; // Clear current posts
            await loadSocialFeed();
            showNotification('Feed refreshed!', 'success');
        }

        // Share all saved nights function
        async function shareAllSavedNights() {
            const savedNights = JSON.parse(localStorage.getItem('savedNights') || '[]');
            if (savedNights.length === 0) {
                showNotification('No saved nights to share', 'error');
                return;
            }

            console.log('📤 Sharing all saved nights:', savedNights.length);
            console.log('🌙 Saved nights data:', savedNights);
            showNotification(`Sharing ${savedNights.length} saved nights...`, 'info');

            const token = localStorage.getItem('token');
            let successCount = 0;

            for (let i = 0; i < savedNights.length; i++) {
                const night = savedNights[i];
                console.log(`🌙 Processing night ${i + 1}:`, night);
                console.log(`🌙 Session data:`, night.sessionData);
                
                // Add field mapping debug
                console.log(`🔍 Field mapping debug for night ${i + 1}:`);
                console.log(`  - sessionDuration: ${night.sessionData.sessionDuration}`);
                console.log(`  - totalStandards: ${night.sessionData.totalStandards}`);
                console.log(`  - finalBAC: ${night.sessionData.finalBAC}`);
                console.log(`  - drinks.length: ${night.sessionData.drinks.length}`);
                console.log(`  - sessionStart: ${night.sessionData.sessionStart}`);
                console.log(`  - sessionEnd: ${night.sessionData.sessionEnd}`);
                console.log(`  - totalCalories: ${night.sessionData.totalCalories}`);
                console.log(`  - totalCarbs: ${night.sessionData.totalCarbs}`);
                console.log(`  - totalLiquid: ${night.sessionData.totalLiquid}`);
                
                try {
                    // Calculate session duration from start and end times
                    const sessionStart = new Date(night.sessionData.sessionStart);
                    const sessionEnd = new Date(night.sessionData.sessionEnd);
                    const calculatedDuration = sessionEnd - sessionStart;
                    
                    const postData = {
                        type: 'night_share',
                        content: `Shared my night out from ${new Date(night.date).toLocaleDateString()}`,
                        privacy: 'friends',
                        sessionStats: {
                            sessionDuration: calculatedDuration,
                            totalDrinks: night.sessionData.drinks.length,
                            totalStandards: night.sessionData.totalStandards,
                            finalBAC: night.sessionData.finalBAC,
                            totalCalories: night.sessionData.totalCalories,
                            totalCarbs: night.sessionData.totalCarbs,
                            totalLiquid: night.sessionData.totalLiquid,
                            drinks: night.sessionData.drinks.map(drink => ({
                                name: drink.name,
                                time: drink.time,
                                standardDrinks: drink.standardDrinks
                            })),
                            sessionStart: night.sessionData.sessionStart,
                            sessionEnd: night.sessionData.sessionEnd,
                            // Add these fields that the renderer expects
                            totalBAC: night.sessionData.finalBAC,
                            totalStandards: night.sessionData.totalStandards
                        }
                    };
                    
                    console.log(`📤 Post data for night ${i + 1}:`, postData);
                    console.log(`📤 Session stats being sent:`, postData.sessionStats);

                    const response = await fetch(`${API_BASE_URL}/social/posts`, {
                        method: 'POST',
                        headers: {
                            'Authorization': `Bearer ${token}`,
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(postData)
                    });

                    if (response.ok) {
                        successCount++;
                        console.log(`✅ Shared night ${i + 1}/${savedNights.length}`);
                    } else {
                        console.error(`❌ Failed to share night ${i + 1}:`, response.status);
                    }

                    // Small delay between requests
                    await new Promise(resolve => setTimeout(resolve, 500));
                } catch (error) {
                    console.error(`❌ Error sharing night ${i + 1}:`, error);
                }
            }

            showNotification(`Successfully shared ${successCount}/${savedNights.length} nights!`, 'success');
            
            // Refresh the feed
            setTimeout(() => {
                loadSocialFeed();
            }, 1000);
        }

        // Comments Function
        function showComments(postId) {
            // For now, show a simple notification
            // This can be expanded later to show a comments modal
            showNotification('Comments feature coming soon!', 'info');
            
            // TODO: Implement comments modal
            // - Show comments for the post
            // - Allow adding new comments
            // - Real-time updates
        }

        // Friends Functions
        async function loadFriends() {
            if (!currentUser) {
                await initializeSocial();
            }

            const token = localStorage.getItem('token');
            if (!token) return;

            try {
                const response = await fetch(`${API_BASE_URL}/social/friends`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });

                if (response.ok) {
                    const data = await response.json();
                    friends = data.friends;
                    renderFriends();
                }
            } catch (error) {
                console.error('Error loading friends:', error);
                showNotification('Error loading friends', 'error');
            }
        }

        async function loadFriendRequests() {
            if (!currentUser) {
                await initializeSocial();
            }

            const token = localStorage.getItem('token');
            if (!token) return;

            try {
                const response = await fetch(`${API_BASE_URL}/social/friend-requests`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });

                if (response.ok) {
                    const data = await response.json();
                    friendRequests = data.friendRequests;
                    renderFriendRequests();
                }
            } catch (error) {
                console.error('Error loading friend requests:', error);
                showNotification('Error loading friend requests', 'error');
            }
        }

        function renderFriends() {
            const container = document.getElementById('friends-container');
            if (!container) return;

            if (friends.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-user-friends"></i>
                        <h3>No friends yet</h3>
                        <p>Start connecting with other BevyFinder users!</p>
                        <button class="btn primary-btn" onclick="switchToFindFriends()">
                            <i class="fas fa-search"></i> Find Friends
                        </button>
                    </div>
                `;
                return;
            }

            container.innerHTML = friends.map(friend => `
                <div class="friend-item">
                    <div class="friend-info">
                        <div class="friend-avatar">${friend.name.charAt(0).toUpperCase()}</div>
                        <div class="friend-details">
                            <h4>${friend.name}</h4>
                            <span>Last active: ${formatDate(friend.stats?.lastActive)}</span>
                        </div>
                    </div>
                    <div class="friend-actions">
                        <button class="btn secondary-btn" onclick="viewFriendProfile('${friend.id}')">
                            <i class="fas fa-user"></i> Profile
                        </button>
                        <button class="btn secondary-btn" onclick="removeFriend('${friend.id}')">
                            <i class="fas fa-user-minus"></i> Remove
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function renderFriendRequests() {
            const container = document.getElementById('requests-container');
            if (!container) return;

            if (friendRequests.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-user-plus"></i>
                        <h3>No friend requests</h3>
                        <p>When someone sends you a friend request, it will appear here.</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = friendRequests.map(request => `
                <div class="request-item">
                    <div class="friend-info">
                        <div class="friend-avatar">${request.from.name.charAt(0).toUpperCase()}</div>
                        <div class="friend-details">
                            <h4>${request.from.name}</h4>
                            <span>Sent ${formatDate(request.date)}</span>
                        </div>
                    </div>
                    <div class="friend-actions">
                        <button class="btn primary-btn" onclick="acceptFriendRequest('${request.from.id}')">
                            <i class="fas fa-check"></i> Accept
                        </button>
                        <button class="btn secondary-btn" onclick="declineFriendRequest('${request.from.id}')">
                            <i class="fas fa-times"></i> Decline
                        </button>
                    </div>
                </div>
            `).join('');
        }

        async function searchUsers() {
            const query = document.getElementById('friend-search').value.trim();
            console.log('🔍 Searching for users with query:', query);
            
            if (query.length < 2) {
                showNotification('Please enter at least 2 characters', 'error');
                return;
            }

            const token = localStorage.getItem('token');
            if (!token) {
                console.error('❌ No token found for search');
                return;
            }

            try {
                const url = `${API_BASE_URL}/social/search-users?query=${encodeURIComponent(query)}`;
                console.log('📤 Searching users at:', url);
                
                const response = await fetch(url, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });

                console.log('📥 Search response status:', response.status);
                
                if (response.ok) {
                    const data = await response.json();
                    console.log('✅ Search results:', data);
                    renderSearchResults(data.users);
                } else {
                    const error = await response.json();
                    console.error('❌ Search error:', error);
                    showNotification('Error searching users', 'error');
                }
            } catch (error) {
                console.error('❌ Error searching users:', error);
                showNotification('Error searching users', 'error');
            }
        }

        function renderSearchResults(users) {
            const container = document.getElementById('search-results');
            if (!container) return;

            if (users.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-search"></i>
                        <h3>No users found</h3>
                        <p>Try searching with a different name or email.</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = users.map(user => `
                <div class="user-item">
                    <div class="friend-info">
                        <div class="friend-avatar">${user.name.charAt(0).toUpperCase()}</div>
                        <div class="friend-details">
                            <h4>${user.name}</h4>
                            <span>${user.email}</span>
                        </div>
                    </div>
                    <div class="friend-actions">
                        <button class="btn primary-btn" onclick="sendFriendRequest('${user.id}')">
                            <i class="fas fa-user-plus"></i> Add Friend
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Leaderboard Functions
        async function loadLeaderboard(type = 'totalDrinks') {
            const token = localStorage.getItem('token');
            if (!token) return;

            try {
                const response = await fetch(`${API_BASE_URL}/social/leaderboards?type=${type}`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });

                if (response.ok) {
                    const data = await response.json();
                    leaderboardData[type] = data.leaderboard.users;
                    renderLeaderboard(type);
                }
            } catch (error) {
                console.error('Error loading leaderboard:', error);
                showNotification('Error loading leaderboard', 'error');
            }
        }

        function renderLeaderboard(type) {
            const container = document.getElementById('leaderboard-container');
            if (!container) return;

            const users = leaderboardData[type] || [];
            const typeLabels = {
                totalDrinks: 'Total Drinks',
                totalSessions: 'Total Sessions',
                longestSession: 'Longest Session (min)',
                searches: 'Total Searches'
            };

            if (users.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-trophy"></i>
                        <h3>No leaderboard data</h3>
                        <p>Start using BevyFinder to appear on the leaderboards!</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = users.map((user, index) => `
                <div class="leaderboard-item">
                    <div class="leaderboard-rank rank-${index < 3 ? index + 1 : 'other'}">
                        ${index + 1}
                    </div>
                    <div class="leaderboard-user">
                        <div class="friend-avatar">${user.name.charAt(0).toUpperCase()}</div>
                        <div class="friend-details">
                            <h4>${user.name}</h4>
                            <span>Last active: ${formatDate(user.stats?.lastActive)}</span>
                        </div>
                    </div>
                    <div class="leaderboard-stats">
                        <div class="stat-value">${user.stats[type] || 0}</div>
                        <div class="stat-label">${typeLabels[type]}</div>
                    </div>
                </div>
            `).join('');
        }

        // Social Action Functions
        async function sendFriendRequest(userId) {
            console.log('🔍 sendFriendRequest called with userId:', userId);
            const token = localStorage.getItem('token');
            if (!token) {
                console.error('❌ No token found');
                return;
            }

            try {
                console.log('📤 Sending friend request to:', userId);
                const response = await fetch(`${API_BASE_URL}/social/friend-request/send`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ targetUserId: userId })
                });

                console.log('📥 Response status:', response.status);
                
                if (response.ok) {
                    const result = await response.json();
                    console.log('✅ Friend request sent successfully:', result);
                    showNotification('Friend request sent!', 'success');
                    searchUsers(); // Refresh search results
                } else {
                    const error = await response.json();
                    console.error('❌ Error response:', error);
                    showNotification(error.message || 'Error sending friend request', 'error');
                }
            } catch (error) {
                console.error('❌ Error sending friend request:', error);
                showNotification('Error sending friend request', 'error');
            }
        }

        async function acceptFriendRequest(userId) {
            const token = localStorage.getItem('token');
            if (!token) return;

            try {
                const response = await fetch(`${API_BASE_URL}/social/friend-request/accept`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ fromUserId: userId })
                });

                if (response.ok) {
                    showNotification('Friend request accepted!', 'success');
                    loadFriendRequests();
                    loadFriends();
                } else {
                    const error = await response.json();
                    showNotification(error.message || 'Error accepting friend request', 'error');
                }
            } catch (error) {
                console.error('Error accepting friend request:', error);
                showNotification('Error accepting friend request', 'error');
            }
        }

        async function declineFriendRequest(userId) {
            const token = localStorage.getItem('token');
            if (!token) return;

            try {
                const response = await fetch(`${API_BASE_URL}/social/friend-request/decline`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ fromUserId: userId })
                });

                if (response.ok) {
                    showNotification('Friend request declined', 'info');
                    loadFriendRequests();
                } else {
                    const error = await response.json();
                    showNotification(error.message || 'Error declining friend request', 'error');
                }
            } catch (error) {
                console.error('Error declining friend request:', error);
                showNotification('Error declining friend request', 'error');
            }
        }

        async function removeFriend(userId) {
            if (!confirm('Are you sure you want to remove this friend?')) return;

            const token = localStorage.getItem('token');
            if (!token) return;

            try {
                const response = await fetch(`${API_BASE_URL}/social/friends/${userId}`, {
                    method: 'DELETE',
                    headers: { 'Authorization': `Bearer ${token}` }
                });

                if (response.ok) {
                    showNotification('Friend removed', 'info');
                    loadFriends();
                } else {
                    const error = await response.json();
                    showNotification(error.message || 'Error removing friend', 'error');
                }
            } catch (error) {
                console.error('Error removing friend:', error);
                showNotification('Error removing friend', 'error');
            }
        }

        async function toggleLike(postId) {
            const token = localStorage.getItem('token');
            if (!token) return;

            try {
                const response = await fetch(`${API_BASE_URL}/social/posts/${postId}/like`, {
                    method: 'POST',
                    headers: { 'Authorization': `Bearer ${token}` }
                });

                if (response.ok) {
                    const data = await response.json();
                    // Update the post in the feed
                    const postIndex = feedPosts.findIndex(p => p._id === postId);
                    if (postIndex !== -1) {
                        if (data.liked) {
                            feedPosts[postIndex].likes.push(currentUser.id);
                        } else {
                            feedPosts[postIndex].likes = feedPosts[postIndex].likes.filter(id => id !== currentUser.id);
                        }
                        feedPosts[postIndex].likes.length = data.likesCount;
                        renderFeed();
                    }
                }
            } catch (error) {
                console.error('Error toggling like:', error);
                showNotification('Error updating like', 'error');
            }
        }

        // Utility Functions
        function formatDate(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffMs = now - date;
            const diffMins = Math.floor(diffMs / 60000);
            const diffHours = Math.floor(diffMs / 3600000);
            const diffDays = Math.floor(diffMs / 86400000);

            if (diffMins < 1) return 'Just now';
            if (diffMins < 60) return `${diffMins}m ago`;
            if (diffHours < 24) return `${diffHours}h ago`;
            if (diffDays < 7) return `${diffDays}d ago`;
            return date.toLocaleDateString();
        }

        function switchToFindFriends() {
            const tabBtns = document.querySelectorAll('.friends-tabs .tab-btn');
            const tabContents = document.querySelectorAll('#friends-page .tab-content');
            
            tabBtns.forEach(btn => btn.classList.remove('active'));
            tabContents.forEach(content => content.classList.remove('active'));
            
            document.querySelector('[data-tab="find-friends"]').classList.add('active');
            document.getElementById('find-friends-tab').classList.add('active');
        }

        function showCreatePostModal() {
            // Simple post creation for now
            const content = prompt('What\'s on your mind? Share your drink experience:');
            if (content && content.trim()) {
                createPost(content.trim());
            }
        }

        async function createPost(content) {
            const token = localStorage.getItem('token');
            if (!token) return;

            try {
                const response = await fetch(`${API_BASE_URL}/social/posts`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ content })
                });

                if (response.ok) {
                    showNotification('Post created successfully!', 'success');
                    loadSocialFeed();
                } else {
                    const error = await response.json();
                    showNotification(error.message || 'Error creating post', 'error');
                }
            } catch (error) {
                console.error('Error creating post:', error);
                showNotification('Error creating post', 'error');
            }
        }

        // Add event listeners for social sidebar buttons
        document.addEventListener('DOMContentLoaded', function() {
            const socialBtn = document.getElementById('sidebar-btn-social');
            const friendsBtn = document.getElementById('sidebar-btn-friends');
            const leaderboardBtn = document.getElementById('sidebar-btn-leaderboard');

            if (socialBtn) {
                socialBtn.addEventListener('click', function() {
                    showPage('social-feed-page');
                    loadSocialFeed();
                    closeMenu();
                });
            }

            if (friendsBtn) {
                friendsBtn.addEventListener('click', function() {
                    showPage('friends-page');
                    loadFriends();
                    loadFriendRequests();
                    closeMenu();
                });
            }

            if (leaderboardBtn) {
                leaderboardBtn.addEventListener('click', function() {
                    showPage('leaderboard-page');
                    loadLeaderboard('totalDrinks');
                    closeMenu();
                });
            }

            // Add tab switching for friends page
            const friendsTabBtns = document.querySelectorAll('.friends-tabs .tab-btn');
            friendsTabBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const tab = this.getAttribute('data-tab');
                    
                    // Remove active class from all tabs
                    friendsTabBtns.forEach(b => b.classList.remove('active'));
                    document.querySelectorAll('#friends-page .tab-content').forEach(c => c.classList.remove('active'));
                    
                    // Add active class to clicked tab
                    this.classList.add('active');
                    document.getElementById(`${tab}-tab`).classList.add('active');
                    
                    // Load appropriate data
                    if (tab === 'friends-list') {
                        loadFriends();
                    } else if (tab === 'friend-requests') {
                        loadFriendRequests();
                    }
                });
            });

            // Add tab switching for leaderboard page
            const leaderboardTabBtns = document.querySelectorAll('.leaderboard-tabs .tab-btn');
            leaderboardTabBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const tab = this.getAttribute('data-tab');
                    
                    // Remove active class from all tabs
                    leaderboardTabBtns.forEach(b => b.classList.remove('active'));
                    
                    // Add active class to clicked tab
                    this.classList.add('active');
                    
                    // Load appropriate leaderboard
                    const typeMap = {
                        'total-drinks': 'totalDrinks',
                        'total-sessions': 'totalSessions',
                        'longest-session': 'longestSession',
                        'searches': 'searches'
                    };
                    
                    loadLeaderboard(typeMap[tab]);
                });
            });
        });
    </script>
</body>
</html> 