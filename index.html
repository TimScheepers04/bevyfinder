<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BevyFinder - Your Ultimate Drink Database</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Override for working page system */
        .page {
            min-height: 100vh;
            width: 100%;
            display: none;
            visibility: hidden;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
            overflow-y: auto;
        }

        .page.active {
            display: block;
            visibility: visible;
        }

        .welcome-page {
            padding: 20px;
        }

        .main-app, .favorites-page, .history-page, .tracking-page, .dashboard-page {
            padding: 0;
        }

        .welcome-page {
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .welcome-content {
            max-width: 600px;
            margin: 0 auto;
        }

        .container {
            width: 100%;
            max-width: none;
            margin: 0;
            padding: 0;
        }

        .btn {
            background: #ffd700;
            color: #333;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            margin: 10px;
            transition: transform 0.2s;
        }

        .btn:hover {
            transform: scale(1.05);
        }

        .primary-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            font-size: 1.2rem;
            padding: 18px 35px;
        }

        .primary-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
        }

        .secondary-btn {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: white;
            font-size: 1rem;
            padding: 12px 25px;
        }

        .secondary-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.1);
        }

        .secondary-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .primary-sidebar-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            border: 2px solid #10b981;
        }

        .primary-sidebar-btn:hover {
            background: linear-gradient(135deg, #059669, #047857);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
        }

        .night-tracker-cta {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.1));
            border: 2px solid rgba(16, 185, 129, 0.3);
            border-radius: 20px;
            padding: 30px;
            margin-top: 40px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .cta-content h3 {
            color: #10b981;
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .cta-content p {
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        /* Session Summary Popup Styles */
        .session-summary-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .session-summary-overlay.show {
            opacity: 1;
        }

        .session-summary-popup {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .session-summary-overlay.show .session-summary-popup {
            transform: scale(1);
        }

        .summary-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }

        .summary-header h2 {
            color: #ffd700;
            font-size: 1.8rem;
            margin: 0;
        }

        .close-summary-btn {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: none;
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-summary-btn:hover {
            background: rgba(239, 68, 68, 0.3);
            transform: scale(1.1);
        }

        .summary-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .summary-stat {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: transform 0.3s ease;
        }

        .summary-stat:hover {
            transform: translateY(-3px);
        }

        .summary-stat .stat-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #10b981, #059669);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            color: white;
        }

        .summary-stat .stat-content h3 {
            color: white;
            font-size: 0.9rem;
            margin: 0 0 5px 0;
            opacity: 0.8;
        }

        .summary-stat .stat-content p {
            color: #ffd700;
            font-size: 1.4rem;
            font-weight: bold;
            margin: 0;
        }

        .summary-stat .stat-content small {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.8rem;
        }

        .summary-drinks {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .summary-drinks h3 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .drinks-list {
            max-height: 200px;
            overflow-y: auto;
        }

        .summary-drink-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .summary-drink-item:last-child {
            border-bottom: none;
        }

        .drink-info {
            flex: 1;
        }

        .drink-name {
            color: white;
            font-weight: 600;
            display: block;
            margin-bottom: 3px;
        }

        .drink-time {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.8rem;
        }

        .drink-stats {
            display: flex;
            gap: 15px;
        }

        .drink-alcohol, .drink-calories {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            background: rgba(255, 255, 255, 0.1);
            padding: 4px 8px;
            border-radius: 8px;
        }

        .summary-safety {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .summary-safety h3 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .safety-warning {
            color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
            padding: 12px;
            border-radius: 10px;
            border-left: 4px solid #ef4444;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .safety-caution {
            color: #f59e0b;
            background: rgba(245, 158, 11, 0.1);
            padding: 12px;
            border-radius: 10px;
            border-left: 4px solid #f59e0b;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .safety-ok {
            color: #10b981;
            background: rgba(16, 185, 129, 0.1);
            padding: 12px;
            border-radius: 10px;
            border-left: 4px solid #10b981;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .safety-tip {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            margin: 0;
        }

        .summary-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        @media (max-width: 768px) {
            .session-summary-popup {
                padding: 20px;
                margin: 20px;
            }

            .summary-stats {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .summary-stat {
                padding: 15px;
            }

            .summary-stat .stat-content p {
                font-size: 1.2rem;
            }

            .summary-actions {
                flex-direction: column;
            }

            .drink-stats {
                flex-direction: column;
                gap: 5px;
            }
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
        }

        .empty-state i {
            font-size: 4rem;
            color: #ffd700;
            margin-bottom: 20px;
        }

        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        /* Dashboard Styles */
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #ffd700, #f59e0b);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: #333;
        }

        .stat-info {
            flex: 1;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #ffd700;
            line-height: 1;
        }

        .stat-label {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 5px;
        }

        /* Pinboard Grid */
        .pinboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .pinboard-item {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .pinboard-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(245, 158, 11, 0.1));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .pinboard-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        .pinboard-item:hover::before {
            opacity: 1;
        }

        .pinboard-item:active {
            transform: translateY(-5px);
        }

        .pinboard-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 2rem;
            color: white;
            position: relative;
            transition: transform 0.3s ease;
        }

        .pinboard-icon.premium {
            background: linear-gradient(135deg, #ffd700, #f59e0b);
            color: #333;
        }

        .pinboard-icon .premium-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ff6b6b;
            color: white;
            font-size: 0.7rem;
            padding: 4px 8px;
            border-radius: 12px;
            font-weight: bold;
        }

        .pinboard-item:hover .pinboard-icon {
            transform: scale(1.1);
        }

        .pinboard-item h3 {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: white;
            font-weight: 600;
        }

        .pinboard-item p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        /* Night Tracker Styles */
        .session-controls {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .session-info h3 {
            color: #ffd700;
            margin-bottom: 5px;
            font-size: 1.2rem;
        }

        .session-info p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
        }

        .session-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .session-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .start-session-btn {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .end-session-btn {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .reset-session-btn {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }

        .session-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .summary-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            display: flex;
            align-items: center;
            gap: 20px;
            transition: transform 0.3s ease;
        }

        .summary-card:hover {
            transform: translateY(-5px);
        }

        .card-icon {
            width: 60px;
            height: 60px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
        }

        .alcohol-card .card-icon {
            background: linear-gradient(135deg, #ffd700, #f59e0b);
        }

        .calories-card .card-icon {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .sobriety-card .card-icon {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .card-content h4 {
            color: white;
            margin-bottom: 5px;
            font-size: 1rem;
        }

        .card-content p {
            color: #ffd700;
            font-size: 1.8rem;
            font-weight: bold;
            margin: 0;
        }

        .unit {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .add-drink-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .add-drink-section h3 {
            color: #ffd700;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .add-drink-input {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .add-drink-input input {
            flex: 1;
            padding: 15px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
        }

        .add-drink-input input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .add-drink-input input:focus {
            outline: none;
            border-color: #ffd700;
        }

        .add-drink-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .add-drink-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
        }

        .drink-suggestions {
            max-height: 200px;
            overflow-y: auto;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.2);
        }

        .drink-suggestion {
            padding: 12px 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .drink-suggestion:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .drink-suggestion:last-child {
            border-bottom: none;
        }

        .drink-list-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .drink-list-section h3 {
            color: #ffd700;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .drink-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .drink-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .drink-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .drink-info {
            flex: 1;
        }

        .drink-name {
            color: white;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .drink-details {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        .drink-time {
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.8rem;
        }

        .drink-remove {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: none;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .drink-remove:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        .empty-drinks {
            text-align: center;
            padding: 40px;
            color: rgba(255, 255, 255, 0.6);
        }

        .empty-drinks i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: rgba(255, 255, 255, 0.3);
        }

        .nutrition-details {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .nutrition-details h3 {
            color: #ffd700;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .nutrition-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
        }

        .nutrition-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .nutrition-item:hover {
            transform: translateY(-3px);
        }

        .nutrition-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            margin-bottom: 8px;
        }

        .nutrition-value {
            color: #ffd700;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .safety-tips {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
        }

        .safety-tips h3 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .tips-content p {
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 15px;
        }

        .tips-content ul {
            list-style: none;
            padding: 0;
        }

        .tips-content li {
            color: rgba(255, 255, 255, 0.8);
            padding: 8px 0;
            padding-left: 20px;
            position: relative;
        }

        .tips-content li::before {
            content: '‚Ä¢';
            color: #ffd700;
            position: absolute;
            left: 0;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .welcome-title {
                font-size: 2rem;
            }
            
            .sidebar {
                width: 100%;
                right: -100%;
            }

            .dashboard-stats {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }

            .stat-card {
                padding: 15px;
            }

            .stat-value {
                font-size: 1.5rem;
            }

            .pinboard-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .pinboard-item {
                padding: 25px;
            }

            .pinboard-icon {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
            }

            /* Night Tracker Mobile */
            .session-controls {
                flex-direction: column;
                text-align: center;
            }

            .session-buttons {
                justify-content: center;
            }

            .summary-cards {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .summary-card {
                padding: 20px;
            }

            .card-content p {
                font-size: 1.5rem;
            }

            .add-drink-input {
                flex-direction: column;
            }

            .nutrition-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }

            .nutrition-item {
                padding: 15px;
            }

            .nutrition-value {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Welcome Page -->
    <div class="page welcome-page active" id="welcome-page">
        <div class="welcome-content">
            <h1 class="welcome-title">
                <i class="fas fa-chart-line"></i>
                Night Tracker
            </h1>
            <p style="font-size: 1.2rem; margin-bottom: 30px;">Track Your Drinks, Monitor Your BAC, Stay Safe</p>
            
            <p style="margin-bottom: 20px;">The ultimate tool for responsible drinking. Track your consumption, monitor your blood alcohol content, and stay informed about your health and safety.</p>
            
            <ul class="feature-list">
                <li><i class="fas fa-chart-line"></i> Real-time BAC monitoring</li>
                <li><i class="fas fa-plus-circle"></i> 80+ drinks including Australian beers</li>
                <li><i class="fas fa-shield-alt"></i> Safety tips and guidelines</li>
                <li><i class="fas fa-clock"></i> Session management</li>
                <li><i class="fas fa-fire"></i> Calorie and nutrition tracking</li>
                <li><i class="fas fa-brain"></i> Scientific BAC calculations</li>
            </ul>
            
            <p style="margin: 20px 0;">Created by <strong>Tim Scheepers</strong></p>
            
            <button class="btn primary-btn" id="start-btn">
                <i class="fas fa-play"></i>
                Start Night Tracker
            </button>
            
            <div class="secondary-actions">
                <button class="btn secondary-btn" onclick="showPage('main-app')">
                    <i class="fas fa-search"></i>
                    Browse Drinks
                </button>
                <button class="btn secondary-btn" onclick="showPage('dashboard-page')">
                    <i class="fas fa-tachometer-alt"></i>
                    Dashboard
                </button>
            </div>
        </div>
    </div>

    <!-- Menu Button -->
    <button class="menu-btn" id="menu-btn">
        <i class="fas fa-bars"></i>
    </button>
    
    <!-- Sidebar Menu -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3><i class="fas fa-wine-glass-alt"></i> Menu</h3>
            <button class="close-menu-btn" id="close-menu-btn">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="sidebar-content">
            <button class="sidebar-btn primary-sidebar-btn" id="sidebar-btn-tracking">
                <i class="fas fa-chart-line"></i>
                Night Tracker
            </button>
            <button class="sidebar-btn" id="sidebar-btn-dashboard">
                <i class="fas fa-tachometer-alt"></i>
                Dashboard
            </button>
            <button class="sidebar-btn" id="sidebar-btn-1">
                <i class="fas fa-search"></i>
                Browse Drinks
            </button>
            <button class="sidebar-btn" id="sidebar-btn-2">
                <i class="fas fa-star"></i>
                Favorites
            </button>
            <button class="sidebar-btn" id="sidebar-btn-3">
                <i class="fas fa-history"></i>
                History
            </button>
            <button class="sidebar-btn" id="sidebar-btn-4">
                <i class="fas fa-cog"></i>
                Settings
            </button>
            <button class="sidebar-btn" id="sidebar-btn-5">
                <i class="fas fa-info-circle"></i>
                About
            </button>
        </div>
    </div>
    
    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebar-overlay"></div>

    <!-- Main App -->
    <div class="page" id="main-app">
        <div class="container">
            <div class="header">
                <h1><i class="fas fa-search"></i> Browse Drinks</h1>
                <p>Search our database of 80+ drinks including Australian beers or upload a photo</p>
            </div>
            
            <div class="input-section">
                <div class="input-tabs">
                    <button class="tab-btn active" data-tab="search">
                        <i class="fas fa-search"></i>
                        <span>Search</span>
                    </button>
                    <button class="tab-btn" data-tab="photo">
                        <i class="fas fa-camera"></i>
                        <span>Photo</span>
                    </button>
                </div>
                
                <div class="tab-content active" id="search-tab">
                    <div class="input-group">
                        <label for="beverage-name">Search for a drink:</label>
                        <div class="input-wrapper">
                            <input type="text" id="beverage-name" placeholder="Enter drink name...">
                            <button class="search-btn" id="search-btn">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="photo-tab">
                    <div class="upload-area" id="upload-area">
                        <div class="upload-content">
                            <i class="fas fa-camera"></i>
                            <h3>Upload a Photo</h3>
                            <p>Take a photo or upload an image of a drink</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Night Tracker CTA -->
            <div class="night-tracker-cta">
                <div class="cta-content">
                    <h3><i class="fas fa-chart-line"></i> Ready to Track Your Night?</h3>
                    <p>Monitor your BAC, track calories, and stay safe with our comprehensive Night Tracker</p>
                    <button class="btn primary-btn" onclick="showPage('tracking-page')">
                        <i class="fas fa-play"></i> Start Night Tracker
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Other Pages -->
    <div class="page" id="favorites-page">
        <div class="container">
            <h2><i class="fas fa-star"></i> Favorites</h2>
            <div class="empty-state">
                <i class="fas fa-heart"></i>
                <h3>No Favorites Yet</h3>
                <p>Start exploring and add your favorite drinks!</p>
                <button class="btn" onclick="showPage('main-app')">Start Exploring</button>
            </div>
        </div>
    </div>

    <div class="page" id="history-page">
        <div class="container">
            <h2><i class="fas fa-history"></i> History</h2>
            <div class="empty-state">
                <i class="fas fa-history"></i>
                <h3>No Search History</h3>
                <p>Your search history will appear here</p>
            </div>
        </div>
    </div>

    <div class="page" id="tracking-page">
        <div class="container">
            <div class="header">
                <h1><i class="fas fa-chart-line"></i> Night Tracker</h1>
                <p>Monitor your BAC and track your drinking session</p>
            </div>
            
            <!-- Session Controls -->
            <div class="session-controls">
                <div class="session-info">
                    <h3><i class="fas fa-clock"></i> Session Status</h3>
                    <p id="session-status">No active session</p>
                </div>
                <div class="session-buttons">
                    <button class="session-btn start-session-btn" id="start-session-btn">
                        <i class="fas fa-play"></i> Start Session
                    </button>
                    <button class="session-btn end-session-btn" id="end-session-btn" style="display: none;">
                        <i class="fas fa-stop"></i> End Session
                    </button>
                    <button class="session-btn reset-session-btn" id="reset-session-btn">
                        <i class="fas fa-redo"></i> Reset
                    </button>
                </div>
            </div>
            
            <!-- Summary Cards -->
            <div class="summary-cards">
                <div class="summary-card alcohol-card">
                    <div class="card-icon">
                        <i class="fas fa-wine-glass-alt"></i>
                    </div>
                    <div class="card-content">
                        <h4>Total Alcohol</h4>
                        <p><span id="total-alcohol">0</span> <span class="unit">g</span></p>
                    </div>
                </div>
                <div class="summary-card calories-card">
                    <div class="card-icon">
                        <i class="fas fa-fire"></i>
                    </div>
                    <div class="card-content">
                        <h4>Total Calories</h4>
                        <p><span id="total-calories">0</span> <span class="unit">kcal</span></p>
                    </div>
                </div>
                <div class="summary-card sobriety-card">
                    <div class="card-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div class="card-content">
                        <h4>Estimated BAC</h4>
                        <p><span id="estimated-bac">0.000</span> <span class="unit">%</span></p>
                    </div>
                </div>
            </div>
            
            <!-- Add Drink Section -->
            <div class="add-drink-section">
                <h3><i class="fas fa-plus-circle"></i> Add Drink</h3>
                <div class="add-drink-input">
                    <input type="text" id="drink-search" placeholder="Search for a drink or scan barcode...">
                    <button class="add-drink-btn" id="add-drink-btn">
                        <i class="fas fa-plus"></i> Add
                    </button>
                </div>
                <div class="drink-suggestions" id="drink-suggestions"></div>
            </div>
            
            <!-- Drink List -->
            <div class="drink-list-section">
                <h3><i class="fas fa-list"></i> Tonight's Drinks</h3>
                <div class="drink-list" id="drink-list">
                    <div class="empty-drinks">
                        <i class="fas fa-glass-whiskey"></i>
                        <h4>No drinks added yet</h4>
                        <p>Start your session and add your first drink!</p>
                    </div>
                </div>
            </div>
            
            <!-- Nutrition Details -->
            <div class="nutrition-details">
                <h3><i class="fas fa-chart-pie"></i> Nutrition Breakdown</h3>
                <div class="nutrition-grid">
                    <div class="nutrition-item">
                        <div class="nutrition-label">Standards</div>
                        <div class="nutrition-value" id="total-standards">0</div>
                    </div>
                    <div class="nutrition-item">
                        <div class="nutrition-label">Carbs</div>
                        <div class="nutrition-value" id="total-carbs">0g</div>
                    </div>
                    <div class="nutrition-item">
                        <div class="nutrition-label">Sugar</div>
                        <div class="nutrition-value" id="total-sugar">0g</div>
                    </div>
                    <div class="nutrition-item">
                        <div class="nutrition-label">Protein</div>
                        <div class="nutrition-value" id="total-protein">0g</div>
                    </div>
                </div>
            </div>
            
            <!-- Safety Tips -->
            <div class="safety-tips">
                <h3><i class="fas fa-shield-alt"></i> Safety Tips</h3>
                <div class="tips-content">
                    <p>Remember to drink responsibly and never drink and drive.</p>
                    <ul>
                        <li>Pace yourself - aim for 1 drink per hour</li>
                        <li>Alternate with water</li>
                        <li>Eat before and during drinking</li>
                        <li>Know your limits</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Page -->
    <div class="page" id="dashboard-page">
        <div class="container">
            <div class="header">
                <h1><i class="fas fa-tachometer-alt"></i> Dashboard</h1>
                <p>Your BevyFinder Command Center</p>
            </div>
            
            <div class="dashboard-stats">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value">15</div>
                        <div class="stat-label">Searches</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value">8</div>
                        <div class="stat-label">Favorites</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-history"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value">12</div>
                        <div class="stat-label">History</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value">3</div>
                        <div class="stat-label">Sessions</div>
                    </div>
                </div>
            </div>
            
            <div class="pinboard-grid">
                <div class="pinboard-item" onclick="showPage('tracking-page')">
                    <div class="pinboard-icon premium">
                        <i class="fas fa-chart-line"></i>
                        <span class="premium-badge">Premium</span>
                    </div>
                    <h3>Night Tracker</h3>
                    <p>Monitor your BAC and track sessions</p>
                </div>
                
                <div class="pinboard-item" onclick="showPage('main-app')">
                    <div class="pinboard-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <h3>Browse Drinks</h3>
                    <p>Search our database of 80+ drinks</p>
                </div>
                
                <div class="pinboard-item" onclick="showPage('favorites-page')">
                    <div class="pinboard-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h3>My Favorites</h3>
                    <p>View and manage your saved drinks</p>
                </div>
                
                <div class="pinboard-item" onclick="showPage('history-page')">
                    <div class="pinboard-icon">
                        <i class="fas fa-history"></i>
                    </div>
                    <h3>Search History</h3>
                    <p>See your recent drink searches</p>
                </div>
                
                <div class="pinboard-item" onclick="alert('Profile - Coming Soon!')">
                    <div class="pinboard-icon">
                        <i class="fas fa-user"></i>
                    </div>
                    <h3>My Profile</h3>
                    <p>Manage your account and preferences</p>
                </div>
                
                <div class="pinboard-item" onclick="alert('Social - Coming Soon!')">
                    <div class="pinboard-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>Social Feed</h3>
                    <p>Connect with friends and share drinks</p>
                </div>
                
                <div class="pinboard-item" onclick="alert('Reviews - Coming Soon!')">
                    <div class="pinboard-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <h3>Reviews & Ratings</h3>
                    <p>Rate drinks and read reviews</p>
                </div>
                
                <div class="pinboard-item" onclick="alert('Settings - Coming Soon!')">
                    <div class="pinboard-icon">
                        <i class="fas fa-cog"></i>
                    </div>
                    <h3>Settings</h3>
                    <p>Customize your BevyFinder experience</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // üö® TEMPORARY AUTHENTICATION BYPASS - FOR TESTING ONLY üö®
        const TEMP_AUTH_BYPASS = true;
        const TEMP_USER = {
            id: 'temp-user-123',
            name: 'Test User',
            email: 'test@bevyfinder.com',
            age: 25,
            weight: 70,
            height: 175,
            gender: 'male',
            stats: {
                searches: 15,
                favorites: 8
            },
            profile: {
                preferences: {
                    favoriteDrinks: [],
                    searchHistory: []
                }
            }
        };

        // Mock authentication functions
        function isAuthenticated() {
            return TEMP_AUTH_BYPASS;
        }

        function getCurrentUser() {
            return TEMP_AUTH_BYPASS ? TEMP_USER : null;
        }

        console.log('üîì Authentication bypass enabled - all features available for testing');

        // Simple page management
        function showPage(pageId) {
            console.log('Showing page:', pageId);
            
            // Hide all pages completely
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => {
                page.classList.remove('active');
                page.style.display = 'none';
                page.style.visibility = 'hidden';
                console.log('Hiding page:', page.id);
            });
            
            // Show target page
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
                targetPage.style.display = 'block';
                targetPage.style.visibility = 'visible';
                console.log('‚úÖ Page shown:', pageId);
            } else {
                console.error('‚ùå Page not found:', pageId);
            }
        }

        // Menu functions
        function openMenu() {
            console.log('Opening menu...');
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebar-overlay');
            
            if (sidebar && overlay) {
                sidebar.classList.add('open');
                overlay.classList.add('active');
                console.log('‚úÖ Menu opened');
            }
        }

        function closeMenu() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebar-overlay');
            
            if (sidebar && overlay) {
                sidebar.classList.remove('open');
                overlay.classList.remove('active');
            }
        }

        function handleSidebarClick(buttonId) {
            console.log('Sidebar button clicked:', buttonId);
            closeMenu();
            
            switch(buttonId) {
                case 'sidebar-btn-1':
                    showPage('main-app');
                    break;
                case 'sidebar-btn-dashboard':
                    showPage('dashboard-page');
                    break;
                case 'sidebar-btn-2':
                    showPage('favorites-page');
                    break;
                case 'sidebar-btn-3':
                    showPage('history-page');
                    break;
                case 'sidebar-btn-tracking':
                    showPage('tracking-page');
                    break;
                case 'sidebar-btn-4':
                    alert('Settings - Coming Soon!');
                    break;
                case 'sidebar-btn-5':
                    alert('About - Coming Soon!');
                    break;
            }
        }

        // Tab switching
        function switchTab(tab) {
            console.log('Switching to tab:', tab);
            
            // Update tab buttons
            const tabBtns = document.querySelectorAll('.tab-btn');
            tabBtns.forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-tab') === tab) {
                    btn.classList.add('active');
                }
            });
            
            // Show/hide content
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => {
                content.classList.remove('active');
            });
            
            const targetContent = document.getElementById(`${tab}-tab`);
            if (targetContent) {
                targetContent.classList.add('active');
                console.log('‚úÖ Tab switched to:', tab);
            }
        }

        // Search function
        function searchBeverage() {
            const input = document.getElementById('beverage-name');
            const query = input.value.trim().toLowerCase();
            
            if (query) {
                console.log('Searching for:', query);
                
                // Search through all drinks in our database
                const matchingDrinks = Object.keys(drinkDatabase).filter(key => 
                    drinkDatabase[key].name.toLowerCase().includes(query) ||
                    key.toLowerCase().includes(query)
                );
                
                if (matchingDrinks.length > 0) {
                    const drinkList = matchingDrinks.map(key => {
                        const drink = drinkDatabase[key];
                        return `üç∫ ${drink.name}\n   ‚Ä¢ ${drink.alcohol}g alcohol ‚Ä¢ ${drink.calories} kcal ‚Ä¢ ${drink.standards} standards`;
                    }).join('\n\n');
                    
                    alert(`Found ${matchingDrinks.length} drink(s) matching "${query}":\n\n${drinkList}\n\nClick "Add to Night Tracker" to track this drink!`);
                } else {
                    alert(`No drinks found matching "${query}"\n\nTry searching for:\n‚Ä¢ Australian beers: carlton draught, victoria bitter, xxxx gold\n‚Ä¢ International beers: heineken, corona, budweiser\n‚Ä¢ Cocktails: margarita, mojito, martini\n‚Ä¢ Spirits: vodka, whiskey, gin\n‚Ä¢ Wines: red wine, champagne, prosecco`);
                }
            } else {
                alert('Please enter a drink name to search!');
            }
        }

        // Photo/Barcode scanning function
        function handlePhotoUpload() {
            console.log('Photo/Barcode scanning function called');
            
            // Simulate barcode scanning with a selection of popular drinks
            const popularDrinks = [
                'carlton_draught', 'victoria_bitter', 'x_gold', 'crown_lager',
                'coopers_pale_ale', 'little_creatures_pale_ale', 'balter_ipa',
                'vodka', 'whiskey', 'gin', 'rum', 'tequila',
                'margarita', 'mojito', 'martini', 'cosmopolitan'
            ];
            
            const randomDrink = popularDrinks[Math.floor(Math.random() * popularDrinks.length)];
            const drink = drinkDatabase[randomDrink];
            
            alert(`üì∏ Photo/Barcode Scanned Successfully!\n\nüç∫ Found: ${drink.name}\n   ‚Ä¢ ${drink.alcohol}g alcohol\n   ‚Ä¢ ${drink.calories} kcal\n   ‚Ä¢ ${drink.standards} standards\n\n‚úÖ Drink automatically added to your favorites!\n\nüí° Tip: Use the Night Tracker to monitor your consumption.`);
        }

        // Night Tracker Functions
        let sessionActive = false;
        let sessionStartTime = null;
        let drinks = [];
        let totalAlcohol = 0;
        let totalCalories = 0;
        let totalStandards = 0;
        let totalCarbs = 0;
        let totalSugar = 0;
        let totalProtein = 0;

        // Comprehensive drink database
        const drinkDatabase = {
            // Beers
            'heineken': {
                name: 'Heineken (330ml)',
                alcohol: 13.2,
                calories: 142,
                standards: 1.3,
                carbs: 11.4,
                sugar: 0,
                protein: 1.2
            },
            'corona': {
                name: 'Corona Extra (330ml)',
                alcohol: 13.2,
                calories: 148,
                standards: 1.3,
                carbs: 14.1,
                sugar: 0,
                protein: 1.2
            },
            'budweiser': {
                name: 'Budweiser (330ml)',
                alcohol: 13.2,
                calories: 145,
                standards: 1.3,
                carbs: 10.6,
                sugar: 0,
                protein: 1.1
            },
            'guinness': {
                name: 'Guinness Draught (330ml)',
                alcohol: 13.2,
                calories: 125,
                standards: 1.3,
                carbs: 10.1,
                sugar: 0,
                protein: 1.6
            },
            'stella': {
                name: 'Stella Artois (330ml)',
                alcohol: 13.2,
                calories: 150,
                standards: 1.3,
                carbs: 12.8,
                sugar: 0,
                protein: 1.2
            },
            'carlsberg': {
                name: 'Carlsberg (330ml)',
                alcohol: 13.2,
                calories: 140,
                standards: 1.3,
                carbs: 11.2,
                sugar: 0,
                protein: 1.1
            },
            'peroni': {
                name: 'Peroni Nastro Azzurro (330ml)',
                alcohol: 13.2,
                calories: 145,
                standards: 1.3,
                carbs: 12.1,
                sugar: 0,
                protein: 1.2
            },
            'fosters': {
                name: 'Fosters (330ml)',
                alcohol: 13.2,
                calories: 138,
                standards: 1.3,
                carbs: 10.8,
                sugar: 0,
                protein: 1.1
            },
            'coors': {
                name: 'Coors Light (330ml)',
                alcohol: 10.8,
                calories: 102,
                standards: 1.1,
                carbs: 5.0,
                sugar: 0,
                protein: 0.9
            },
            'miller': {
                name: 'Miller Lite (330ml)',
                alcohol: 10.8,
                calories: 96,
                standards: 1.1,
                carbs: 3.2,
                sugar: 0,
                protein: 0.9
            },
            'blue_moon': {
                name: 'Blue Moon (330ml)',
                alcohol: 13.2,
                calories: 164,
                standards: 1.3,
                carbs: 13.8,
                sugar: 0,
                protein: 1.4
            },
            'sierra_nevada': {
                name: 'Sierra Nevada Pale Ale (330ml)',
                alcohol: 15.6,
                calories: 175,
                standards: 1.6,
                carbs: 14.2,
                sugar: 0,
                protein: 1.8
            },
            'sam_adams': {
                name: 'Samuel Adams Boston Lager (330ml)',
                alcohol: 14.4,
                calories: 160,
                standards: 1.4,
                carbs: 13.2,
                sugar: 0,
                protein: 1.5
            },
            'ipa': {
                name: 'IPA (330ml)',
                alcohol: 16.8,
                calories: 180,
                standards: 1.7,
                carbs: 15.5,
                sugar: 0,
                protein: 1.9
            },
            'stout': {
                name: 'Stout (330ml)',
                alcohol: 14.4,
                calories: 170,
                standards: 1.4,
                carbs: 14.8,
                sugar: 0,
                protein: 1.7
            },
            'wheat_beer': {
                name: 'Wheat Beer (330ml)',
                alcohol: 13.2,
                calories: 155,
                standards: 1.3,
                carbs: 13.1,
                sugar: 0,
                protein: 1.4
            },

            // Wines
            'red_wine': {
                name: 'Red Wine (175ml)',
                alcohol: 16.8,
                calories: 125,
                standards: 1.7,
                carbs: 4,
                sugar: 1,
                protein: 0.1
            },
            'white_wine': {
                name: 'White Wine (175ml)',
                alcohol: 16.8,
                calories: 120,
                standards: 1.7,
                carbs: 3.8,
                sugar: 0.8,
                protein: 0.1
            },
            'rose_wine': {
                name: 'Ros√© Wine (175ml)',
                alcohol: 16.8,
                calories: 122,
                standards: 1.7,
                carbs: 3.9,
                sugar: 0.9,
                protein: 0.1
            },
            'champagne': {
                name: 'Champagne (175ml)',
                alcohol: 16.8,
                calories: 115,
                standards: 1.7,
                carbs: 3.2,
                sugar: 0.8,
                protein: 0.1
            },
            'prosecco': {
                name: 'Prosecco (175ml)',
                alcohol: 16.8,
                calories: 110,
                standards: 1.7,
                carbs: 3.0,
                sugar: 0.7,
                protein: 0.1
            },

            // Spirits (25ml shots)
            'vodka': {
                name: 'Vodka (25ml)',
                alcohol: 8,
                calories: 55,
                standards: 0.8,
                carbs: 0,
                sugar: 0,
                protein: 0
            },
            'whiskey': {
                name: 'Whiskey (25ml)',
                alcohol: 8,
                calories: 60,
                standards: 0.8,
                carbs: 0,
                sugar: 0,
                protein: 0
            },
            'gin': {
                name: 'Gin (25ml)',
                alcohol: 8,
                calories: 55,
                standards: 0.8,
                carbs: 0,
                sugar: 0,
                protein: 0
            },
            'rum': {
                name: 'Rum (25ml)',
                alcohol: 8,
                calories: 55,
                standards: 0.8,
                carbs: 0,
                sugar: 0,
                protein: 0
            },
            'tequila': {
                name: 'Tequila (25ml)',
                alcohol: 8,
                calories: 55,
                standards: 0.8,
                carbs: 0,
                sugar: 0,
                protein: 0
            },
            'brandy': {
                name: 'Brandy (25ml)',
                alcohol: 8,
                calories: 60,
                standards: 0.8,
                carbs: 0,
                sugar: 0,
                protein: 0
            },
            'cognac': {
                name: 'Cognac (25ml)',
                alcohol: 8,
                calories: 60,
                standards: 0.8,
                carbs: 0,
                sugar: 0,
                protein: 0
            },
            'scotch': {
                name: 'Scotch Whisky (25ml)',
                alcohol: 8,
                calories: 60,
                standards: 0.8,
                carbs: 0,
                sugar: 0,
                protein: 0
            },
            'bourbon': {
                name: 'Bourbon (25ml)',
                alcohol: 8,
                calories: 60,
                standards: 0.8,
                carbs: 0,
                sugar: 0,
                protein: 0
            },

            // Cocktails (standard servings)
            'margarita': {
                name: 'Margarita (200ml)',
                alcohol: 16,
                calories: 168,
                standards: 1.6,
                carbs: 8,
                sugar: 6,
                protein: 0
            },
            'mojito': {
                name: 'Mojito (200ml)',
                alcohol: 16,
                calories: 143,
                standards: 1.6,
                carbs: 12,
                sugar: 10,
                protein: 0
            },
            'daiquiri': {
                name: 'Daiquiri (150ml)',
                alcohol: 16,
                calories: 151,
                standards: 1.6,
                carbs: 8,
                sugar: 6,
                protein: 0
            },
            'pina_colada': {
                name: 'Pi√±a Colada (200ml)',
                alcohol: 16,
                calories: 245,
                standards: 1.6,
                carbs: 22,
                sugar: 18,
                protein: 0
            },
            'cosmopolitan': {
                name: 'Cosmopolitan (150ml)',
                alcohol: 16,
                calories: 146,
                standards: 1.6,
                carbs: 8,
                sugar: 6,
                protein: 0
            },
            'manhattan': {
                name: 'Manhattan (150ml)',
                alcohol: 16,
                calories: 164,
                standards: 1.6,
                carbs: 4,
                sugar: 2,
                protein: 0
            },
            'martini': {
                name: 'Martini (150ml)',
                alcohol: 16,
                calories: 124,
                standards: 1.6,
                carbs: 0,
                sugar: 0,
                protein: 0
            },
            'negroni': {
                name: 'Negroni (150ml)',
                alcohol: 16,
                calories: 140,
                standards: 1.6,
                carbs: 4,
                sugar: 2,
                protein: 0
            },
            'old_fashioned': {
                name: 'Old Fashioned (150ml)',
                alcohol: 16,
                calories: 154,
                standards: 1.6,
                carbs: 4,
                sugar: 2,
                protein: 0
            },
            'gin_tonic': {
                name: 'Gin & Tonic (200ml)',
                alcohol: 16,
                calories: 120,
                standards: 1.6,
                carbs: 8,
                sugar: 6,
                protein: 0
            },
            'rum_coke': {
                name: 'Rum & Coke (200ml)',
                alcohol: 16,
                calories: 185,
                standards: 1.6,
                carbs: 18,
                sugar: 16,
                protein: 0
            },
            'vodka_soda': {
                name: 'Vodka Soda (200ml)',
                alcohol: 16,
                calories: 96,
                standards: 1.6,
                carbs: 0,
                sugar: 0,
                protein: 0
            },
            'whiskey_sour': {
                name: 'Whiskey Sour (150ml)',
                alcohol: 16,
                calories: 160,
                standards: 1.6,
                carbs: 8,
                sugar: 6,
                protein: 0
            },
            'screwdriver': {
                name: 'Screwdriver (200ml)',
                alcohol: 16,
                calories: 180,
                standards: 1.6,
                carbs: 16,
                sugar: 14,
                protein: 0
            },
            'bloody_mary': {
                name: 'Bloody Mary (200ml)',
                alcohol: 16,
                calories: 120,
                standards: 1.6,
                carbs: 6,
                sugar: 4,
                protein: 1
            },
            'moscow_mule': {
                name: 'Moscow Mule (200ml)',
                alcohol: 16,
                calories: 150,
                standards: 1.6,
                carbs: 12,
                sugar: 10,
                protein: 0
            },
            'caipirinha': {
                name: 'Caipirinha (200ml)',
                alcohol: 16,
                calories: 180,
                standards: 1.6,
                carbs: 14,
                sugar: 12,
                protein: 0
            },
            'mint_julep': {
                name: 'Mint Julep (200ml)',
                alcohol: 16,
                calories: 165,
                standards: 1.6,
                carbs: 6,
                sugar: 4,
                protein: 0
            },
            'sangria': {
                name: 'Sangria (200ml)',
                alcohol: 16,
                calories: 180,
                standards: 1.6,
                carbs: 16,
                sugar: 14,
                protein: 0
            },
            'mimosa': {
                name: 'Mimosa (200ml)',
                alcohol: 16,
                calories: 140,
                standards: 1.6,
                carbs: 12,
                sugar: 10,
                protein: 0
            },
            'bellini': {
                name: 'Bellini (200ml)',
                alcohol: 16,
                calories: 150,
                standards: 1.6,
                carbs: 14,
                sugar: 12,
                protein: 0
            },
            'espresso_martini': {
                name: 'Espresso Martini (150ml)',
                alcohol: 16,
                calories: 180,
                standards: 1.6,
                carbs: 8,
                sugar: 6,
                protein: 0
            },
            'long_island': {
                name: 'Long Island Iced Tea (200ml)',
                alcohol: 24,
                calories: 220,
                standards: 2.4,
                carbs: 12,
                sugar: 10,
                protein: 0
            },
            'sex_on_beach': {
                name: 'Sex on the Beach (200ml)',
                alcohol: 16,
                calories: 200,
                standards: 1.6,
                carbs: 18,
                sugar: 16,
                protein: 0
            },
            'blue_lagoon': {
                name: 'Blue Lagoon (200ml)',
                alcohol: 16,
                calories: 160,
                standards: 1.6,
                carbs: 10,
                sugar: 8,
                protein: 0
            },
            'white_russian': {
                name: 'White Russian (200ml)',
                alcohol: 16,
                calories: 280,
                standards: 1.6,
                carbs: 12,
                sugar: 10,
                protein: 1
            },
            'black_russian': {
                name: 'Black Russian (150ml)',
                alcohol: 16,
                calories: 180,
                standards: 1.6,
                carbs: 4,
                sugar: 2,
                protein: 0
            },
            'kamikaze': {
                name: 'Kamikaze (100ml)',
                alcohol: 16,
                calories: 140,
                standards: 1.6,
                carbs: 8,
                sugar: 6,
                protein: 0
            },
            'b52': {
                name: 'B-52 (100ml)',
                alcohol: 16,
                calories: 200,
                standards: 1.6,
                carbs: 10,
                sugar: 8,
                protein: 0
            },
            'jagerbomb': {
                name: 'J√§gerbomb (200ml)',
                alcohol: 16,
                calories: 180,
                standards: 1.6,
                carbs: 16,
                sugar: 14,
                protein: 0
            },
            'fireball': {
                name: 'Fireball Shot (25ml)',
                alcohol: 8,
                calories: 80,
                standards: 0.8,
                carbs: 4,
                sugar: 3,
                protein: 0
            },
            'jager': {
                name: 'J√§germeister (25ml)',
                alcohol: 8,
                calories: 70,
                standards: 0.8,
                carbs: 2,
                sugar: 1,
                protein: 0
            },
            'baileys': {
                name: 'Baileys Irish Cream (25ml)',
                alcohol: 6,
                calories: 120,
                standards: 0.6,
                carbs: 8,
                sugar: 6,
                protein: 1
            },
            'kahlua': {
                name: 'Kahl√∫a (25ml)',
                alcohol: 6,
                calories: 90,
                standards: 0.6,
                carbs: 6,
                sugar: 5,
                protein: 0
            },
            'amaretto': {
                name: 'Amaretto (25ml)',
                alcohol: 6,
                calories: 85,
                standards: 0.6,
                carbs: 5,
                sugar: 4,
                protein: 0
            },
            'triple_sec': {
                name: 'Triple Sec (25ml)',
                alcohol: 6,
                calories: 80,
                standards: 0.6,
                carbs: 4,
                sugar: 3,
                protein: 0
            },

            // Australian Beers (375ml bottles unless specified)
            'carlton_draught': {
                name: 'Carlton Draught (375ml)',
                alcohol: 13.8,
                calories: 140,
                standards: 1.1,
                carbs: 12,
                sugar: 0,
                protein: 1.2
            },
            'victoria_bitter': {
                name: 'Victoria Bitter VB (375ml)',
                alcohol: 14.7,
                calories: 150,
                standards: 1.2,
                carbs: 13,
                sugar: 0,
                protein: 1.3
            },
            'x_gold': {
                name: 'XXXX Gold (375ml)',
                alcohol: 10.5,
                calories: 110,
                standards: 0.8,
                carbs: 9,
                sugar: 0,
                protein: 0.9
            },
            'crown_lager': {
                name: 'Crown Lager (375ml)',
                alcohol: 14.7,
                calories: 150,
                standards: 1.2,
                carbs: 13,
                sugar: 0,
                protein: 1.3
            },
            'cascade_premium': {
                name: 'Cascade Premium Lager (375ml)',
                alcohol: 14.4,
                calories: 145,
                standards: 1.1,
                carbs: 12.5,
                sugar: 0,
                protein: 1.2
            },
            'coopers_pale_ale': {
                name: 'Coopers Pale Ale (375ml)',
                alcohol: 13.5,
                calories: 140,
                standards: 1.1,
                carbs: 12,
                sugar: 0,
                protein: 1.2
            },
            'coopers_sparkling_ale': {
                name: 'Coopers Sparkling Ale (375ml)',
                alcohol: 17.4,
                calories: 175,
                standards: 1.4,
                carbs: 15,
                sugar: 0,
                protein: 1.5
            },
            'coopers_stout': {
                name: 'Coopers Best Extra Stout (375ml)',
                alcohol: 18.9,
                calories: 190,
                standards: 1.5,
                carbs: 16,
                sugar: 0,
                protein: 1.7
            },
            'little_creatures_pale_ale': {
                name: 'Little Creatures Pale Ale (330ml)',
                alcohol: 15.6,
                calories: 160,
                standards: 1.2,
                carbs: 13.5,
                sugar: 0,
                protein: 1.4
            },
            'little_creatures_bright_ale': {
                name: 'Little Creatures Bright Ale (330ml)',
                alcohol: 13.5,
                calories: 140,
                standards: 1.1,
                carbs: 12,
                sugar: 0,
                protein: 1.2
            },
            'stone_wood_pacific_ale': {
                name: 'Stone & Wood Pacific Ale (330ml)',
                alcohol: 13.2,
                calories: 135,
                standards: 1.0,
                carbs: 11.5,
                sugar: 0,
                protein: 1.1
            },
            'balter_xpa': {
                name: 'Balter XPA (330ml)',
                alcohol: 13.5,
                calories: 140,
                standards: 1.1,
                carbs: 12,
                sugar: 0,
                protein: 1.2
            },
            'balter_ipa': {
                name: 'Balter IPA (330ml)',
                alcohol: 18.6,
                calories: 185,
                standards: 1.5,
                carbs: 16,
                sugar: 0,
                protein: 1.7
            },
            '4_pines_pale_ale': {
                name: '4 Pines Pale Ale (330ml)',
                alcohol: 15.3,
                calories: 155,
                standards: 1.2,
                carbs: 13,
                sugar: 0,
                protein: 1.3
            },
            '4_pines_hefeweizen': {
                name: '4 Pines Hefeweizen (330ml)',
                alcohol: 15.0,
                calories: 150,
                standards: 1.2,
                carbs: 12.5,
                sugar: 0,
                protein: 1.3
            },
            'young_henrys_newtowner': {
                name: 'Young Henrys Newtowner (330ml)',
                alcohol: 14.4,
                calories: 145,
                standards: 1.1,
                carbs: 12.5,
                sugar: 0,
                protein: 1.2
            },
            'young_henrys_real_ale': {
                name: 'Young Henrys Real Ale (330ml)',
                alcohol: 12.0,
                calories: 120,
                standards: 1.0,
                carbs: 10,
                sugar: 0,
                protein: 1.0
            },
            'modus_operandi_former_tenant': {
                name: 'Modus Operandi Former Tenant (330ml)',
                alcohol: 19.5,
                calories: 195,
                standards: 1.6,
                carbs: 17,
                sugar: 0,
                protein: 1.8
            },
            'sierra_nevada_torpedo': {
                name: 'Sierra Nevada Torpedo (330ml)',
                alcohol: 19.5,
                calories: 195,
                standards: 1.6,
                carbs: 17,
                sugar: 0,
                protein: 1.8
            },
            'liberty_citra': {
                name: 'Liberty Citra (330ml)',
                alcohol: 15.0,
                calories: 150,
                standards: 1.2,
                carbs: 12.5,
                sugar: 0,
                protein: 1.3
            },
            'liberty_prohibition': {
                name: 'Liberty Prohibition (330ml)',
                alcohol: 15.0,
                calories: 150,
                standards: 1.2,
                carbs: 12.5,
                sugar: 0,
                protein: 1.3
            },
            'hallertau_maximus': {
                name: 'Hallertau Maximus (330ml)',
                alcohol: 21.0,
                calories: 210,
                standards: 1.7,
                carbs: 18,
                sugar: 0,
                protein: 2.0
            },
            'hallertau_luxury_bru': {
                name: 'Hallertau Luxury Bru (330ml)',
                alcohol: 15.0,
                calories: 150,
                standards: 1.2,
                carbs: 12.5,
                sugar: 0,
                protein: 1.3
            },
            'three_boys_wheat': {
                name: 'Three Boys Wheat (330ml)',
                alcohol: 15.0,
                calories: 150,
                standards: 1.2,
                carbs: 12.5,
                sugar: 0,
                protein: 1.3
            },
            'three_boys_pilsner': {
                name: 'Three Boys Pilsner (330ml)',
                alcohol: 13.5,
                calories: 140,
                standards: 1.1,
                carbs: 12,
                sugar: 0,
                protein: 1.2
            },
            'mikes_organic_ipa': {
                name: 'Mike\'s Organic IPA (330ml)',
                alcohol: 19.5,
                calories: 195,
                standards: 1.6,
                carbs: 17,
                sugar: 0,
                protein: 1.8
            },
            'mikes_organic_lager': {
                name: 'Mike\'s Organic Lager (330ml)',
                alcohol: 13.5,
                calories: 140,
                standards: 1.1,
                carbs: 12,
                sugar: 0,
                protein: 1.2
            }
        };

        function startSession() {
            sessionActive = true;
            sessionStartTime = new Date();
            document.getElementById('session-status').textContent = 'Session active - Started at ' + sessionStartTime.toLocaleTimeString();
            document.getElementById('start-session-btn').style.display = 'none';
            document.getElementById('end-session-btn').style.display = 'inline-flex';
            console.log('Session started');
        }

        function endSession() {
            sessionActive = false;
            document.getElementById('session-status').textContent = 'Session ended';
            document.getElementById('start-session-btn').style.display = 'inline-flex';
            document.getElementById('end-session-btn').style.display = 'none';
            
            // Show session summary popup
            showSessionSummary();
            
            console.log('Session ended');
        }

        function resetSession() {
            sessionActive = false;
            sessionStartTime = null;
            drinks = [];
            totalAlcohol = 0;
            totalCalories = 0;
            totalStandards = 0;
            totalCarbs = 0;
            totalSugar = 0;
            totalProtein = 0;
            
            document.getElementById('session-status').textContent = 'No active session';
            document.getElementById('start-session-btn').style.display = 'inline-flex';
            document.getElementById('end-session-btn').style.display = 'none';
            document.getElementById('total-alcohol').textContent = '0';
            document.getElementById('total-calories').textContent = '0';
            document.getElementById('total-standards').textContent = '0';
            document.getElementById('total-carbs').textContent = '0g';
            document.getElementById('total-sugar').textContent = '0g';
            document.getElementById('total-protein').textContent = '0g';
            document.getElementById('estimated-bac').textContent = '0.000';
            
            updateDrinkList();
            console.log('Session reset');
        }

        function addDrink(drinkType) {
            if (!sessionActive) {
                alert('Please start a session first!');
                return;
            }

            const drink = drinkDatabase[drinkType];
            if (drink) {
                const drinkEntry = {
                    ...drink,
                    time: new Date(),
                    id: Date.now()
                };
                
                drinks.push(drinkEntry);
                totalAlcohol += drink.alcohol;
                totalCalories += drink.calories;
                totalStandards += drink.standards;
                totalCarbs += drink.carbs;
                totalSugar += drink.sugar;
                totalProtein += drink.protein;
                
                updateDisplay();
                updateDrinkList();
                console.log('Drink added:', drink.name);
            }
        }

        function removeDrink(drinkId) {
            const drinkIndex = drinks.findIndex(d => d.id === drinkId);
            if (drinkIndex !== -1) {
                const drink = drinks[drinkIndex];
                totalAlcohol -= drink.alcohol;
                totalCalories -= drink.calories;
                totalStandards -= drink.standards;
                totalCarbs -= drink.carbs;
                totalSugar -= drink.sugar;
                totalProtein -= drink.protein;
                
                drinks.splice(drinkIndex, 1);
                updateDisplay();
                updateDrinkList();
                console.log('Drink removed');
            }
        }

        function updateDisplay() {
            document.getElementById('total-alcohol').textContent = totalAlcohol.toFixed(1);
            document.getElementById('total-calories').textContent = totalCalories.toFixed(0);
            document.getElementById('total-standards').textContent = totalStandards.toFixed(1);
            document.getElementById('total-carbs').textContent = totalCarbs.toFixed(1) + 'g';
            document.getElementById('total-sugar').textContent = totalSugar.toFixed(1) + 'g';
            document.getElementById('total-protein').textContent = totalProtein.toFixed(1) + 'g';
            
            // Calculate estimated BAC (simplified formula)
            const estimatedBAC = calculateBAC();
            document.getElementById('estimated-bac').textContent = estimatedBAC.toFixed(3);
        }

        function calculateBAC() {
            if (!sessionActive || drinks.length === 0) return 0;
            
            const userWeight = 70; // kg (from TEMP_USER)
            const userGender = 'male'; // from TEMP_USER
            const genderFactor = userGender === 'male' ? 0.68 : 0.55;
            
            // Simplified Widmark formula
            const totalAlcoholGrams = totalAlcohol;
            const timeElapsed = (new Date() - sessionStartTime) / (1000 * 60 * 60); // hours
            const metabolismRate = 0.015; // per hour
            
            const bac = (totalAlcoholGrams / (userWeight * genderFactor)) - (metabolismRate * timeElapsed);
            return Math.max(0, bac);
        }

        function updateDrinkList() {
            const drinkList = document.getElementById('drink-list');
            
            if (drinks.length === 0) {
                drinkList.innerHTML = `
                    <div class="empty-drinks">
                        <i class="fas fa-glass-whiskey"></i>
                        <h4>No drinks added yet</h4>
                        <p>Start your session and add your first drink!</p>
                    </div>
                `;
            } else {
                drinkList.innerHTML = drinks.map(drink => `
                    <div class="drink-item">
                        <div class="drink-info">
                            <div class="drink-name">${drink.name}</div>
                            <div class="drink-details">
                                ${drink.alcohol}g alcohol ‚Ä¢ ${drink.calories} kcal ‚Ä¢ ${drink.standards} standards
                            </div>
                            <div class="drink-time">${drink.time.toLocaleTimeString()}</div>
                        </div>
                        <button class="drink-remove" onclick="removeDrink(${drink.id})">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                `).join('');
            }
        }

        function showDrinkSuggestions(query) {
            const suggestions = document.getElementById('drink-suggestions');
            const matchingDrinks = Object.keys(drinkDatabase).filter(key => 
                drinkDatabase[key].name.toLowerCase().includes(query.toLowerCase())
            );
            
            if (query.length > 0 && matchingDrinks.length > 0) {
                suggestions.innerHTML = matchingDrinks.map(key => `
                    <div class="drink-suggestion" onclick="addDrink('${key}'); document.getElementById('drink-search').value = ''; suggestions.innerHTML = '';">
                        ${drinkDatabase[key].name}
                    </div>
                `).join('');
            } else {
                suggestions.innerHTML = '';
            }
        }

        function showSessionSummary() {
            const sessionDuration = sessionStartTime ? Math.round((new Date() - sessionStartTime) / (1000 * 60)) : 0; // minutes
            const finalBAC = calculateBAC();
            const drinkCount = drinks.length;
            
            // Calculate drink types
            const drinkTypes = {};
            drinks.forEach(drink => {
                const type = drink.name.includes('Beer') ? 'Beer' : 
                           drink.name.includes('Wine') ? 'Wine' : 
                           drink.name.includes('ml)') ? 'Spirits' : 'Cocktails';
                drinkTypes[type] = (drinkTypes[type] || 0) + 1;
            });
            
            const drinkTypeBreakdown = Object.entries(drinkTypes)
                .map(([type, count]) => `${count} ${type}${count > 1 ? 's' : ''}`)
                .join(', ');
            
            // Create summary HTML
            const summaryHTML = `
                <div class="session-summary-overlay" id="session-summary-overlay">
                    <div class="session-summary-popup">
                        <div class="summary-header">
                            <h2><i class="fas fa-chart-line"></i> Session Summary</h2>
                            <button class="close-summary-btn" onclick="closeSessionSummary()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        
                        <div class="summary-stats">
                            <div class="summary-stat">
                                <div class="stat-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div class="stat-content">
                                    <h3>Session Duration</h3>
                                    <p>${sessionDuration} minutes</p>
                                </div>
                            </div>
                            
                            <div class="summary-stat">
                                <div class="stat-icon">
                                    <i class="fas fa-glass-whiskey"></i>
                                </div>
                                <div class="stat-content">
                                    <h3>Total Drinks</h3>
                                    <p>${drinkCount} drinks</p>
                                    <small>${drinkTypeBreakdown}</small>
                                </div>
                            </div>
                            
                            <div class="summary-stat">
                                <div class="stat-icon">
                                    <i class="fas fa-wine-glass-alt"></i>
                                </div>
                                <div class="stat-content">
                                    <h3>Total Alcohol</h3>
                                    <p>${totalAlcohol.toFixed(1)}g</p>
                                </div>
                            </div>
                            
                            <div class="summary-stat">
                                <div class="stat-icon">
                                    <i class="fas fa-chart-bar"></i>
                                </div>
                                <div class="stat-content">
                                    <h3>Standard Drinks</h3>
                                    <p>${totalStandards.toFixed(1)} standards</p>
                                </div>
                            </div>
                            
                            <div class="summary-stat">
                                <div class="stat-icon">
                                    <i class="fas fa-fire"></i>
                                </div>
                                <div class="stat-content">
                                    <h3>Total Calories</h3>
                                    <p>${totalCalories.toFixed(0)} kcal</p>
                                </div>
                            </div>
                            
                            <div class="summary-stat">
                                <div class="stat-icon">
                                    <i class="fas fa-bread-slice"></i>
                                </div>
                                <div class="stat-content">
                                    <h3>Total Carbs</h3>
                                    <p>${totalCarbs.toFixed(1)}g</p>
                                </div>
                            </div>
                            
                            <div class="summary-stat">
                                <div class="stat-icon">
                                    <i class="fas fa-brain"></i>
                                </div>
                                <div class="stat-content">
                                    <h3>Final BAC</h3>
                                    <p>${finalBAC.toFixed(3)}%</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="summary-drinks">
                            <h3><i class="fas fa-list"></i> Drinks Consumed</h3>
                            <div class="drinks-list">
                                ${drinks.map(drink => `
                                    <div class="summary-drink-item">
                                        <div class="drink-info">
                                            <span class="drink-name">${drink.name}</span>
                                            <span class="drink-time">${drink.time.toLocaleTimeString()}</span>
                                        </div>
                                        <div class="drink-stats">
                                            <span class="drink-alcohol">${drink.alcohol}g</span>
                                            <span class="drink-calories">${drink.calories} kcal</span>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        
                        <div class="summary-safety">
                            <h3><i class="fas fa-shield-alt"></i> Safety Assessment</h3>
                            ${finalBAC > 0.08 ? 
                                '<p class="safety-warning">‚ö†Ô∏è Your BAC is above the legal driving limit. Please do not drive.</p>' :
                                finalBAC > 0.05 ? 
                                '<p class="safety-caution">‚ö†Ô∏è Your BAC is above 0.05%. Consider waiting before driving.</p>' :
                                '<p class="safety-ok">‚úÖ Your BAC is within safe limits.</p>'
                            }
                            <p class="safety-tip">Remember: It takes approximately 1 hour to metabolize 1 standard drink.</p>
                        </div>
                        
                        <div class="summary-actions">
                            <button class="btn secondary-btn" onclick="closeSessionSummary()">
                                <i class="fas fa-check"></i> Got it
                            </button>
                            <button class="btn primary-btn" onclick="resetSession(); closeSessionSummary()">
                                <i class="fas fa-redo"></i> Start New Session
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            // Add to page and show
            document.body.insertAdjacentHTML('beforeend', summaryHTML);
            
            // Add fade-in animation
            setTimeout(() => {
                document.getElementById('session-summary-overlay').classList.add('show');
            }, 10);
        }

        function closeSessionSummary() {
            const overlay = document.getElementById('session-summary-overlay');
            if (overlay) {
                overlay.classList.remove('show');
                setTimeout(() => {
                    overlay.remove();
                }, 300);
            }
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Page loaded - initializing...');
            
            // Start button
            const startBtn = document.getElementById('start-btn');
            if (startBtn) {
                startBtn.addEventListener('click', function() {
                    console.log('üöÄ Start button clicked!');
                    showPage('tracking-page');
                });
            }
            
            // Menu button
            const menuBtn = document.getElementById('menu-btn');
            if (menuBtn) {
                menuBtn.addEventListener('click', openMenu);
            }
            
            // Close menu button
            const closeMenuBtn = document.getElementById('close-menu-btn');
            if (closeMenuBtn) {
                closeMenuBtn.addEventListener('click', closeMenu);
            }
            
            // Sidebar overlay
            const sidebarOverlay = document.getElementById('sidebar-overlay');
            if (sidebarOverlay) {
                sidebarOverlay.addEventListener('click', closeMenu);
            }
            
            // Sidebar buttons
            const sidebarBtns = document.querySelectorAll('.sidebar-btn');
            sidebarBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    handleSidebarClick(btn.id);
                });
            });
            
            // Tab buttons
            const tabBtns = document.querySelectorAll('.tab-btn');
            tabBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const tab = btn.getAttribute('data-tab');
                    switchTab(tab);
                });
            });
            
            // Search button
            const searchBtn = document.getElementById('search-btn');
            if (searchBtn) {
                searchBtn.addEventListener('click', searchBeverage);
            }
            
            // Search input
            const searchInput = document.getElementById('beverage-name');
            if (searchInput) {
                searchInput.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter') {
                        searchBeverage();
                    }
                });
                
                // Show popular drinks when input is focused
                searchInput.addEventListener('focus', function() {
                    const popularDrinks = [
                        'carlton_draught', 'victoria_bitter', 'x_gold', 'crown_lager',
                        'coopers_pale_ale', 'little_creatures_pale_ale', 'balter_ipa',
                        'vodka', 'whiskey', 'gin', 'rum', 'tequila',
                        'margarita', 'mojito', 'martini', 'cosmopolitan'
                    ];
                    
                    const suggestions = popularDrinks.map(key => drinkDatabase[key].name).join(', ');
                    searchInput.placeholder = `Try: ${suggestions}`;
                });
                
                searchInput.addEventListener('blur', function() {
                    searchInput.placeholder = 'Enter beverage name...';
                });
            }
            
            // Night Tracker Event Listeners
            const startSessionBtn = document.getElementById('start-session-btn');
            if (startSessionBtn) {
                startSessionBtn.addEventListener('click', startSession);
            }
            
            const endSessionBtn = document.getElementById('end-session-btn');
            if (endSessionBtn) {
                endSessionBtn.addEventListener('click', endSession);
            }
            
            const resetSessionBtn = document.getElementById('reset-session-btn');
            if (resetSessionBtn) {
                resetSessionBtn.addEventListener('click', resetSession);
            }
            
            const drinkSearch = document.getElementById('drink-search');
            if (drinkSearch) {
                drinkSearch.addEventListener('input', function(e) {
                    showDrinkSuggestions(e.target.value);
                });
                
                drinkSearch.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter') {
                        const query = e.target.value.toLowerCase();
                        const matchingDrinks = Object.keys(drinkDatabase).filter(key => 
                            drinkDatabase[key].name.toLowerCase().includes(query)
                        );
                        if (matchingDrinks.length > 0) {
                            addDrink(matchingDrinks[0]);
                            e.target.value = '';
                            document.getElementById('drink-suggestions').innerHTML = '';
                        }
                    }
                });
            }
            
            const addDrinkBtn = document.getElementById('add-drink-btn');
            if (addDrinkBtn) {
                addDrinkBtn.addEventListener('click', function() {
                    const query = drinkSearch.value.toLowerCase();
                    const matchingDrinks = Object.keys(drinkDatabase).filter(key => 
                        drinkDatabase[key].name.toLowerCase().includes(query)
                    );
                    if (matchingDrinks.length > 0) {
                        addDrink(matchingDrinks[0]);
                        drinkSearch.value = '';
                        document.getElementById('drink-suggestions').innerHTML = '';
                    }
                });
            }
            
            // Photo upload event listener
            const uploadArea = document.getElementById('upload-area');
            if (uploadArea) {
                uploadArea.addEventListener('click', handlePhotoUpload);
            }
            
            console.log('‚úÖ All event listeners set up successfully!');
            console.log('Current page:', document.querySelector('.page.active').id);
        });
    </script>
</body>
</html> 